# ä» v1.10 å‡çº§åˆ° v1.11

[[toc]]

## v1.11.3

### Bug ä¿®å¤ ğŸ›

- [Schedule ä¸­ panic å¯¼è‡´è¿›ç¨‹ä¸­æ–­çš„é—®é¢˜](#schedule-ä¸­-panic-å¯¼è‡´è¿›ç¨‹ä¸­æ–­çš„é—®é¢˜)
- [Schedule ä¸­ DailyAt æ¯åˆ†é’Ÿéƒ½ä¼šæ‰§è¡Œçš„é—®é¢˜](#schedule-ä¸­-dailyat-æ¯åˆ†é’Ÿéƒ½ä¼šæ‰§è¡Œçš„é—®é¢˜)

## v1.11.2

### Bug ä¿®å¤ ğŸ›

- [åŒæ—¶ä½¿ç”¨ Request.Input() ä¸ Request.Bind() æ•°æ®é”™è¯¯çš„é—®é¢˜](#åŒæ—¶ä½¿ç”¨-request-input\(\)-ä¸-request-bind\(\)-æ–¹æ³•æ•°æ®é”™è¯¯çš„é—®é¢˜)

## v1.11.1

### ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½ ğŸ‰

- [Route æ–°å¢èµ„æºè·¯ç”±](#route-æ–°å¢èµ„æºè·¯ç”±)
- [Request æ–°å¢æ–¹æ³•](#request-æ–°å¢æ–¹æ³•)
- [Storage æ–°å¢æ–¹æ³•](#storage-æ–°å¢æ–¹æ³•)
- [File æ–°å¢æ–¹æ³•](#file-æ–°å¢æ–¹æ³•)

### Bug ä¿®å¤ ğŸ›

- [ä¿®å¤æ–‡ä»¶å‚¨å­˜ windows è·¯å¾„é”™è¯¯çš„é—®é¢˜](#ä¿®å¤æ–‡ä»¶å‚¨å­˜-windows-è·¯å¾„é”™è¯¯çš„é—®é¢˜)
- [ä¿®å¤ Request æ¨¡å— Header panic é—®é¢˜](#ä¿®å¤-request-æ¨¡å—-header-panic-é—®é¢˜)

## v1.11.0

## ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½ ğŸ‰

- [Orm æ–°å¢æ¨¡å‹äº‹ä»¶(1.11.0)](#orm-æ–°å¢æ¨¡å‹äº‹ä»¶)

## åŠŸèƒ½å¢å¼º ğŸš€

- [Cache æ–°å¢ã€ä¼˜åŒ–æ–¹æ³•(1.11.0)](#cache-æ–°å¢ã€ä¼˜åŒ–æ–¹æ³•)
- [Route æ”¯æŒ Fallback è·¯ç”±(1.11.0)](#route-æ”¯æŒ-fallback-è·¯ç”±)
- [Orm æ–°å¢æ–¹æ³•(1.11.0)](#orm-æ–°å¢æ–¹æ³•)
- [ä¼˜åŒ– facades.Config.Add() æ–¹æ³•(1.11.0)](#ä¼˜åŒ–-facades-config-add-æ–¹æ³•)
- [ä¿®æ”¹ Sqlite é©±åŠ¨(1.11.0)](#ä¿®æ”¹-sqlite-é©±åŠ¨)
- [contracts/http å¢åŠ  net/http çš„ Method æ˜ å°„(1.11.0)](#contracts-http-å¢åŠ -net-http-çš„-method-æ˜ å°„)

### ç ´åæ€§å˜åŒ– ğŸ› 

- [Orm ä¼˜åŒ–ã€ç§»é™¤æ–¹æ³•(1.11.0)](#_2-ä¼˜åŒ–ã€ç§»é™¤åºŸå¼ƒçš„æ–¹æ³•)

### Bug ä¿®å¤ ğŸ›

- Hash é…ç½®åœ¨æŸç§æƒ…å†µä¸‹ä¸ç”Ÿæ•ˆçš„é—®é¢˜(1.11.0)
- RateLimiter éçº¿ç¨‹å®‰å…¨çš„é—®é¢˜(1.11.0)

## å‡çº§æŒ‡å—

è¯·æ ¹æ®æœ¬èŠ‚å†…å®¹ï¼Œä¸€æ­¥æ­¥è¿›è¡Œæ¡†æ¶å‡çº§ã€‚

**é¢„è®¡å‡çº§æ—¶é—´ï¼š1 åˆ†é’Ÿ**

### æ›´æ–°ä¾èµ–

`go.mod` ä¸­æ›´æ–°ä¾èµ–ï¼š

```
go get -u github.com/goravel/framework@v1.11.0 && go mod tidy
```

```
go get -u github.com/goravel/framework@v1.11.0 && go mod tidy
```

### 2. ä¼˜åŒ–ã€ç§»é™¤åºŸå¼ƒçš„æ–¹æ³•

```
import (
  "github.com/goravel/framework/database"
  "github.com/goravel/framework/database/gorm"
)

// åºŸå¼ƒ
database.NewGormInstance()
// æ›¿æ¢ä¸ºï¼ˆæ³¨ï¼šè¯¥æ–¹æ³•æœªæ¨èä½¿ç”¨ï¼Œè¯·å°½é‡ä¸ç”¨ï¼‰
gorm.New()

// åºŸå¼ƒ
facades.Orm.Query().Updates()
// æ›¿æ¢ä¸º(åªä¿®æ”¹æ–¹æ³•åå³å¯ï¼Œæ— éœ€ä¿®æ”¹å‚æ•°)
facades.Orm.Query().Update()

// Update æ–¹æ³•ä¿®æ”¹è¿”å›å€¼
// ä¿®æ”¹å‰
err := facades.Orm.Query().Update()
// ä¿®æ”¹å
res, err := facades.Orm.Query().Update()
```

## æ–°å¢å†…å®¹

æœ¬èŠ‚å†…å®¹ä¸æ¶‰åŠåˆ°ä»£ç ä¿®æ”¹ï¼Œåªæ˜¯åŠŸèƒ½å¢å¼ºã€‚

### Orm æ–°å¢æ¨¡å‹äº‹ä»¶

ç‰ˆæœ¬ï¼šv1.10.1

Orm æ¨¡å‹è§¦å‘å‡ ä¸ªäº‹ä»¶ï¼Œå…è®¸ä½ æŒ‚æ¥åˆ°æ¨¡å‹ç”Ÿå‘½å‘¨æœŸçš„å¦‚ä¸‹èŠ‚ç‚¹ï¼š`Retrieved`ã€`Creating`ã€`Created`ã€`Updating`ã€`Updated`ã€`Saving`ã€`Saved`ã€`Deleting`ã€`Deleted`ã€`ForceDeleting`ã€`ForceDeleted`ã€‚

[è¯¦è§æ–‡æ¡£](../orm/getting-started.md#events)

### Cache æ–°å¢ã€ä¼˜åŒ–æ–¹æ³•

ç‰ˆæœ¬ï¼šv1.10.1

#### æ–°å¢æ–¹æ³•

| æ–¹æ³•å       | ä½œç”¨                                             |
| --------- | ---------------------------------------------- |
| Decrement | [é€’å‡å€¼](../digging-deeper/cache.md#é€’å¢--é€’å‡å€¼)      |
| Increment | [é€’å¢å€¼](../digging-deeper/cache.md#é€’å¢--é€’å‡å€¼)      |
| Lock      | [åŸå­é”](../digging-deeper/cache.md#åŸå­é”)          |
| Store     | [è®¿é—®å¤šä¸ªç¼“å­˜å­˜å‚¨](../digging-deeper/cache.md#å¯ç”¨çš„ç¼“å­˜é©±åŠ¨) |

#### ä¼˜åŒ–æ–¹æ³•

`Get`, `GetBool`, `GetInt`, `GetInt64`, `GetString`, `Pull` æ–¹æ³•ä¸å†éœ€è¦ä¼ é€’é»˜è®¤å€¼ï¼ˆå‘ä¸‹å…¼å®¹ï¼‰ã€‚

### Route æ”¯æŒ Fallback è·¯ç”±

ç‰ˆæœ¬ï¼šv1.10.1

æ‚¨å¯ä»¥å®šä¹‰ä¸€ä¸ªåœ¨æ²¡æœ‰å…¶ä»–è·¯ç”±åŒ¹é…ä¼ å…¥è¯·æ±‚æ—¶å°†æ‰§è¡Œçš„è·¯ç”±ã€‚

```go
facades.Route.Fallback(func(ctx http.Context) http.Response {
  return ctx.Response().String(404, "not found")
})
```

### Orm æ–°å¢æ–¹æ³•

ç‰ˆæœ¬ï¼šv1.10.1

| æ–¹æ³•å                    | ä½œç”¨                                       |
| ---------------------- | ---------------------------------------- |
| db.Raw | [åŸç”Ÿè¡¨è¾¾å¼](../orm/getting-started.md#åŸç”Ÿè¡¨è¾¾å¼) |
| LockForUpdate          | [æ‚²è§‚é”](../orm/getting-started.md#æ‚²è§‚é”)     |
| SharedLock             | [æ‚²è§‚é”](../orm/getting-started.md#æ‚²è§‚é”)     |

### ä¼˜åŒ– facades.Config.Add() æ–¹æ³•

Version: v1.11.0

`facades.Config.Add()` æ–¹æ³• `configuration` å‚æ•°ç”± `map[string]any` ä¿®æ”¹ä¸º `any`ï¼Œä½¿è®¾ç½®æ›´çµæ´»ã€‚

[æŸ¥çœ‹æ–‡æ¡£](../getting-started/configuration.md#è®¾ç½®é…ç½®å€¼)

### ä¿®æ”¹ Sqlite é©±åŠ¨

å› ä¸º `github.com/mattn/go-sqlite3` è¦æ±‚å¿…é¡»å¯åŠ¨ `CGO`ï¼Œå› æ­¤æ›¿æ¢äº†ä¸€ä¸ªä¸å¼ºåˆ¶è¦æ±‚ `CGO` çš„ç¬¬ä¸‰æ–¹åŒ…ï¼š`github.com/glebarez/go-sqlite`ã€‚

### contracts/http å¢åŠ  net/http çš„ Method æ˜ å°„

Version: v1.11.0

å¯ä»¥åœ¨ controller ä¸­ç›´æ¥ä½¿ç”¨ `http.MethodGet` ç­‰ï¼Œè€Œä¸éœ€è¦å†å¯¼å…¥ `net/http`ã€‚

[è¯¦è§æ–‡ä»¶](https://github.com/goravel/framework/blob/v1.11.0/contracts/http/method.go)

### Route æ–°å¢èµ„æºè·¯ç”±

Version: v1.11.1

```go
facades.Route.Resource("/resource", resourceController)
```

[For Detail](../the-basics/routing.md#èµ„æºè·¯ç”±)

### Request æ–°å¢æ–¹æ³•

Version: v1.11.1

| æ–¹æ³•å     | ä½œç”¨                                              |
| ------- | ----------------------------------------------- |
| All     | [è·å–æ‰€æœ‰è¾“å…¥æ•°æ®](../the-basics/request.md#è·å–æ‰€æœ‰è¾“å…¥æ•°æ®)   |
| Host    | [è·å–è¯·æ±‚ Host](../the-basics/request.md#è·å–è¯·æ±‚-host) |
| Queries | [è·å–æ‰€æœ‰æŸ¥è¯¢å­—ç¬¦ä¸²](../the-basics/request.md#è·å–è·¯ç”±ä¼ å…¥çš„å‚æ•°) |

å³å°†åºŸå¼ƒ `Form`, `Json` æ–¹æ³•ï¼Œè¯·æ›¿æ¢ä¸º `Input`ã€‚

### Storage æ–°å¢æ–¹æ³•

Version: v1.11.1

| æ–¹æ³•å          | ä½œç”¨                                                           |
| ------------ | ------------------------------------------------------------ |
| LastModified | [è·å–æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´](../digging-deeper/filesystem.md#æ–‡ä»¶-Metadata-ä¿¡æ¯) |
| MimeType     | [è·å–æ–‡ä»¶ç±»å‹](../digging-deeper/filesystem.md#æ–‡ä»¶-Metadata-ä¿¡æ¯)     |

### File æ–°å¢æ–¹æ³•

Version: v1.11.1

| æ–¹æ³•å          | ä½œç”¨                                                           |
| ------------ | ------------------------------------------------------------ |
| LastModified | [è·å–æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´](../digging-deeper/filesystem.md#æ–‡ä»¶-Metadata-ä¿¡æ¯) |
| MimeType     | [è·å–æ–‡ä»¶ç±»å‹](../digging-deeper/filesystem.md#æ–‡ä»¶-Metadata-ä¿¡æ¯)     |
| Size         | [è·å–æ–‡ä»¶å¤§å°](../digging-deeper/filesystem.md#æ–‡ä»¶-Metadata-ä¿¡æ¯)     |

### ä¿®å¤æ–‡ä»¶å‚¨å­˜ windows è·¯å¾„é”™è¯¯çš„é—®é¢˜

Version: v1.11.1

Windows ç³»ç»Ÿä¸­å­˜åœ¨é”™è¯¯çš„æ–œæ ã€‚

### ä¿®å¤ Request æ¨¡å— Header panic é—®é¢˜

Version: v1.11.1

`ctx.Request().Header( key: "token")` å°†ä¼š panicã€‚

### åŒæ—¶ä½¿ç”¨ Request.Input() ä¸ Request.Bind() æ–¹æ³•æ•°æ®é”™è¯¯çš„é—®é¢˜

Version: v1.11.2

ç”±äºä½¿ç”¨ `Request.Input()` æ–¹æ³•ä¼šæ¸…ç©º `Request.Body`ï¼Œä¹‹åå†ä½¿ç”¨ `Request.Bind()`ï¼Œå°†æ— æ³•æ­£ç¡®è·å–åˆ°æ•°æ®ã€‚

### Schedule ä¸­ panic å¯¼è‡´è¿›ç¨‹ä¸­æ–­çš„é—®é¢˜

Version: v1.11.3

å½“ Schedule ä¸­å‡ºç° panicï¼Œä¼šå¯¼è‡´è¿›ç¨‹ä¸­æ–­ï¼Œå½±å“æ‰€æœ‰å®šæ—¶ä»»åŠ¡ã€‚

### Schedule ä¸­ DailyAt æ¯åˆ†é’Ÿéƒ½ä¼šæ‰§è¡Œçš„é—®é¢˜

Version: v1.11.3

ä¿®å¤ `DailyAt` æ¯åˆ†é’Ÿéƒ½ä¼šæ‰§è¡Œçš„é—®é¢˜ï¼š

```go
func (kernel *Kernel) Schedule() []schedule.Event {
  return []schedule.Event{
    facades.Schedule.Call(func() {
      fmt.Print("1")
    }).DailyAt("18:00"),
  }
}
```
