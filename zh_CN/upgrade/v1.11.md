# ä» v1.10 å‡çº§åˆ° v1.11

[[toc]]

## v1.11.3

### Bug ä¿®å¤ ğŸ›

- [Schedule ä¸­ panic å¯¼è‡´è¿›ç¨‹ä¸­æ–­çš„é—®é¢˜](#schedule-ä¸­-panic-å¯¼è‡´è¿›ç¨‹ä¸­æ–­çš„é—®é¢˜)
- [Schedule ä¸­ DailyAt æ¯åˆ†é’Ÿéƒ½ä¼šæ‰§è¡Œçš„é—®é¢˜](#schedule-ä¸­-dailyat-æ¯åˆ†é’Ÿéƒ½ä¼šæ‰§è¡Œçš„é—®é¢˜)

## v1.11.2

### Bug ä¿®å¤ ğŸ›

- [åŒæ—¶ä½¿ç”¨ Request.Input() ä¸ Request.Bind() æ•°æ®é”™è¯¯çš„é—®é¢˜](#åŒæ—¶ä½¿ç”¨-request-input\(\)-ä¸-request-bind\(\)-æ–¹æ³•æ•°æ®é”™è¯¯çš„é—®é¢˜)

## v1.11.1

### åŠŸèƒ½å¢å¼º ğŸš€

- [Route æ–°å¢èµ„æºè·¯ç”±](#route-æ–°å¢èµ„æºè·¯ç”±)
- [Request æ–°å¢æ–¹æ³•](#request-æ–°å¢æ–¹æ³•)
- [Storage æ–°å¢æ–¹æ³•](#storage-æ–°å¢æ–¹æ³•)
- [File æ–°å¢æ–¹æ³•](#file-æ–°å¢æ–¹æ³•)

### Bug ä¿®å¤ ğŸ›

- [ä¿®å¤æ–‡ä»¶å‚¨å­˜ windows è·¯å¾„é”™è¯¯çš„é—®é¢˜](#ä¿®å¤æ–‡ä»¶å‚¨å­˜-windows-è·¯å¾„é”™è¯¯çš„é—®é¢˜)
- [ä¿®å¤ Request æ¨¡å— Header panic é—®é¢˜](#ä¿®å¤-request-æ¨¡å—-header-panic-é—®é¢˜)

## v1.11.0

## ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½ ğŸ‰

- [Orm æ–°å¢æ¨¡å‹äº‹ä»¶(1.11.0)](#orm-æ–°å¢æ¨¡å‹äº‹ä»¶)

## åŠŸèƒ½å¢å¼º ğŸš€

- [Cache æ–°å¢ã€ä¼˜åŒ–æ–¹æ³•(1.11.0)](#cache-æ–°å¢ã€ä¼˜åŒ–æ–¹æ³•)
- [Route æ”¯æŒ Fallback è·¯ç”±(1.11.0)](#route-æ”¯æŒ-fallback-è·¯ç”±)
- [Orm æ–°å¢æ–¹æ³•(1.11.0)](#orm-æ–°å¢æ–¹æ³•)
- [ä¼˜åŒ– facades.Config.Add() æ–¹æ³•(1.11.0)](#ä¼˜åŒ–-facades-config-add-æ–¹æ³•)
- [ä¿®æ”¹ Sqlite é©±åŠ¨(1.11.0)](#ä¿®æ”¹-sqlite-é©±åŠ¨)
- [contracts/http å¢åŠ  net/http çš„ Method æ˜ å°„(1.11.0)](#contracts-http-å¢åŠ -net-http-çš„-method-æ˜ å°„)

### ç ´åæ€§å˜åŒ– ğŸ› 

- [Orm ä¼˜åŒ–ã€ç§»é™¤æ–¹æ³•(1.11.0)](#_2-ä¼˜åŒ–ã€ç§»é™¤åºŸå¼ƒçš„æ–¹æ³•)

### Bug ä¿®å¤ ğŸ›

- Hash é…ç½®åœ¨æŸç§æƒ…å†µä¸‹ä¸ç”Ÿæ•ˆçš„é—®é¢˜(1.11.0)
- RateLimiter éçº¿ç¨‹å®‰å…¨çš„é—®é¢˜(1.11.0)

## å‡çº§æŒ‡å—

è¯·æ ¹æ®æœ¬èŠ‚å†…å®¹ï¼Œä¸€æ­¥æ­¥è¿›è¡Œæ¡†æ¶å‡çº§ã€‚

**é¢„è®¡å‡çº§æ—¶é—´ï¼š1 åˆ†é’Ÿ**

### 1. æ›´æ–°ä¾èµ–

`go.mod` ä¸­æ›´æ–°ä¾èµ–ï¼š

```
go get -u github.com/goravel/framework@v1.11.0 && go mod tidy
```

### 2. ä¼˜åŒ–ã€ç§»é™¤åºŸå¼ƒçš„æ–¹æ³•

```
import (
  "github.com/goravel/framework/database"
  "github.com/goravel/framework/database/gorm"
)

// Deprecated
database.NewGormInstance()
// Replace with(Note: This method is not recommended, please try not to use it)
gorm.New()

// Deprecated
facades.Orm.Query().Updates()
// Replace with(Only modify the method name is fine, no need to modify the parameters)
facades.Orm.Query().Update()

// The Update method changes return value
// Before
err := facades.Orm.Query().Update()
// After
res, err := facades.Orm.Query().Update()
```

## æ–°å¢å†…å®¹

æœ¬èŠ‚å†…å®¹ä¸æ¶‰åŠåˆ°ä»£ç ä¿®æ”¹ï¼Œåªæ˜¯åŠŸèƒ½å¢å¼ºã€‚

### Orm æ–°å¢æ¨¡å‹äº‹ä»¶

Version: v1.11.1

Orm æ¨¡å‹è§¦å‘å‡ ä¸ªäº‹ä»¶ï¼Œå…è®¸ä½ æŒ‚æ¥åˆ°æ¨¡å‹ç”Ÿå‘½å‘¨æœŸçš„å¦‚ä¸‹èŠ‚ç‚¹ï¼š`Retrieved`ã€`Creating`ã€`Created`ã€`Updating`ã€`Updated`ã€`Saving`ã€`Saved`ã€`Deleting`ã€`Deleted`ã€`ForceDeleting`ã€`ForceDeleted`ã€‚

[è¯¦è§æ–‡æ¡£](../orm/getting-started.md#events)

### Cache æ–°å¢ã€ä¼˜åŒ–æ–¹æ³•

Version: v1.11.1

#### æ–°å¢æ–¹æ³•

| æ–¹æ³•å       | ä½œç”¨                                                                                            |
| --------- | --------------------------------------------------------------------------------------------- |
| Decrement | [Decrement](../digging-deeper/cache.md#incrementing--decrementing-values)                     |
| Increment | [Increment](../digging-deeper/cache.md#incrementing--decrementing-values)                     |
| Lock      | [Atomic Locks](../digging-deeper/cache.md#atomic-locks)                                       |
| Store     | [Accessing Multiple Cache Stores](../digging-deeper/cache.md#accessing-multiple-cache-stores) |

#### Optimize methods

`Get`, `GetBool`, `GetInt`, `GetInt64`, `GetString`, `Pull` no longer need to pass a default value(Backwards compatible).

### Route supports Fallback route

Version: v1.11.1

You may define a route that will be executed when no other route matches the incoming request.

```go
facades.Route.Fallback(func(ctx http.Context) http.Response {
  return ctx.Response().String(404, "not found")
})
```

### Orm adds new methods

Version: v1.11.1

| Method                 | Action                                                               |
| ---------------------- | -------------------------------------------------------------------- |
| db.Raw | [Raw Expressions](../orm/getting-started.md#raw-expressions)         |
| LockForUpdate          | [Pessimistic Locking](../orm/getting-started.md#pessimistic-locking) |
| SharedLock             | [Pessimistic Locking](../orm/getting-started.md#pessimistic-locking) |

### Optimize facades.Config.Add()

Version: v1.11.0

The `configuration` parameter of `facades.Config.Add()` changes to `any` from `map[string]any`, make configuration more flexible.

[For Detail](../getting-started/configuration.md#set-configuration)

### Change Sqlite driver

Because `github.com/mattn/go-sqlite3` requires `CGO` to be started, so replacing a third-party package that does not require `CGO`: `github.com/glebarez/go-sqlite`.

### contracts/http add method mapping of net/http

Version: v1.11.0

You can use `http.MethodGet` in controller directly, instead of import `net/http`.

[For Detail](https://github.com/goravel/framework/blob/v1.11.0/contracts/http/method.go)

### Route Add Resource Routing

Version: v1.11.1

```go
facades.Route.Resource("/resource", resourceController)
```

[For Detail](../the-basics/routing.md#resource-routing)

### Request Add New Methods

Version: v1.11.1

| Method  | Action                                                                                                    |
| ------- | --------------------------------------------------------------------------------------------------------- |
| All     | [Retrieving all input data](../the-basics/request.md#retrieving-all-input-data)                           |
| Host    | [Retrieving the request HOST](../the-basics/request.md#retrieving-the-request-host)                       |
| Queries | [Retrieving input from the query string](../the-basics/request.md#retrieving-input-from-the-query-string) |

About to be deprecated the `Form`, `Json` methods, please use `Input` instead.

### Storage Add New Methods

Version: v1.11.1

| Method       | Action                                                                              |
| ------------ | ----------------------------------------------------------------------------------- |
| LastModified | [Get the last modified time of file](../digging-deeper/filesystem.md#file-metadata) |
| MimeType     | [Get the mime type of file](../digging-deeper/filesystem.md#file-metadata)          |

### File Add New Methods

Version: v1.11.1

| Method       | Action                                                                              |
| ------------ | ----------------------------------------------------------------------------------- |
| LastModified | [Get the last modified time of file](../digging-deeper/filesystem.md#file-metadata) |
| MimeType     | [Get the mime type of file](../digging-deeper/filesystem.md#file-metadata)          |
| Size         | [Get the size of file](../digging-deeper/filesystem.md#file-metadata)               |

### Fix The Error Of Incorrect Windows Path For Filesystem

Version: v1.11.1

windows ç³»ç»Ÿä¸­è·¯å¾„æœ‰æ–œçº¿ä¸å¯¹çš„é—®é¢˜ã€‚

### Fix The Panic Of The Header Method For Request

Version: v1.11.1

`ctx.Request().Header( key: "token")` will panic.

### Fix The Data Error Of Using Request.Input() And Request.Bind() At The Same Time

Version: v1.11.2

`Request.Input()` will clear `Request.Body`, if you use `Request.Bind()` after that, you will not be able to get the data correctly.

### The problem of process interruption caused by panic in Schedule

Version: v1.11.3

The Schedule process will interruption when occurring panic, all tasks wil lbe affected.

### The problem that DailyAt in Schedule will be executed every minute

Version: v1.11.3

Fix the problem that `DailyAt` will be executed every minute:

```go
func (kernel *Kernel) Schedule() []schedule.Event {
  return []schedule.Event{
    facades.Schedule.Call(func() {
      fmt.Print("1")
    }).DailyAt("18:00"),
  }
}
```
