<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>从 v1.9 升级到 v1.10 | Goravel</title>
    <meta name="description" content="Goravel 是一个功能完整且可扩展性极强的 Web 应用程序框架。作为一个起始脚手架，帮助 Gopher 快速构建自己的应用程序。">
    <meta name="generator" content="VitePress v2.0.0-alpha.4">
    <link rel="preload stylesheet" href="/assets/style.SY_qOvSh.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    <script type="module" src="/assets/chunks/metadata.f2e7c382.js"></script>
    <script type="module" src="/assets/app.Dz5T6ddl.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.QUpL7I0k.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CFMQV-X7.js">
    <link rel="modulepreload" href="/assets/zh_CN_upgrade_v1.10.md.BQ9uM2na.lean.js">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HJQNEG5H69"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-HJQNEG5H69");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6d6bd506><!--[--><!--]--><!--[--><span tabindex="-1" data-v-333ac9e3></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-333ac9e3>跳转到内容</a><!--]--><!----><header class="VPNav" data-v-6d6bd506 data-v-f962ce96><div class="VPNavBar" data-v-f962ce96 data-v-d51ec76f><div class="wrapper" data-v-d51ec76f><div class="container" data-v-d51ec76f><div class="title" data-v-d51ec76f><div class="VPNavBarTitle has-sidebar" data-v-d51ec76f data-v-785ec13f><a class="title" href="/zh_CN/" data-v-785ec13f><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-cb6a40a9><!--]--><!----><!--[--><!--]--></a></div></div><div class="content" data-v-d51ec76f><div class="content-body" data-v-d51ec76f><!--[--><!--]--><div class="VPNavBarSearch search" data-v-d51ec76f><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-d51ec76f data-v-d968f6b6><span id="main-nav-aria-label" class="visually-hidden" data-v-d968f6b6> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/zh_CN/getting-started/installation.html" tabindex="0" data-v-d968f6b6 data-v-1833877b><!--[--><span data-v-1833877b>快速开始</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://space.bilibili.com/1886603340/channel/seriesdetail?sid=4302621&amp;ctype=0" target="_blank" rel="noreferrer" tabindex="0" data-v-d968f6b6 data-v-1833877b><!--[--><span data-v-1833877b>视频教程</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/zh_CN/getting-started/contributions.html#%E6%96%B0%E5%A2%9E%E8%AF%AD%E8%A8%80" tabindex="0" data-v-d968f6b6 data-v-1833877b><!--[--><span data-v-1833877b>翻译</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-d51ec76f data-v-db588f7f data-v-32fb9f2f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="切换语言" data-v-32fb9f2f><span class="text" data-v-32fb9f2f><span class="vpi-languages option-icon" data-v-32fb9f2f></span><!----><span class="vpi-chevron-down text-icon" data-v-32fb9f2f></span></span></button><div class="menu" data-v-32fb9f2f><div class="VPMenu" data-v-32fb9f2f data-v-de6964af><!----><!--[--><!--[--><div class="items" data-v-db588f7f><p class="title" data-v-db588f7f>简体中文</p><!--[--><div class="VPMenuLink" data-v-db588f7f data-v-00af6738><a class="VPLink link" href="/upgrade/v1.10.html" data-v-00af6738><!--[--><span data-v-00af6738>English</span><!--]--></a></div><div class="VPMenuLink" data-v-db588f7f data-v-00af6738><a class="VPLink link" href="/zh_TW/upgrade/v1.10.html" data-v-00af6738><!--[--><span data-v-00af6738>繁體中文</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-d51ec76f data-v-b02e1af6><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-b02e1af6 data-v-f6092fbf data-v-bc410495><span class="check" data-v-bc410495><span class="icon" data-v-bc410495><!--[--><span class="vpi-sun sun" data-v-f6092fbf></span><span class="vpi-moon moon" data-v-f6092fbf></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-d51ec76f data-v-0d1c8122 data-v-f5bbba7e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/goravel/goravel" aria-label="github" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/cFc5csczzS" aria-label="discord" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-discord"></span></a><a class="VPSocialLink no-icon" href="https://x.com/goravelgolang" aria-label="x" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-x"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-d51ec76f data-v-b5430ab9 data-v-32fb9f2f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-32fb9f2f><span class="vpi-more-horizontal icon" data-v-32fb9f2f></span></button><div class="menu" data-v-32fb9f2f><div class="VPMenu" data-v-32fb9f2f data-v-de6964af><!----><!--[--><!--[--><div class="group translations" data-v-b5430ab9><p class="trans-title" data-v-b5430ab9>简体中文</p><!--[--><div class="VPMenuLink" data-v-b5430ab9 data-v-00af6738><a class="VPLink link" href="/upgrade/v1.10.html" data-v-00af6738><!--[--><span data-v-00af6738>English</span><!--]--></a></div><div class="VPMenuLink" data-v-b5430ab9 data-v-00af6738><a class="VPLink link" href="/zh_TW/upgrade/v1.10.html" data-v-00af6738><!--[--><span data-v-00af6738>繁體中文</span><!--]--></a></div><!--]--></div><div class="group" data-v-b5430ab9><div class="item appearance" data-v-b5430ab9><p class="label" data-v-b5430ab9>主题</p><div class="appearance-action" data-v-b5430ab9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-b5430ab9 data-v-f6092fbf data-v-bc410495><span class="check" data-v-bc410495><span class="icon" data-v-bc410495><!--[--><span class="vpi-sun sun" data-v-f6092fbf></span><span class="vpi-moon moon" data-v-f6092fbf></span><!--]--></span></span></button></div></div></div><div class="group" data-v-b5430ab9><div class="item social-links" data-v-b5430ab9><div class="VPSocialLinks social-links-list" data-v-b5430ab9 data-v-f5bbba7e><!--[--><a class="VPSocialLink no-icon" href="https://github.com/goravel/goravel" aria-label="github" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/cFc5csczzS" aria-label="discord" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-discord"></span></a><a class="VPSocialLink no-icon" href="https://x.com/goravelgolang" aria-label="x" target="_blank" rel="noopener" data-v-f5bbba7e data-v-46233840><span class="vpi-social-x"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-d51ec76f data-v-3b6fb606><span class="container" data-v-3b6fb606><span class="top" data-v-3b6fb606></span><span class="middle" data-v-3b6fb606></span><span class="bottom" data-v-3b6fb606></span></span></button></div></div></div></div><div class="divider" data-v-d51ec76f><div class="divider-line" data-v-d51ec76f></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-6d6bd506 data-v-8868f59d><div class="container" data-v-8868f59d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-8868f59d><span class="vpi-align-left menu-icon" data-v-8868f59d></span><span class="menu-text" data-v-8868f59d>菜单</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-8868f59d data-v-b36c5d28><button data-v-b36c5d28>回到顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-6d6bd506 data-v-be6c243f><div class="curtain" data-v-be6c243f></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-be6c243f><span class="visually-hidden" id="sidebar-aria-label" data-v-be6c243f> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>快速开始</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/getting-started/installation.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/getting-started/configuration.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/getting-started/directory-structure.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>目录结构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/getting-started/compile.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>编译</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/getting-started/releases.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>发行说明</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/getting-started/contributions.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>贡献指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/getting-started/packages.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>优秀扩展包</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/getting-started/privacy.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>隐私政策</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>升级</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/upgrade/v1.16.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>从 v1.15 升级到 v1.16</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/upgrade/v1.15.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>从 v1.14 升级到 v1.15</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/upgrade/history.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>历史</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>核心架构</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/architecture-concepts/request-lifecycle.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>生命周期</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/architecture-concepts/service-container.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>服务容器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/architecture-concepts/service-providers.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>服务提供者</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/architecture-concepts/facades.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>门面</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>基本功能</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/the-basics/routing.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>路由</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/the-basics/middleware.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>中间件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/the-basics/controllers.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>控制器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/the-basics/request.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>请求</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/the-basics/response.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>响应</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/the-basics/views.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>视图</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/the-basics/grpc.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Grpc</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/the-basics/session.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>会话</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/the-basics/validation.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>验证</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/the-basics/logging.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>日志</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>高级功能</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/artisan-console.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>Artisan 命令行</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/cache.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>缓存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/event.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>事件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/filesystem.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>文件存储</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/mail.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>邮件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/queues.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>队列</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/task-scheduling.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>任务调度</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/localization.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>本地化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/package-development.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>包开发</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/color.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>彩色输出</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/strings.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>字符串</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/helpers.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>辅助函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/digging-deeper/http-client.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>HTTP 客户端</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>安全</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/security/authentication.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>身份验证</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/security/authorization.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>授权</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/security/encryption.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>加密</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/security/hashing.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>哈希</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>数据库</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/database/getting-started.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>快速入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/database/queries.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>查询构建器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/database/migrations.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>迁移</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/database/seeding.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>填充</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>ORM</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/orm/getting-started.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>快速入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/orm/relationships.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>关系</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/orm/factories.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>工厂</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-785c71f3><section class="VPSidebarItem level-0" data-v-785c71f3 data-v-687e6ffa><div class="item" role="button" tabindex="0" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><h2 class="text" data-v-687e6ffa>测试</h2><!----></div><div class="items" data-v-687e6ffa><!--[--><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/testing/getting-started.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>快速入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/testing/http-tests.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>HTTP 测试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-687e6ffa data-v-687e6ffa><div class="item" data-v-687e6ffa><div class="indicator" data-v-687e6ffa></div><a class="VPLink link link" href="/zh_CN/testing/mock.html" data-v-687e6ffa><!--[--><p class="text" data-v-687e6ffa>模拟</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6d6bd506 data-v-95f78ad9><div class="VPDoc has-sidebar has-aside" data-v-95f78ad9 data-v-d3be2d93><!--[--><!--]--><div class="container" data-v-d3be2d93><div class="aside" data-v-d3be2d93><div class="aside-curtain" data-v-d3be2d93></div><div class="aside-container" data-v-d3be2d93><div class="aside-content" data-v-d3be2d93><div class="VPDocAside" data-v-d3be2d93 data-v-6e9cb4e7><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6e9cb4e7 data-v-3473656f><div class="content" data-v-3473656f><div class="outline-marker" data-v-3473656f></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-3473656f>页面导航</div><ul class="VPDocOutlineItem root" data-v-3473656f data-v-5ead4e78><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6e9cb4e7></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d3be2d93><div class="content-container" data-v-d3be2d93><!--[--><!--]--><main class="main" data-v-d3be2d93><div style="position:relative;" class="vp-doc _zh_CN_upgrade_v1_10" data-v-d3be2d93><div><h1 id="从-v1-9-升级到-v1-10" tabindex="-1">从 v1.9 升级到 v1.10 <a class="header-anchor" href="#从-v1-9-升级到-v1-10" aria-label="Permalink to “从 v1.9 升级到 v1.10”">​</a></h1><nav class="table-of-contents"><ul><li><a href="#令人兴奋的新功能-🎉">令人兴奋的新功能 🎉</a></li><li><a href="#功能增强-🚀">功能增强 🚀</a></li><li><a href="#破坏性变化-🛠">破坏性变化 🛠</a></li><li><a href="#升级指南">升级指南</a><ul><li><a href="#更新依赖">更新依赖</a></li><li><a href="#加密解密">加密解密</a></li><li><a href="#哈希">哈希</a></li><li><a href="#新增路由限流器">新增路由限流器</a></li><li><a href="#优化-http-启动方式">优化 HTTP 启动方式</a></li><li><a href="#优化-grpc-启动方式">优化 GRPC 启动方式</a></li><li><a href="#增加控制日志输出到控制台的配置">增加控制日志输出到控制台的配置</a></li><li><a href="#request-修改、新增方法">Request 修改、新增方法</a></li><li><a href="#队列支持延迟调度">队列支持延迟调度</a></li><li><a href="#orm-connection-支持配置表名前缀与单复数">ORM Connection 支持配置表名前缀与单复数</a></li><li><a href="#新增-docker-compose-yml-文件">新增 docker-compose.yml 文件</a></li><li><a href="#优化-orm">优化 Orm</a></li><li><a href="#迁移文件中支持执行多条-sql-语句">迁移文件中支持执行多条 SQL 语句</a></li><li><a href="#文件系统新增-minio-驱动">文件系统新增 minio 驱动</a></li><li><a href="#contracts-http-增加-net-http-的-status-映射">contracts/http 增加 net/http 的 Status 映射</a></li><li><a href="#app-key-必填">APP_KEY 必填</a></li><li><a href="#表单验证中方法新增-ctx-参数">表单验证中方法新增 ctx 参数</a></li><li><a href="#facades-auth-parse-新增-payload-返回">facades.Auth.Parse 新增 payload 返回</a></li><li><a href="#orm-的部分方法新增返回值">Orm 的部分方法新增返回值</a></li></ul></li></ul></nav><h2 id="令人兴奋的新功能-🎉" tabindex="-1">令人兴奋的新功能 🎉 <a class="header-anchor" href="#令人兴奋的新功能-🎉" aria-label="Permalink to “令人兴奋的新功能 🎉”">​</a></h2><ul><li><a href="#加密解密">新增 facades.Crypt(1.10.0)</a></li><li><a href="#哈希">新增 facades.Hash(1.10.0)</a></li><li><a href="#新增路由限流器">新增路由限流器(1.10.0)</a></li></ul><h2 id="功能增强-🚀" tabindex="-1">功能增强 🚀 <a class="header-anchor" href="#功能增强-🚀" aria-label="Permalink to “功能增强 🚀”">​</a></h2><ul><li><a href="#优化-http-启动方式">优化 HTTP 启动方式(1.10.0)</a></li><li><a href="#优化-grpc-启动方式">优化 GPRC 启动方式(1.10.0)</a></li><li><a href="#增加控制日志输出到控制台的配置">增加控制日志输出到控制台的配置(1.10.0)</a></li><li><a href="#request-修改、新增方法">Request 修改、新增方法(1.10.0)</a></li><li><a href="#队列支持延迟调度">队列支持延迟调度(1.10.0)</a></li><li><a href="#orm-connection-支持配置表名前缀与单复数">ORM Connection 支持配置表名前缀与单复数(1.10.0)</a></li><li><a href="#新增-docker-compose-yml-文件">新增 docker-compose.yml 文件(1.10.0)</a></li><li><a href="#优化-orm">优化 Orm(1.10.0)</a></li><li><a href="#迁移文件中支持执行多条-sql-语句">迁移文件中支持执行多条 SQL 语句(1.10.0)</a></li><li><a href="#文件系统新增-minio-驱动">文件系统新增 minio 驱动(1.10.0)</a></li><li><a href="#contracts-http-增加-net-http-的-status-映射">contracts/http 增加 net/http 的 Status 映射(1.10.0)</a></li></ul><h2 id="破坏性变化-🛠" tabindex="-1">破坏性变化 🛠 <a class="header-anchor" href="#破坏性变化-🛠" aria-label="Permalink to “破坏性变化 🛠”">​</a></h2><ul><li><a href="#app-key-必填">APP_KEY 必填(1.10.0)</a></li><li><a href="#表单验证中方法新增-ctx-参数">表单验证中方法新增 ctx 参数(1.10.0)</a></li><li><a href="#facades-auth-parse-新增-payload-返回">facades.Auth.Parse 新增 payload 返回(1.10.0)</a></li><li><a href="#orm-的部分方法新增返回值">Orm 的部分方法新增返回值(1.10.0)</a></li></ul><h2 id="升级指南" tabindex="-1">升级指南 <a class="header-anchor" href="#升级指南" aria-label="Permalink to “升级指南”">​</a></h2><p><strong>预计升级时间：20 分钟</strong></p><h3 id="更新依赖" tabindex="-1">更新依赖 <a class="header-anchor" href="#更新依赖" aria-label="Permalink to “更新依赖”">​</a></h3><p><code>go.mod</code> 中更新依赖：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>go get -u github.com/goravel/framework@v1.10.1 &amp;&amp; go mod tidy</span></span></code></pre></div><h3 id="加密解密" tabindex="-1">加密解密 <a class="header-anchor" href="#加密解密" aria-label="Permalink to “加密解密”">​</a></h3><p>Version: v1.10.0</p><p>新增 <code>facades.Crypt</code>：</p><ol><li><a href="https://github.com/goravel/goravel/blob/v1.10.x/config/app.go" target="_blank" rel="noreferrer">config/app.go</a> 文件 <code>providers</code> 新增 <code>&amp;crypt.ServiceProvider{},</code>。</li></ol><p><a href="./../security/encryption.html">查看文档</a></p><h3 id="哈希" tabindex="-1">哈希 <a class="header-anchor" href="#哈希" aria-label="Permalink to “哈希”">​</a></h3><p>Version: v1.10.0</p><p>新增 <code>facades.Hash</code>：</p><ol><li><p><a href="https://github.com/goravel/goravel/blob/v1.10.x/config/app.go" target="_blank" rel="noreferrer">config/app.go</a> 文件 <code>providers</code> 新增 <code>&amp;hash.ServiceProvider{},</code>；</p></li><li><p>新增 <a href="https://github.com/goravel/goravel/blob/v1.10.x/config/hashing.go" target="_blank" rel="noreferrer">config/hashing.go</a> 文件；</p></li></ol><p><a href="./../security/hashing.html">查看文档</a></p><h3 id="新增路由限流器" tabindex="-1">新增路由限流器 <a class="header-anchor" href="#新增路由限流器" aria-label="Permalink to “新增路由限流器”">​</a></h3><p>Version: v1.10.0</p><p><a href="./../the-basics/routing.html#速率限制">查看文档</a></p><h3 id="优化-http-启动方式" tabindex="-1">优化 HTTP 启动方式 <a class="header-anchor" href="#优化-http-启动方式" aria-label="Permalink to “优化 HTTP 启动方式”">​</a></h3><p>Version: v1.10.0</p><ol><li>新增 <code>config/http.go</code> 配置文件，<a href="https://github.com/goravel/goravel/blob/v1.10.x/config/http.go" target="_blank" rel="noreferrer">详见文件</a>；</li><li><code>facades.Route.Run</code> 方法不再需要传参，默认读取 <code>http.host</code> 和 <code>http.port</code>（你无需修改代码，向下兼容）；</li><li><code>facades.Route.RunTLS</code> 方法不再需要传参，默认读取 <code>http.tls.host</code>，<code>http.tls.port</code>，<code>http.tls.ssl.cert</code> 和 <code>http.tls.ssl.key</code>，如果用到，需修改代码；</li><li>新增 <code>facades.Route.RunTLSWithCert</code> 方法，<a href="./../the-basics/routing.html#启动服务器">详见文档</a>；</li><li>移动配置 <code>app.url</code>, <code>app.host</code> 到 <code>http.url</code>, <code>http.host</code>；</li></ol><h3 id="优化-grpc-启动方式" tabindex="-1">优化 GRPC 启动方式 <a class="header-anchor" href="#优化-grpc-启动方式" aria-label="Permalink to “优化 GRPC 启动方式”">​</a></h3><p>Version: v1.10.0</p><p><code>facades.Grpc.Run</code> 方法不再需要传参，默认读取 <code>grpc.host</code> 和 <code>grpc.port</code>（你无需修改代码，向下兼容）；</p><h3 id="增加控制日志输出到控制台的配置" tabindex="-1">增加控制日志输出到控制台的配置 <a class="header-anchor" href="#增加控制日志输出到控制台的配置" aria-label="Permalink to “增加控制日志输出到控制台的配置”">​</a></h3><p>Version: v1.10.0</p><p><code>config/logging.go</code> 文件中，<code>single</code>, <code>daily</code> channel 新增 <code>print</code> 配置，可以控制日志是否输出到控制台，<a href="https://github.com/goravel/goravel/blob/v1.10.x/config/logging.go" target="_blank" rel="noreferrer">详见文件</a>；</p><h3 id="request-修改、新增方法" tabindex="-1">Request 修改、新增方法 <a class="header-anchor" href="#request-修改、新增方法" aria-label="Permalink to “Request 修改、新增方法”">​</a></h3><p>Version: v1.10.0</p><ol><li><code>Input</code> 方法由仅获取路由参数，修改为根据以下顺序获取数据：<code>json</code>, <code>form</code>, <code>query</code>, <code>route</code>。注意：<code>json</code> 只能获取一维数据，否则将返回空；</li><li>新增 <code>Route</code> 方法替代原有 <code>Input</code> 方法功能；</li><li><code>Query</code> 与 <code>Form</code> 方法默认值修改为不必填；</li><li>新增以下方法：</li></ol><table tabindex="0"><thead><tr><th>方法名</th><th>作用</th></tr></thead><tbody><tr><td>Route</td><td><a href="./../the-basics/request.html#获取路由中的参数">获取路由中的参数</a></td></tr><tr><td>RouteInt</td><td><a href="./../the-basics/request.html#获取路由中的参数">获取路由中的参数</a></td></tr><tr><td>RouteInt64</td><td><a href="./../the-basics/request.html#获取路由中的参数">获取路由中的参数</a></td></tr><tr><td>QueryInt</td><td><a href="./../the-basics/request.html#获取路由传入的参数">获取路由传入的参数</a></td></tr><tr><td>QueryInt64</td><td><a href="./../the-basics/request.html#获取路由传入的参数">获取路由传入的参数</a></td></tr><tr><td>QueryBool</td><td><a href="./../the-basics/request.html#获取路由传入的参数">获取路由传入的参数</a></td></tr><tr><td>InputInt</td><td><a href="./../the-basics/request.html#获取路由传入的参数">获取路由传入的参数</a></td></tr><tr><td>InputInt64</td><td><a href="./../the-basics/request.html#获取路由传入的参数">获取路由传入的参数</a></td></tr><tr><td>InputBool</td><td><a href="./../the-basics/request.html#获取路由传入的参数">获取路由传入的参数</a></td></tr><tr><td>Json</td><td><a href="./../the-basics/request.html#获取-json">获取路由传入的 Json</a></td></tr></tbody></table><h3 id="队列支持延迟调度" tabindex="-1">队列支持延迟调度 <a class="header-anchor" href="#队列支持延迟调度" aria-label="Permalink to “队列支持延迟调度”">​</a></h3><p>Version: v1.10.0</p><p>新增 <code>Delay</code> 方法，<a href="./../digging-deeper/queues.html#延迟调度">详见文档</a></p><h3 id="orm-connection-支持配置表名前缀与单复数" tabindex="-1">ORM Connection 支持配置表名前缀与单复数 <a class="header-anchor" href="#orm-connection-支持配置表名前缀与单复数" aria-label="Permalink to “ORM Connection 支持配置表名前缀与单复数”">​</a></h3><p>Version: v1.10.0</p><ol><li><code>Model</code> 支持指定表名，<a href="./../orm/getting-started.html#指定表名">详见文档</a>；</li><li><code>config/database.go</code> 中的 <code>connection</code> 新增键值：</li></ol><p><code>prefix</code>：设置表名前缀； <code>singular</code>：设置表名使用单数还是复数；</p><p><a href="https://github.com/goravel/goravel/blob/v1.10.x/config/database.go" target="_blank" rel="noreferrer">详见文件</a></p><h3 id="新增-docker-compose-yml-文件" tabindex="-1">新增 docker-compose.yml 文件 <a class="header-anchor" href="#新增-docker-compose-yml-文件" aria-label="Permalink to “新增 docker-compose.yml 文件”">​</a></h3><p>Version: v1.10.0</p><p>你现在可以使用以下命令快速启动服务：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>docker-compose build</span></span>
<span class="line"><span>docker-compose up</span></span></code></pre></div><h3 id="优化-orm" tabindex="-1">优化 Orm <a class="header-anchor" href="#优化-orm" aria-label="Permalink to “优化 Orm”">​</a></h3><p>Version: v1.10.0</p><ol><li>新增以下方法：</li></ol><table tabindex="0"><thead><tr><th>作用</th><th>作用</th></tr></thead><tbody><tr><td>FirstOr</td><td><a href="./../orm/getting-started.html#查询一条数据">查询或通过回调返回一条数据</a></td></tr><tr><td>FirstOrNew</td><td><a href="./../orm/getting-started.html#查询或创建模型">查询或创建模型</a></td></tr><tr><td>FirstOrFail</td><td><a href="./../orm/getting-started.html#未找到时抛出错误">未找到时抛出错误</a></td></tr><tr><td>UpdateOrCreate</td><td><a href="./../orm/getting-started.html#更新或创建一条数据">更新或创建一条数据</a></td></tr></tbody></table><ol start="2"><li>之前这样写报错，现在支持：</li></ol><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.Orm.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h3 id="迁移文件中支持执行多条-sql-语句" tabindex="-1">迁移文件中支持执行多条 SQL 语句 <a class="header-anchor" href="#迁移文件中支持执行多条-sql-语句" aria-label="Permalink to “迁移文件中支持执行多条 SQL 语句”">​</a></h3><p>Version: v1.10.0</p><p>之前迁移文件中仅支持执行一条 SQL 语句，现在支持多条。</p><h3 id="文件系统新增-minio-驱动" tabindex="-1">文件系统新增 minio 驱动 <a class="header-anchor" href="#文件系统新增-minio-驱动" aria-label="Permalink to “文件系统新增 minio 驱动”">​</a></h3><p>Version: v1.10.0</p><p>新增 minio 配置，<a href="https://github.com/goravel/goravel/blob/v1.10.x/config/filesystems.go" target="_blank" rel="noreferrer">详见文件</a>。</p><h3 id="contracts-http-增加-net-http-的-status-映射" tabindex="-1">contracts/http 增加 net/http 的 Status 映射 <a class="header-anchor" href="#contracts-http-增加-net-http-的-status-映射" aria-label="Permalink to “contracts/http 增加 net/http 的 Status 映射”">​</a></h3><p>Version: v1.10.0</p><p>可以在 controller 中直接使用 <code>http.StatusOK</code> 等状态码，而不需要再导入 <code>net/http</code>。</p><p><a href="https://github.com/goravel/framework/blob/v1.10.0/contracts/http/status.go" target="_blank" rel="noreferrer">详见文件</a></p><h3 id="app-key-必填" tabindex="-1">APP_KEY 必填 <a class="header-anchor" href="#app-key-必填" aria-label="Permalink to “APP_KEY 必填”">​</a></h3><p>Version: v1.10.0</p><p><code>.env</code> 文件中 <code>APP_KEY</code> 修改为必填项，可以通过 <code>go run . artisan key:generate</code> 生成。</p><h3 id="表单验证中方法新增-ctx-参数" tabindex="-1">表单验证中方法新增 ctx 参数 <a class="header-anchor" href="#表单验证中方法新增-ctx-参数" aria-label="Permalink to “表单验证中方法新增 ctx 参数”">​</a></h3><p>Version: v1.10.0</p><p>表单验证的 <code>Rules</code>, <code>Messages</code>, <code>Attributes</code>, <code>PrepareForValidation</code> 方法，新增 <code>ctx http.Context</code> 传参，使你可以进行更加自定义的配置。</p><p><a href="./../the-basics/validation.html#创建表单请求验证">详见文档</a></p><h3 id="facades-auth-parse-新增-payload-返回" tabindex="-1">facades.Auth.Parse 新增 payload 返回 <a class="header-anchor" href="#facades-auth-parse-新增-payload-返回" aria-label="Permalink to “facades.Auth.Parse 新增 payload 返回”">​</a></h3><p>Version: v1.10.0</p><p><code>err := facades.Auth.Parse(ctx, token)</code> 修改为 <code>payload, err := facades.Auth.Parse(ctx, token)</code>，通过 <code>payload</code> 你可以获取到：</p><ol><li><code>Guard</code>: 当前 Guard；</li><li><code>Key</code>: 用户标识；</li><li><code>ExpireAt</code>: 过期时间；</li><li><code>IssuedAt</code>: 发行时间；</li></ol><p><a href="./../security/authentication.html#解析-token">详见文档</a></p><h3 id="orm-的部分方法新增返回值" tabindex="-1">Orm 的部分方法新增返回值 <a class="header-anchor" href="#orm-的部分方法新增返回值" aria-label="Permalink to “Orm 的部分方法新增返回值”">​</a></h3><p>Version: v1.10.0</p><p>以下方法新增 <code>*Result</code> 返回值，以获取影响行数：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">res, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">res, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fmt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sprintf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;DELETE FROM users where id = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, user.ID))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">res, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ForceDelete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">res, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Updates</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{Avatar: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;avatar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 获取受影响行数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.RowsAffected</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-d3be2d93 data-v-7ab990f9><!--[--><!--]--><div class="edit-info" data-v-7ab990f9><div class="edit-link" data-v-7ab990f9><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/goravel/docs/edit/master/zh_CN/upgrade/v1.10.md" target="_blank" rel="noreferrer" data-v-7ab990f9><!--[--><span class="vpi-square-pen edit-link-icon" data-v-7ab990f9></span> 在 GitHub 上编辑此页面<!--]--></a></div><div class="last-updated" data-v-7ab990f9><p class="VPLastUpdated" data-v-7ab990f9 data-v-809efa9f>最后更新于: <time datetime="2025-10-29T07:55:33.000Z" data-v-809efa9f></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-7ab990f9><span class="visually-hidden" id="doc-footer-aria-label" data-v-7ab990f9>Pager</span><div class="pager" data-v-7ab990f9><!----></div><div class="pager" data-v-7ab990f9><a class="VPLink link pager-link next" href="/zh_CN/getting-started/installation.html" data-v-7ab990f9><!--[--><span class="desc" data-v-7ab990f9>下一页</span><span class="title" data-v-7ab990f9>安装</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-6d6bd506 data-v-11c72509><div class="container" data-v-11c72509><p class="message" data-v-11c72509>基于 MIT 许可发布</p><p class="copyright" data-v-11c72509>版权所有 © 2021-2025 Goravel</p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>