# ä» v1.7 å‡çº§åˆ° v1.8

[[toc]]

## ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½ ğŸ‰

- [Orm æ–°å¢æ¨¡å‹å…³è”(1.8.0)](#orm-æ–°å¢æ¨¡å‹å…³è”)

## åŠŸèƒ½å¢å¼º ğŸš€

- [Request æ–°å¢æ–¹æ³•(1.8.0)](#request-æ–°å¢æ–¹æ³•)
- [Response æ–°å¢æ–¹æ³•(1.8.0)](#response-æ–°å¢æ–¹æ³•)
- [ä¼˜åŒ–æ•°æ®åº“è¿ç§»(1.8.0)](#ä¼˜åŒ–æ•°æ®åº“è¿ç§»)
- [Route æ”¯æŒ HTTPS(1.8.3)](#route-æ”¯æŒ-https)

## ç ´åæ€§å˜åŒ– ğŸ› 

- [ä¼˜åŒ– import é¡ºåº(1.8.0)](#ä¼˜åŒ–-import-é¡ºåº)
- [mock.Validator æ”¹å(1.8.0)](#mock-validator-æ”¹å)
- [support.Mysql æ”¹å(1.8.0)](#support-mysql-æ”¹å)
- [å³å°†åºŸå¼ƒ database.NewGormInstance(1.8.0)](#å³å°†åºŸå¼ƒ-database-newgorminstance)

## Bug ä¿®å¤ ğŸ›

- [ä¿®å¤ Orm å¹¶å‘å®‰å…¨çš„é—®é¢˜(1.8.1)](#ä¿®å¤-orm-å¹¶å‘å®‰å…¨çš„é—®é¢˜)
- [ä¿®å¤ Mail ä¸èƒ½ä½¿ç”¨ 25ï¼Œ465 ç«¯å£å‘é€é‚®ä»¶çš„é—®é¢˜(1.8.2)](#ä¿®å¤-mail-ä¸èƒ½ä½¿ç”¨-25-465-ç«¯å£å‘é€é‚®ä»¶çš„é—®é¢˜)

## å‡çº§æŒ‡å—

**é¢„è®¡å‡çº§æ—¶é—´ï¼š1 åˆ†é’Ÿ**

### æ›´æ–°ä¾èµ–

`go.mod` ä¸­æ›´æ–°ä¾èµ–ï¼š

```
go get -u github.com/goravel/framework@v1.8.3
```

### Orm æ–°å¢æ¨¡å‹å…³è”

Version: v1.8.0

Orm æ–°å¢æ–¹æ³•ï¼Œä»¥å¤„ç†æ¨¡å‹å…³è”ç­‰æ“ä½œï¼š

| æ–¹æ³•å         | ä½œç”¨                                                                          |
| ----------- | --------------------------------------------------------------------------- |
| Association | [å…³è”æ“ä½œ](../orm/relationships.md#querying-associations)                       |
| DB          | [è·å–é€šç”¨æ•°æ®åº“æ¥å£](../orm/getting-started.md#generic-database-interface-sqldb)     |
| Load        | [å»¶è¿Ÿé¢„åŠ è½½](../orm/relationships.md#lazy-eager-loading)                         |
| LoadMissing | [å»¶è¿Ÿé¢„åŠ è½½(ä¸å­˜åœ¨)](../orm/relationships.md#lazy-eager-loading) |
| Omit        | [å¿½ç•¥å…³è”](../orm/relationships.md#create-or-update-associations)               |
| With        | [é¢„åŠ è½½](../orm/relationships.md#Eager-Loading)                                |

### Request æ–°å¢æ–¹æ³•

Version: v1.8.0

`ctx.Request()` æ–°å¢æ–¹æ³•ï¼Œä»¥ä¸°å¯Œ `Query` ä¼ å‚çš„æ ¼å¼ï¼š

| æ–¹æ³•å          | ä½œç”¨                                                   |
| ------------ | ---------------------------------------------------- |
| `QueryArray` | [è·å–é“¾æ¥ä¼ å…¥çš„æ•°ç»„å‚æ•°](../the-basics/request.md#è·å–é“¾æ¥ä¼ å…¥çš„å‚æ•°)    |
| `QueryMap`   | [è·å–é“¾æ¥ä¼ å…¥çš„ Map å‚æ•°](../the-basics/request.md#è·å–é“¾æ¥ä¼ å…¥çš„å‚æ•°) |

### Response æ–°å¢æ–¹æ³•

Version: v1.8.0

`ctx.Response()` æ–°å¢ `Origin` æ–¹æ³•ï¼Œå¯ä»¥åœ¨ HTTP ä¸­é—´ä»¶ä¸­è·å– `Response` çš„æ‰€æœ‰ä¿¡æ¯ã€‚

[æŸ¥çœ‹æ–‡æ¡£](../the-basics/response.md#è·å–å“åº”)

### ä¼˜åŒ– import é¡ºåº

Version: v1.8.0

`bootstrap/app.go` æ–‡ä»¶ä¸­ import é¡ºåºä¿®æ”¹ä¸ºï¼š

```go
package bootstrap

import (
  "github.com/goravel/framework/foundation"

  "goravel/config"
)
```

[æŸ¥çœ‹æ–‡ä»¶](https://github.com/goravel/goravel/blob/v1.8.0/bootstrap/app.go)

### ä¼˜åŒ–æ•°æ®åº“è¿ç§»

Version: v1.8.0

è¿è¡Œç”Ÿæˆæ•°æ®åº“è¿ç§»æ–‡ä»¶å‘½ä»¤ `go run . artisan make:migration create_users_table`ï¼Œå°†æ ¹æ®å½“å‰ä½¿ç”¨çš„é»˜è®¤æ•°æ®åº“é©±åŠ¨ `facades.Config.GetString("database.default")` ç”Ÿæˆå¯¹åº”çš„è¿ç§»æ–‡ä»¶ã€‚

### mock.Validator æ”¹å

Version: v1.8.0

å¦‚æœæ‚¨ä½¿ç”¨äº† `mock.Validator` æ¥ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œéœ€è¦è¿›è¡Œä¸‹é¢ä¿®æ”¹ï¼š

```
import "github.com/goravel/framework/testing/mock"

mock.Validator

// ä¿®æ”¹ä¸º

import "github.com/goravel/framework/testing/mock"

mock.Validation
```

[æŸ¥çœ‹æ–‡æ¡£](../testing/mock.md#Mock-facades.Validation)

### support.Mysql æ”¹å

Version: v1.8.0

å¦‚æœæ‚¨ä½¿ç”¨äº† `support.Mysql` ç­‰æ¡†æ¶å¸¸é‡æ¥è¿›è¡Œæ•°æ®åº“é©±åŠ¨çš„åˆ¤æ–­ï¼Œéœ€è¦è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š

```go
import "github.com/goravel/framework/database/support"

support.Mysql
support.Postgresql
support.Sqlite
support.Sqlserver

// ä¿®æ”¹ä¸º

import "github.com/goravel/framework/contracts/database/orm"

orm.Mysql
orm.Postgresql
orm.Sqlite
orm.Sqlserver
```

`orm.Mysql` ç­‰æ–°çš„å¸¸é‡ä¸º `orm.Driver` ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ `orm.Mysql.String()` æ–¹æ³•è½¬æ¢ä¸ºå­—ç¬¦ç±»å‹ã€‚

### å³å°†åºŸå¼ƒ database.NewGormInstance

Version: v1.8.0

`database.NewGormInstance` æ–¹æ³•å°†åœ¨ v1.9.0 è¢«åºŸå¼ƒï¼Œå½“å‰ç‰ˆæœ¬å°šå¯ä½¿ç”¨ï¼Œå¦‚æœæ‚¨ä½¿ç”¨äº†è¯¥æ–¹æ³•è·å– `gorm` å®ä¾‹ï¼Œéœ€è¦è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š

```go
import "github.com/goravel/framework/database"

gorm, err := database.NewGormInstance(connection)

// ä¿®æ”¹ä¸º

import "github.com/goravel/framework/database/gorm"

gorm, err := gorm.New(connection)
```

### ä¿®å¤ Orm å¹¶å‘å®‰å…¨çš„é—®é¢˜

Version: v1.8.1

ä¿®å¤å½“é«˜å¹¶å‘è®¿é—®æ—¶ï¼Œç¬¬ä¸€æ¬¡è¯»å– `facades.Orm` æœ‰å¯èƒ½è¿”å› Nilã€‚

### ä¿®å¤ Mail ä¸èƒ½ä½¿ç”¨ 25ï¼Œ465 ç«¯å£å‘é€é‚®ä»¶çš„é—®é¢˜

Version: v1.8.2

You can send mail by 25, 465, 587 ports now.

### Route æ”¯æŒ HTTPS

Version: v1.8.3

`facades.Route` æ–°å¢ `RunTLS` æ–¹æ³•ï¼Œæ”¯æŒå¯åŠ¨ HTTPS æœåŠ¡å™¨ï¼Œè¯¦è§[æ–‡æ¡£](../the-basics/routing.md#å¯åŠ¨-https-æœåŠ¡å™¨)ã€‚
