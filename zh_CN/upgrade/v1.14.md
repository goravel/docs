# ä» v1.13 å‡çº§åˆ° v1.14

### ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½ ğŸ‰

- [æœ¬åœ°åŒ–](#localization)
- [å®‰è£…ç¨‹åº](#installer)
- [Cookie](#cookie)
- [ä¼šè¯](#session)

### å¢å¼ºåŠŸèƒ½ ğŸš€

- [æ”¯æŒåœ¨ Gin å’Œ Fiber é©±åŠ¨ç¨‹åºä¸­è®¾ç½® body_limit å’Œ header_limit](#support-for-setting-body-limit-and-header-limit-in-gin-and-fiber-drivers)
- [Log æ·»åŠ æ–°æ–¹æ³•](#log-adds-new-methods)
- [Orm æ·»åŠ æ–°æ–¹æ³•](#orm-adds-new-methods)
- [Console æ·»åŠ æ–°æ–¹æ³•](#console-adds-new-methods)
- [å“åº”æ·»åŠ æ–°æ–¹æ³•](#response-adds-new-methods)
- [æ·»åŠ æ„å»ºå‘½ä»¤](#add-build-command)
- [æ·»åŠ è¾…åŠ©æ–¹æ³•](#add-helper-methods)
- [Redis é©±åŠ¨æ”¯æŒ TLS](#redis-driver-supports-tls)

### ç ´åæ€§å˜æ›´ ğŸ› 

- [éªŒè¯å¤±è´¥æ—¶ä¸ä¼šç»‘å®šæ•°æ®](#validation-will-not-bind-data-if-validation-fails)
- [ä¸ºæµ‹è¯•æ¨¡å—æ·»åŠ æ–°æ–¹æ³•å¹¶ä¿®æ”¹æ–¹æ³•](#add-new-methods-and-modify-methods-for-testing-module)
- [ä¼˜åŒ–é‚®ä»¶çš„é˜Ÿåˆ—æ–¹æ³•](#optimize-the-queue-method-of-mail)
- [ä¼˜åŒ– Auth æ¨¡å— ctx çš„è®¾ç½®æ–¹æ³•](#optimize-the-setting-method-of-the-auth-module-ctx)
- [ä¼˜åŒ–æ¨¡æ‹Ÿé—¨é¢çš„æ–¹å¼](#optimize-the-way-of-mock-facades)
- [æ¡†æ¶ Orm æ¨¡å‹æ·»åŠ  json æ ‡ç­¾](#framework-orm-model-adds-json-tag)

### v1.14.1

- [ä¿®å¤ gin é©±åŠ¨ä¸­ session æœªæˆåŠŸè®¾ç½®çš„é—®é¢˜](#fix-the-session-is-not-set-successfully-in-the-gin-driver)
- [ä¿®å¤æœ¬åœ°åŒ–æ¨¡å—æ— æ³•è¯»å–è¯­è¨€æ–‡ä»¶çš„é—®é¢˜](#fix-the-language-file-cannot-be-read-in-the-localization-module)

### v1.14.2

- [ä¿®å¤å›¾ç‰‡å’Œæ–‡ä»¶çš„éªŒè¯å¤±è´¥é—®é¢˜](#fix-validation-verification-of-image-and-file-failed)
- [ä¿®å¤ goravel/gin é©±åŠ¨è®¾ç½®çš„ cookie Expires æ— æ•ˆçš„é—®é¢˜](#fix-the-cookie-expires-set-by-the-goravel-gin-driver-is-invalid)

### v1.14.3

å‡çº§ç›¸å…³åŒ…ï¼šgoravel/gin: v1.2.2, goravel/fiber: v1.2.2

- [ä¿®å¤éªŒè¯æ— æ³•ç»‘å®šåˆ‡ç‰‡](#fix-validation-cannot-bind-slice)
- [éªŒè¯æ”¯æŒç»‘å®šcarbon](#validation-supports-bind-carbon)

### v1.14.4

å‡çº§ç›¸å…³åŒ…ï¼šgoravel/gin: v1.2.3

- [ä¿®å¤Sessionå¹¶å‘é—®é¢˜](#fix-session-concurrent-problem)
- [ä¿®å¤Ginè®¾ç½®Session same_siteæ— æ•ˆ](#fix-gin-sets-session-same_site-invalid)

### v1.14.5

å‡çº§ç›¸å…³åŒ…ï¼šgoravel/gin: v1.2.4, goravel/fiber: v1.2.3

- [ä¸ºRouteæ·»åŠ Shutdownæ–¹æ³•](#add-shutdown-method-for-route)

### v1.14.7

å‡çº§ç›¸å…³åŒ…ï¼šgoravel/gin: v1.2.5, goravel/fiber: v1.2.4

- [ä¼˜åŒ– HTTP çš„ ctx.WithValue æ–¹æ³•](#optimize-the-ctx-withvalue-method-of-http)

### v1.14.8

- [ä¿®å¤ç›‘å¬å™¨æ³¨å†Œå†²çªçš„é—®é¢˜](#fix-the-problem-of-conflicting-listener-registration)

### v1.14.9

- [ä¿®å¤è‡ªå®šä¹‰ Log é©±åŠ¨ console é‡å¤æ‰“å°çš„é—®é¢˜](#fix-the-problem-of-custom-log-driver-console-repeatedly-printing)
- [ä¿®å¤ HTTP JSON è¯·æ±‚åŒ…å«å¤šå±‚ç»“æ„æ—¶æ•°æ®ç»‘å®šé”™è¯¯çš„é—®é¢˜](#fix-the-problem-of-data-binding-error-when-http-json-request-contains-multi-level-structure)

## å‡çº§æŒ‡å—

Goravel v1.14 æ˜¯åŸºäº Golang 1.21 å¼€å‘å’Œæµ‹è¯•çš„ï¼Œé€šå¸¸ä¸å…¶ä»–è¾ƒä½ç‰ˆæœ¬çš„ Golang å…¼å®¹ã€‚
è¯·æŒ‰ç…§æœ¬èŠ‚å†…å®¹é€æ­¥å‡çº§æ¡†æ¶ã€‚ Please upgrade the framework step by step according to the content in this section.

**é¢„è®¡å‡çº§æ—¶é—´ï¼š10åˆ†é’Ÿ**

### 1. 1ã€‚ æ›´æ–°ä¾èµ–

```
go get -u github.com/goravel/framework@v1.14.7

// å¦‚æœä½¿ç”¨ gin
go get -u github.com/goravel/gin@v1.2.5

// å¦‚æœä½¿ç”¨ fiber
go get -u github.com/goravel/fiber@v1.2.4

// å¦‚æœä½¿ç”¨ redis
go get -u github.com/goravel/redis@v1.2.1

// å¦‚æœä½¿ç”¨ s3
go get -u github.com/goravel/s3@v1.2.0

// å¦‚æœä½¿ç”¨ oss
go get -u github.com/goravel/oss@v1.2.0

// å¦‚æœä½¿ç”¨ cos
go get -u github.com/goravel/cos@v1.2.0

// å¦‚æœä½¿ç”¨ minio
go get -u github.com/goravel/minio@v1.2.0

// å¦‚æœä½¿ç”¨ cloudinay
go get -u github.com/goravel/cloudinary@v1.2.0

go mod tidy
```

### 2. æ–°å¢é…ç½®é¡¹

1. `config/app.go` æ·»åŠ æœ¬åœ°åŒ–æ¨¡å—é…ç½®é¡¹ï¼š

```go
"locale": "en",
"fallback_locale": "en",
"providers": []foundation.ServiceProvider{
  ...
  &session.ServiceProvider{},
  &translation.ServiceProvider{},
  ...
}
```

2. å¦‚æœä½ æƒ³ä½¿ç”¨ `session` åŠŸèƒ½ï¼Œæ·»åŠ  [config/session.go](https://github.com/goravel/goravel/blob/master/config/session.go) æ–‡ä»¶ï¼›

### 3) 3ã€‚ å¦‚æœä½¿ç”¨ Validation æ¨¡å—

æ£€æŸ¥æ˜¯å¦åœ¨æ ¡éªŒæ•°æ®å¤±è´¥çš„æƒ…å†µä¸‹ä¾ç„¶å°è¯•è¯»å–ç»‘å®šå€¼ï¼Œå¦‚æœæœ‰ï¼Œéœ€ä¼˜åŒ–é€»è¾‘ï¼Œå› ä¸ºè¯¥å€¼å‡çº§åä¸ºç©ºï¼Œè¯¦è§ï¼š[Validation å¦‚æœéªŒè¯å¤±è´¥å°†ä¸ç»‘å®šæ•°æ®](#validation-å¦‚æœéªŒè¯å¤±è´¥å°†ä¸ç»‘å®šæ•°æ®) If so, you need to optimize the logic, because the value is empty after the upgrade. ç¡®è®¤æ˜¯å¦ä»ç„¶åœ¨æ•°æ®éªŒè¯å¤±è´¥åå°è¯•è¯»å–ç»‘å®šå€¼ã€‚ å¦‚æœæ˜¯è¿™æ ·ï¼Œä½ éœ€è¦ä¼˜åŒ–é€»è¾‘ï¼Œå› ä¸ºå‡çº§åè¯¥å€¼ä¸ºç©ºã€‚
å‚è§ï¼š[éªŒè¯å¤±è´¥æ—¶ Validation å°†ä¸ä¼šç»‘å®šæ•°æ®](#validation-will-not-bind-data-if-validation-fails)ã€‚

### 4. 4ã€‚ å¦‚æœä½¿ç”¨ Testing æ¨¡å—

æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº† `Clear`ã€`Image` æ–¹æ³•ï¼Œå¦‚æœæ˜¯ï¼Œéœ€è¦ç›¸åº”ä¿®æ”¹ï¼š[ä¸º Testing æ¨¡å—æ·»åŠ æ–°æ–¹æ³•å’Œä¿®æ”¹æ–¹æ³•](#add-new-methods-and-modify-methods-for-testing-module)

### 5. 5ã€‚ å¦‚æœä½¿ç”¨Mailæ¨¡å—

æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†`Queue`æ–¹æ³•ï¼Œå¦‚æœæ˜¯ï¼Œéœ€è¦ç›¸åº”ä¿®æ”¹ï¼š[ä¼˜åŒ–Mailçš„Queueæ–¹æ³•](#optimize-the-queue-method-of-mail)

### 6. 6ã€‚ å¦‚æœä½¿ç”¨Authæ¨¡å—

éœ€è¦ç›¸åº”ä¿®æ”¹ï¼š[ä¼˜åŒ–Authæ¨¡å—ctxçš„è®¾ç½®æ–¹æ³•](#optimize-the-setting-method-of-the-auth-module-ctx)

### 7. 7ã€‚ å¦‚æœä½¿ç”¨mock facades

éœ€è¦ç›¸åº”ä¿®æ”¹ï¼š[ä¼˜åŒ–mock facadesçš„æ–¹å¼](#optimize-the-way-of-mock-facades)

### 8. 8ã€‚ å¦‚æœä½¿ç”¨æ¡†æ¶Ormæ¨¡å‹å¹¶é€šè¿‡ç«¯ç‚¹ç›´æ¥è¿”å›æ•°æ®

éœ€è¦ç›¸åº”ä¿®æ”¹ï¼š[æ¡†æ¶Ormæ¨¡å‹æ·»åŠ jsonæ ‡ç­¾](#framework-orm-model-adds-json-tag)

## åŠŸèƒ½ä»‹ç»

### æœ¬åœ°åŒ–

ç‰ˆæœ¬ï¼šv1.14.0

[æŸ¥çœ‹æ–‡æ¡£](../advanced/localization)

### å®‰è£…ç¨‹åº

ç‰ˆæœ¬ï¼šv1.14.0

å®‰è£…ç¨‹åºå…è®¸æ‚¨è½»æ¾ä¸‹è½½å’Œåˆå§‹åŒ–æ–°çš„ Goravel é¡¹ç›®ã€‚

[æŸ¥çœ‹æ–‡æ¡£](http://github.com/goravel/installer)

### Cookie

ç‰ˆæœ¬ï¼šv1.14.0

[æŸ¥çœ‹è¯·æ±‚æ–‡æ¡£](../basic/requests#cookie)

[æŸ¥çœ‹å“åº”æ–‡æ¡£](../basic/responses#cookie)

### ä¼šè¯

ç‰ˆæœ¬ï¼šv1.14.0

[æŸ¥çœ‹æ–‡æ¡£](../basic/session)

### æ”¯æŒåœ¨ Gin å’Œ Fiber é©±åŠ¨ç¨‹åºä¸­è®¾ç½® body_limit å’Œ header_limit

ç‰ˆæœ¬ï¼šv1.14.0

HTTP é©±åŠ¨ç¨‹åºæ”¯æŒè®¾ç½® body_limit ä»¥é™åˆ¶æ­£æ–‡å¤§å°ï¼Œ
å‚è§ï¼š[goravel/gin](https://github.com/goravel/gin/blob/c9d7706a6a04c05c8c33af5c97877a1ad2ea6362/README.md?plain=1#L54)
å’Œ [goravel/fiber](https://github.com/goravel/fiber/blob/aa63ab657cd2b371fcda4df0090a41226f6c0704/README.md?plain=1#L56)ã€‚

### Log æ·»åŠ æ–°æ–¹æ³•

ç‰ˆæœ¬ï¼šv1.14.0

| æ–¹æ³•          | Descrpton |
| ----------- | --------- |
| `Stack`     | åŒæ—¶ä½¿ç”¨å¤šä¸ªé€šé“  |
| `Channel`   | æŒ‡å®šä¸€ä¸ªé€šé“    |
| `WithTrace` | æ‰“å°è·Ÿè¸ª      |

[æŸ¥çœ‹æ–‡æ¡£](../basic/logging#write-to-a-specific-channel)

### Orm æ·»åŠ æ–°æ–¹æ³•

ç‰ˆæœ¬ï¼šv1.14.0

æ·»åŠ  `WhereIn`ã€`OrWhereIn`ã€`OrWhereNotIn`ã€`WhereNotIn`ã€`WhereBetween`ã€`WhereNotBetween`ã€`WhereNull`ã€`OrWhereNull`ã€
`OrderByDesc`ã€`OrderBy`ã€`InRandomOrder`ã€`Exists` æ–¹æ³•ã€‚

### Console æ·»åŠ æ–°æ–¹æ³•

ç‰ˆæœ¬ï¼šv1.14.0

[æŸ¥çœ‹æ–‡æ¡£](../advanced/artisan#prompting-for-input)

### Response æ·»åŠ æ–°æ–¹æ³•

ç‰ˆæœ¬ï¼šv1.14.0

[æŸ¥çœ‹æ–‡æ¡£](../basic/responses#no-content)

### æ·»åŠ  Build å‘½ä»¤

ç‰ˆæœ¬ï¼šv1.14.0

Goravel é¡¹ç›®å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼š`go run .`ã€‚ artisan build\`ã€‚ artisan build` å‘½ä»¤è¿›è¡Œç¼–è¯‘ã€‚

[æŸ¥çœ‹æ–‡æ¡£](../quickstart/compile#compile-command)

### æ·»åŠ è¾…åŠ©æ–¹æ³•

ç‰ˆæœ¬ï¼šv1.14.0

- [Str](../advanced/strings)
- [Map](../advanced/helpers#maps)
- [Color](../advanced/color)
- [è½¬æ¢](../advanced/helpers#convert)
- [æ”¶é›†](../advanced/helpers#collect)

### Redisé©±åŠ¨æ”¯æŒTLS

ç‰ˆæœ¬ï¼šv1.14.0

[æŸ¥çœ‹æ–‡æ¡£](https://github.com/goravel/redis)

### éªŒè¯å¤±è´¥æ—¶ä¸ä¼šç»‘å®šæ•°æ®

ç‰ˆæœ¬ï¼šv1.14.0

ä¹‹å‰ï¼Œå½“è°ƒç”¨ä»¥ä¸‹æ–¹æ³•æ—¶ï¼Œå³ä½¿è¿”å›é”™è¯¯ï¼Œ`userRequest`ä»ç„¶ä¼šç»‘å®šå€¼ã€‚
å‡çº§åï¼Œå°†ä¸å†ç»‘å®šã€‚ After the upgrade, it will no longer bind.

```go
var userRequest requests.UserRequest
errors, err := ctx.Request().ValidateRequest(&userRequest)

// or
validator, err := validation.Make(***)
err = validator.Bind(&userRequest)
```

### ä¸ºTestingæ¨¡å—æ·»åŠ æ–°æ–¹æ³•å’Œä¿®æ”¹æ–¹æ³•

ç‰ˆæœ¬ï¼šv1.14.0

1. æ·»åŠ  [Fresh](../testing/getting-started#refresh-database) æ–¹æ³•ï¼›
2. å°† `Clear` æ–¹æ³•ä¿®æ”¹ä¸º [Stop](../testing/getting-started#uninstall-image) æ–¹æ³•ï¼›
3. `Image` æ–¹æ³•æ·»åŠ  `ExposedPorts` å˜é‡å¹¶ç§»é™¤ `Timeout` å˜é‡ï¼›

```go
database, err := facades.Testing().Docker().Database()
database.Image(testingcontract.Image{
  Repository: "mysql",
  Tag:        "5.7",
  Env: []string{
    "MYSQL_ROOT_PASSWORD=123123",
    "MYSQL_DATABASE=goravel",
  },
  -- Timeout: 1000,
  ++ ExposedPorts: []string{"3306"},
})
```

### ä¼˜åŒ– Mail çš„ Queue æ–¹æ³•

ç‰ˆæœ¬ï¼šv1.14.0

`Queue` æ–¹æ³•çš„è¾“å…¥å‚æ•°ä» `queue *mail.Queue` å˜æ›´ä¸º `queue ...mail.Queue`ã€‚

```diff
-- facades.Mail().Queue(nil)
++ facades.Mail().Queue()

-- facades.Mail().Queue(&mail.Queue{})
++ facades.Mail().Queue(mail.Queue{})
```

### ä¼˜åŒ– Auth æ¨¡å— ctx çš„è®¾ç½®æ–¹æ³•

ç‰ˆæœ¬ï¼šv1.14.0

ä¹‹å‰è°ƒç”¨ `Parse`, `User`, `Login`, `LoginUsingID`, `Refresh`, `Logout` æ–¹æ³•æ—¶ï¼Œéœ€è¦ä¼ é€’ `ctx`ï¼Œå‡çº§åä¸å†éœ€è¦ï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥è®¾ç½®åœ¨ `facades.Auth(ctx)`ã€‚ ä¹‹å‰åœ¨è°ƒç”¨ `Parse`ã€`User`ã€`Login`ã€`LoginUsingID`ã€`Refresh`ã€`Logout` æ–¹æ³•æ—¶ï¼Œéœ€è¦ä¼ å…¥ `ctx`ã€‚ å‡çº§åï¼Œæ‚¨ä¸å†éœ€è¦ä¼ é€’ `ctx`ï¼Œå¯ä»¥ç›´æ¥åœ¨ `facades.Auth(ctx)` ä¸­è®¾ç½®å®ƒã€‚

```diff
-- facades.Auth().Parse(ctx, token)
++ facades.Auth(ctx).Parse(token)

-- facades.Auth().User(ctx, &user)
++ facades.Auth(ctx).User(&user)

-- facades.Auth().Login(ctx, &user)
++ facades.Auth(ctx).Login(&user)

-- facades.Auth().LoginUsingID(ctx, id)
++ facades.Auth(ctx).LoginUsingID(id)

-- facades.Auth().Refresh(ctx)
++ facades.Auth(ctx).Refresh()

-- facades.Auth().Logout(ctx)
++ facades.Auth(ctx).Logout()
```

### ä¼˜åŒ– facades çš„æ¨¡æ‹Ÿæ–¹å¼

ç‰ˆæœ¬ï¼šv1.14.0

```diff
import github.com/goravel/framework/testing/mock

++ mockFactory := mock.Factory()

-- app := mock.App()
++ app := mockFactory.App()

-- artisan := mock.Artisan()
++ artisan := mockFactory.Artisan()

-- auth := mock.Auth()
++ auth := mockFactory.Auth()

-- artisan := mock.Artisan()
++ artisan := mockFactory.Artisan()

-- cache, driver, lock := mock.Cache()
++ cache := mockFactory.Cache()
++ driver := mockFactory.CacheDriver()
++ lock := mockFactory.CacheLock()

-- config := mock.Config()
++ config := mockFactory.Config()

-- crypt := mock.Crypt()
++ crypt := mockFactory.Crypt()

-- event, task := mock.Event()
++ event := mockFactory.Event()
++ event := mockFactory.EventTask()

-- gate := mock.Gate()
++ gate := mockFactory.Gate()

-- grpc := mock.Grpc()
++ grpc := mockFactory.Grpc()

-- hash := mock.Hash()
++ hash := mockFactory.Hash()

-- mock.Log()
++ mockFactory.Log()

-- mail := mock.Mail()
++ mail := mockFactory.Mail()

-- orm, query, transaction, association := mock.Orm()
++ orm := mockFactory.Orm()
++ query := mockFactory.OrmQuery()
++ transaction := mockFactory.OrmTransaction()
++ association := mockFactory.OrmAssociation()

-- queue, task := mock.Queue()
++ queue := mockFactory.Queue()
++ task := mockFactory.QueueTask()

-- rateLimiter := mock.RateLimiter()
++ rateLimiter := mockFactory.RateLimiter()

-- storage, driver, file := mock.Storage()
++ storage := mockFactory.Storage()
++ driver := mockFactory.StorageDriver()
++ file := mockFactory.StorageFile()

-- seeder := mock.Seeder()
++ seeder := mockFactory.Seeder()

-- validation, validator, errors := mock.Validation()
++ validation := mockFactory.Validation()
++ validator := mockFactory.ValidationValidator()
++ errors := mockFactory.ValidationErrors()

-- view := mock.View()
++ view := mockFactory.View()
```

### æ¡†æ¶ Orm æ¨¡å‹æ·»åŠ  json æ ‡ç­¾

ç‰ˆæœ¬ï¼šv1.14.0

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨æ¡†æ¶çš„ Orm æ¨¡å‹å¹¶é€šè¿‡ç«¯ç‚¹ç›´æ¥è¿”å›æ•°æ®ï¼Œä½ éœ€è¦æ ¹æ®æ—§æ¨¡å‹åˆ›å»ºä¸€ä¸ªæ–°æ¨¡å‹å¹¶æ›¿æ¢æ—§æ¨¡å‹ï¼Œæˆ–è€…å‰ç«¯éœ€è¦æ ¹æ® json æ ‡ç­¾ä¿®æ”¹å­—æ®µåç§°ã€‚

```go
type Model struct {
 -- ID uint `gorm:"primaryKey"`
 ++ ID uint `gorm:"primaryKey" json:"id"`
 Timestamps
}

type SoftDeletes struct {
 -- DeletedAt gorm.DeletedAt `gorm:"column:deleted_at"`
 ++ DeletedAt gorm.DeletedAt `gorm:"column:deleted_at" json:"deleted_at"`
}

type Timestamps struct {
 -- CreatedAt carbon.DateTime `gorm:"autoCreateTime;column:created_at"`
 -- UpdatedAt carbon.DateTime `gorm:"autoUpdateTime;column:updated_at"`
 ++ CreatedAt carbon.DateTime `gorm:"autoCreateTime;column:created_at" json:"created_at"`
 ++ UpdatedAt carbon.DateTime `gorm:"autoUpdateTime;column:updated_at" json:"updated_at"`
}
```

### ä¿®å¤ gin é©±åŠ¨ä¸­ session æœªæˆåŠŸè®¾ç½®çš„é—®é¢˜

goravel/framework: v1.14.1

### ä¿®å¤æœ¬åœ°åŒ–æ¨¡å—æ— æ³•è¯»å–è¯­è¨€æ–‡ä»¶çš„é—®é¢˜

goravel/framework: v1.14.1

### ä¿®å¤å›¾ç‰‡å’Œæ–‡ä»¶çš„éªŒè¯å¤±è´¥

goravel/framework: v1.14.2

goravel/gin: v1.2.2

goravel/fiber: v1.2.2

[é—®é¢˜ #450](https://github.com/goravel/goravel/issues/450)

### ä¿®å¤ goravel/gin é©±åŠ¨ç¨‹åºè®¾ç½®çš„ cookie Expires æ— æ•ˆ

goravel/gin: v1.2.2

### ä¿®å¤ Validation æ— æ³•ç»‘å®šåˆ‡ç‰‡

goravel/framework: v1.14.3

```go
type User struct {
 Tags   []string `form:"tags" json:"tags"`
}
```

### Validation æ”¯æŒç»‘å®š carbon

goravel/framework: v1.14.3

```go
// å®šä¹‰ carbon å­—æ®µ
type User struct {
 Date   carbon.Carbon `form:"date" json:"date"`
}
var user requests.User

// ä½¿ç”¨ ValidateRequest ç»‘å®šæ•°æ®
errors, err := ctx.Request().ValidateRequest(&user)

// æˆ–ä½¿ç”¨ Validate ç»‘å®šæ•°æ®
validator, err := ctx.Request().Validate(map[string]string{
  "date": "required|date",
})
err := validator.Bind(&user)

// è·å–æ—¥æœŸæ—¶é—´
user.Date.ToDateTimeString()
```

### ä¿®å¤ Session å¹¶å‘é—®é¢˜

goravel/framework: v1.14.4

å½“ Session å¹¶å‘é‡è¿‡é«˜æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç° Session è¯»å†™å†²çªçš„é—®é¢˜ã€‚

### ä¿®å¤ Gin è®¾ç½® Session same_site æ— æ•ˆçš„é—®é¢˜

goravel/gin: v1.2.3

[Issue #455](https://github.com/goravel/goravel/issues/455)

### ä¸º Route æ·»åŠ  Shutdown æ–¹æ³•

goravel/framework: v1.14.5

goravel/gin: v1.2.4

goravel/fiber: v1.2.3

[æŸ¥çœ‹æ–‡æ¡£](../the-basics/routing.md#å…³é—­-http-https-æœåŠ¡å™¨)

### ä¼˜åŒ– HTTP çš„ ctx.WithValue æ–¹æ³•

goravel/framework: v1.14.7

goravel/gin: v1.2.5

goravel/fiber: v1.2.4

`ctx.WithValue` æ–¹æ³•çš„ `key` ç”±ä»…æ”¯æŒ `string` ç±»å‹ï¼Œæ”¹æ”¯æŒ `any` ç±»å‹ã€‚

```go
ctx.WithValue("Hello", "world")
ctx.WithValue(1, "hi")

var key struct{}
ctx.WithValue(key, "hola")
```

### ä¿®å¤ç›‘å¬å™¨æ³¨å†Œå†²çªçš„é—®é¢˜

goravel/framework: v1.14.8

å¤šä¸ªäº‹ä»¶ä½¿ç”¨ç›¸åŒçš„ç›‘å¬å™¨æ—¶ï¼Œåœ¨æ³¨å†Œæ—¶ä¼šæç¤ºç›‘å¬å™¨å†²çªã€‚

[é—®é¢˜ #523](https://github.com/goravel/goravel/issues/523)

### ä¿®å¤è‡ªå®šä¹‰ Log é©±åŠ¨ç¨‹åºæ§åˆ¶å°é‡å¤æ‰“å°çš„é—®é¢˜

goravel/framework: v1.14.9

[é—®é¢˜ #531](https://github.com/goravel/goravel/issues/531)

### ä¿®å¤ HTTP JSON è¯·æ±‚åŒ…å«å¤šå±‚ç»“æ„æ—¶æ•°æ®ç»‘å®šé”™è¯¯çš„é—®é¢˜

goravel/framework: v1.14.9

[é—®é¢˜ #533](https://github.com/goravel/goravel/issues/533)
