# 從 v1.6 升級到 v1.7

[[toc]]

## 高影響變更

- [新增表單驗證模組(v1.7.0)](#新增表單驗證模組)
- [修復 request 模板 BUG(v1.7.1)](#修復-request-模板-bug)
- [修復表單驗證模組 BUG(v1.7.2)](#修復表單驗證模組-bug)
- [修復用戶驗證模組 BUG(v1.7.3)](#修復用戶驗證模組-bug)

## 低影響變化

- [優化隊列模組 queue 名稱(v1.7.2)](#優化隊列模組-queue-名稱)

## 升級指南

**預估升級時間：1 分鐘**

### 更新依賴

**影響可能性：高**

在 `go.mod` 中更新依賴：

```go
github.com/goravel/framework v1.7.3
```

### 新增表單驗證模組

**影響可能性：高**

版本：v1.7.0

1. 新增 [app/providers/validation_service_provider.go](https://github.com/goravel/goravel/blob/v1.7.0/app/providers/validation_service_provider.go) 文件；
2. 在 [config/app.go](https://github.com/goravel/goravel/blob/v1.7.0/config/app.go) 文件的 `providers` 項中新增 `&validation.ServiceProvider{},` `&providers.ValidationServiceProvider{},`；

[查看文檔](../the-basics/validation.md)

### 修復 request 模板 BUG

**影響可能性：高**

版本：v1.7.1

1. 修復使用命令創建 request 模板，import 路徑錯誤的 BUG；`go run . artisan make:request Test`;

### 修復表單驗證模組 BUG

**影響可能性：高**

版本：v1.7.2

1. 修復 `facades.Validation` 模組註冊多個自定義 Rule 時不生效的 BUG；

### 優化隊列模組 queue 名稱

**影響可能性：低**

版本：v1.7.2

1. 為 `facades.Queue` 模組的 queue 名稱在實際執行時增加前綴，以便多項目時進行區分，前綴規則為：${app_name}_queues:${queue}；
2. 隱式優化，你無需修改任何代碼；

### 修復用戶驗證模組 BUG

**影響可能性：高**

版本：v1.7.3

1. 修復當用戶表主鍵為 `string` 類型時，調用 `facades.Auth.User` 方法提示錯誤 `Unknown column` 的 BUG；
