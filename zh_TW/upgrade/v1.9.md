# å¾ v1.8 å‡ç´šåˆ° v1.9

[[toc]]

## åŠŸèƒ½å¢å¼· ğŸš€

- [æ–°å¢è³‡æ–™åº«è®€å¯«åˆ†é›¢(1.9.0)](#add-database-read-write-separation)
- [æ–°å¢è³‡æ–™åº«é€£æ¥æ± é…ç½®(1.9.0)](#add-database-pool-configuration)
- [è‡ªå®šç¾© .env è·¯å¾‘(1.9.0)](#custom--env-path)
- [Cache æ–°å¢ Memory é©…å‹•(1.9.0)](#cache-add-memory-driver)
- [Orm æ–°å¢åˆ†é æ–¹æ³•(1.9.0)](#orm-add-paginate-method)
- [æ–°å¢ make å‘½ä»¤(1.9.0)](#add-make-command)
- [Response æ–°å¢æ–¹æ³•(1.9.0)](#add-new-methods-for-Response)

## ç ´å£æ€§è®ŠåŒ– ğŸ› 

- [Request PrepareForValidation æ–¹æ³•æ–°å¢ error è¿”å›(1.9.0)](#add-return-for-request-prepareforvalidation-method)

## Bug ä¿®å¾© ğŸ›

- [File ç²å–éŒ¯èª¤çš„æ–‡ä»¶é¡å‹(1.9.0)](#file-gets-the-wrong-file-type)
- [ä¿®å¾© make:event å’Œ make:listener å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰èª¤çš„å•é¡Œ(1.9.0)](#fix-template-error-on-make-event-and-make-listener-command)
- [ä¿®å¾©ä¿å­˜æ–‡ä»¶æ™‚æœ‰äº›é¡å‹ç„¡æ³•ç²å–å¾Œç¶´çš„å•é¡Œ(1.9.1)](#fix-some-types-cannot-obtain-suffixes-when-save-file)

## å‡ç´šä¾è³´ â¬†ï¸

- build(deps): bump github.com/gin-gonic/gin from v1.7.3 to v1.8.2

## å‡ç´šæŒ‡å—

**é ä¼°å‡ç´šæ™‚é–“ï¼š10 åˆ†é˜**

### æ›´æ–°ä¾è³´

åœ¨ `go.mod` æ–‡ä»¶ä¸­æ›´æ–°ä¾è³´ï¼š

```
go get -u github.com/goravel/framework@v1.9.0
```

### æ–°å¢è³‡æ–™åº«è®€å¯«åˆ†é›¢

Version: v1.9.0

è³‡æ–™åº«æ”¯æŒè®€å¯«åˆ†é›¢ï¼Œ[è©³è¦‹æ–‡æª”](../orm/getting-started.md#read--write-connections)ã€‚

### æ–°å¢è³‡æ–™åº«é€£æ¥æ± é…ç½®

Version: v1.9.0

è³‡æ–™åº«é…ç½®æ–‡ä»¶ `config/database.go` æ–°å¢é€£æ¥æ± é…ç½® `pool`ï¼Œ[è©³è¦‹æ–‡ä»¶](https://github.com/goravel/goravel/blob/v1.9.x/config/database.go)ã€‚

### è‡ªå®šç¾© .env è·¯å¾‘

Version: v1.9.0

```
// é–‹ç™¼
go run . --env=../.env

// ç·¨è­¯å¾Œ
./main --env=../.env
```

### Cache æ–°å¢ Memory é©…å‹•

Version: v1.9.0

`config/cache.go` æ–°å¢ `memory` é…ç½®ï¼š

```
"stores": map[string]any{
  // æ–°å¢
  "memory": map[string]any{
    "driver": "memory",
  },
},
```

[è©³è¦‹æ–‡ä»¶](https://github.com/goravel/goravel/blob/v1.9.x/config/cache.go)

### Orm æ–°å¢åˆ†é æ–¹æ³•

Version: v1.9.0

`facades.Orm` æ–°å¢ `Paginate` æ–¹æ³•ï¼Œ[è©³è¦‹æ–‡æª”](../orm/getting-started.md#Paginate)ã€‚

### æ–°å¢ make å‘½ä»¤

Version: v1.9.0

```
// å‰µå»ºæ§åˆ¶å™¨
go run . artisan make:controller UserController

// å‰µå»ºä¸­é–“ä»¶
go run . artisan make:middleware Cors

// å‰µå»ºæ¨¡å‹
go run . artisan make:model User
```

### Response æ–°å¢æ–¹æ³•

Version: v1.9.0

| æ–¹æ³•å      | æ“ä½œ                                               |
| -------- | ------------------------------------------------ |
| Data     | [è‡ªå®šç¾©è¿”å›](../the-basics/response.md#custom-return) |
| Redirect | [é‡å®šå‘](../the-basics/response.md#redirect)        |

### Request PrepareForValidation æ–¹æ³•æ–°å¢ error è¿”å›

Version: v1.9.0

å¦‚æœä½ ä½¿ç”¨åˆ°äº† [è¡¨å–®é©—è­‰ä¸­çš„ PrepareForValidation æ–¹æ³•](../the-basics/validation.md#é©—è­‰å‰æ ¼å¼åŒ–æ•¸æ“š)ï¼Œè«‹æ–°å¢è¿”å›å€¼ï¼š`PrepareForValidation(data validation.Data) error`ã€‚

### File ç²å–éŒ¯èª¤çš„æ–‡ä»¶é¡å‹

Version: v1.9.0

ä¿®å¾© `.docx`, `.xlsx` ç­‰é¡å‹éŒ¯èª¤çš„è­˜åˆ¥ç‚º `.zip` çš„å•é¡Œã€‚

### ä¿®å¾© make:event å’Œ make:listener å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰èª¤çš„å•é¡Œ

Version: v1.9.0

`import "github.com/goravel/framework/contracts/events"` æ”¹ç‚º `import "github.com/goravel/framework/contracts/event"`

### ä¿®å¾©ä¿å­˜æ–‡ä»¶æ™‚æœ‰äº›é¡å‹ç„¡æ³•ç²å–å¾Œç¶´çš„å•é¡Œ

Version: v1.9.1

ä¸‹é¢ä»£ç¢¼æœ‰äº›é¡å‹ç„¡æ³•ç²å–å¾Œç¶´:

```go
file, err := ctx.Request().File()
file.Store("upload")
```
