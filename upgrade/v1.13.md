# Upgrading To v1.13 From v1.12

[[toc]]

### Exciting New Features üéâ

- [Seeding](#seeding)
- [Factories](#factories)
- [Testing](#testing)

## Enhancements üöÄ

- [Task Scheduling Supports Scale Horizontally](#task-scheduling-supports-scale-horizontally)
- [Add debug Methods](#add-debug-methods)
- [make:controller Command Adds Parameter](#make-controller-command-adds-parameter)
- [Add Status Method For Response](#add-status-method-for-response)
- [Add Sum and Cursor Methods For Response](#add-sum-and-cursor-methods-for-response)

## Breaking Changes üõ†

- [Optimize Remember And RememberForever Methods In facades.Cache()](#5-optimize-remember-and-rememberforever-methods-in-facades-cache-optional)

### Bug Fixes üêõ

- [Fix The Problem Of facades.Auth().User()](#fix-the-problem-of-facades-auth-user)
- [Fix The Problem Of Custom .env Path](#fix-the-problem-of-custom-env-path)

## Upgrade Guide

Please upgrade the framework step by step according to the content in this section.

**Estimated Upgrade Time: 5 Minutes**

### 1. Updating Dependencies

Update dependencies in the `go.mod` file:

```
go get -u github.com/goravel/framework@v1.13.0 && go mod tidy
```

### 2. Add `database/seeders/database_seeder.go` file

```go
package seeders

type DatabaseSeeder struct {
}

// Signature The name and signature of the seeder.
func (s *DatabaseSeeder) Signature() string {
  return "DatabaseSeeder"
}

// Run executes the seeder logic.
func (s *DatabaseSeeder) Run() error {
  return nil
}
```

### 3. Add `app/providers/database_service_provider.go` File

```go
package providers

import (
  "github.com/goravel/framework/contracts/database/seeder"
  "github.com/goravel/framework/contracts/foundation"
  "github.com/goravel/framework/facades"

  "goravel/database/seeders"
)

type DatabaseServiceProvider struct {
}

func (receiver *DatabaseServiceProvider) Register(app foundation.Application) {

}

func (receiver *DatabaseServiceProvider) Boot(app foundation.Application) {
  facades.Seeder().Register([]seeder.Seeder{
    &seeders.DatabaseSeeder{},
  })
}
```

### 4. Register A New Provider

```go
// config/app.go
"providers": []foundation.ServiceProvider{
  ‚Ä¶‚Ä¶
  &providers.DatabaseServiceProvider{},
}
```

### 5. Optimize Remember And RememberForever Methods In facades.Cache()(Optional)

```go
// Before
Remember(key string, ttl time.Duration, callback func() any) (any, error)
RememberForever(key string, callback func() any) (any, error)

// After
Remember(key string, ttl time.Duration, callback func() (any, error)) (any, error)
RememberForever(key string, callback func() (any, error)) (any, error)
```

## Function Introduction

### Seeding

Version: v1.13.0

[For Detail](../orm/seeding.md)

### Factories

Version: v1.13.0

[For Detail](../orm/factories.md)

### Testing

Version: v1.13.0

[For Detail](../testing/getting-started.md)

### Task Scheduling Supports Scale Horizontally

Version: v1.13.0

[For Detail](../digging-deeper/task-scheduling.md#running-tasks-on-one-server)

### Add debug Methods

Version: v1.13.0

[For Detail](../digging-deeper/helpers.md#debug)

### make:controller Command Adds Parameter

Version: v1.13.0

The `make:controller` command adds `--resource` parameter, the CURD struct can be created easily:

```
go run . artisan make:controller --resource UserController
```

### Add Status method for Response

Version: v1.13.0

[For Detail](../the-basics/response.md#custom-code)

### Add Sum and Cursor methods for Orm

Version: v1.13.0

[For Detail](../orm/getting-started.md#facadesormquery--facadesormtransaction-available-functions)

### Fix The Problem Of facades.Auth().User()

Version: v1.13.0

1. Fix the problem that no error throws if the user didn't exist when using the `facades.Auth().User(ctx, &user)` method.

2. Fix the problem that `user` can be found when the primary key isn't `int`;

### Fix The Problem Of Custom .env Path

Version: v1.13.0

Fix the problem that custom .env path does not take effect in some cases.
