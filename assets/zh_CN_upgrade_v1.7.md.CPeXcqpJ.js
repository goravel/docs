import{_ as a,f as i,o as r,an as l}from"./chunks/framework.CFMQV-X7.js";const u=JSON.parse('{"title":"从 v1.6 升级到 v1.7","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/upgrade/v1.7.md","filePath":"zh_CN/upgrade/v1.7.md","lastUpdated":1761815875000}'),s={name:"zh_CN/upgrade/v1.7.md"};function o(t,e,h,n,d,p){return r(),i("div",null,e[0]||(e[0]=[l('<h1 id="从-v1-6-升级到-v1-7" tabindex="-1">从 v1.6 升级到 v1.7 <a class="header-anchor" href="#从-v1-6-升级到-v1-7" aria-label="Permalink to “从 v1.6 升级到 v1.7”">​</a></h1><nav class="table-of-contents"><ul><li><a href="#高影响变化">高影响变化</a></li><li><a href="#低影响变化">低影响变化</a></li><li><a href="#升级指南">升级指南</a><ul><li><a href="#更新依赖">更新依赖</a></li><li><a href="#新增表单验证模块">新增表单验证模块</a></li><li><a href="#修复-request-模板-bug">修复 request 模板 BUG</a></li><li><a href="#修复表单验证模块-bug">修复表单验证模块 BUG</a></li><li><a href="#优化队列模块-queue-名称">优化队列模块 queue 名称</a></li><li><a href="#修复用户验证模块-bug">修复用户验证模块 BUG</a></li></ul></li></ul></nav><h2 id="高影响变化" tabindex="-1">高影响变化 <a class="header-anchor" href="#高影响变化" aria-label="Permalink to “高影响变化”">​</a></h2><ul><li><a href="#新增表单验证模块">新增表单验证模块(v1.7.0)</a></li><li><a href="#修复-request-模板-bug">修复 request 模板 BUG(v1.7.1)</a></li><li><a href="#修复表单验证模块-bug">修复表单验证模块 BUG(v1.7.2)</a></li><li><a href="#修复用户验证模块-bug">修复用户验证模块 BUG(v1.7.3)</a></li></ul><h2 id="低影响变化" tabindex="-1">低影响变化 <a class="header-anchor" href="#低影响变化" aria-label="Permalink to “低影响变化”">​</a></h2><ul><li><a href="#优化队列模块-queue-名称">优化队列模块 queue 名称(v1.7.2)</a></li></ul><h2 id="升级指南" tabindex="-1">升级指南 <a class="header-anchor" href="#升级指南" aria-label="Permalink to “升级指南”">​</a></h2><p><strong>预计升级时间：1 分钟</strong></p><h3 id="更新依赖" tabindex="-1">更新依赖 <a class="header-anchor" href="#更新依赖" aria-label="Permalink to “更新依赖”">​</a></h3><p><strong>影响可能性：高</strong></p><p><code>go.mod</code> 中更新依赖：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">github.com</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">goravel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">framework v1.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7.3</span></span></code></pre></div><h3 id="新增表单验证模块" tabindex="-1">新增表单验证模块 <a class="header-anchor" href="#新增表单验证模块" aria-label="Permalink to “新增表单验证模块”">​</a></h3><p><strong>影响可能性：高</strong></p><p>版本：v1.7.0</p><ol><li>新增 <a href="https://github.com/goravel/goravel/blob/v1.7.0/app/providers/validation_service_provider.go" target="_blank" rel="noreferrer">app/providers/validation_service_provider.go</a> 文件；</li><li><a href="https://github.com/goravel/goravel/blob/v1.7.0/config/app.go" target="_blank" rel="noreferrer">config/app.go</a> 文件 <code>providers</code> 新增 <code>&amp;validation.ServiceProvider{},</code>, <code>&amp;providers.ValidationServiceProvider{},</code>；</li></ol><p><a href="./../the-basics/validation.html">查看文档</a></p><h3 id="修复-request-模板-bug" tabindex="-1">修复 request 模板 BUG <a class="header-anchor" href="#修复-request-模板-bug" aria-label="Permalink to “修复 request 模板 BUG”">​</a></h3><p><strong>影响可能性：高</strong></p><p>版本：v1.7.1</p><ol><li>修复使用命令创建 request 模板，import 路径错误的 BUG；<code>go run . artisan make:request Test</code>;</li></ol><h3 id="修复表单验证模块-bug" tabindex="-1">修复表单验证模块 BUG <a class="header-anchor" href="#修复表单验证模块-bug" aria-label="Permalink to “修复表单验证模块 BUG”">​</a></h3><p><strong>影响可能性：高</strong></p><p>版本：v1.7.2</p><ol><li>修复 <code>facades.Validation</code> 模块注册多个自定义 Rule 时不生效的 BUG；</li></ol><h3 id="优化队列模块-queue-名称" tabindex="-1">优化队列模块 queue 名称 <a class="header-anchor" href="#优化队列模块-queue-名称" aria-label="Permalink to “优化队列模块 queue 名称”">​</a></h3><p><strong>影响可能性：低</strong></p><p>版本：v1.7.2</p><ol><li>为 <code>facades.Queue</code> 模块的 queue 名称在实际执行时增加前缀，以便多项目时进行区分，前缀规则为：${app_name}_queues:${queue}；</li><li>隐式优化，你无需修改任何代码；</li></ol><h3 id="修复用户验证模块-bug" tabindex="-1">修复用户验证模块 BUG <a class="header-anchor" href="#修复用户验证模块-bug" aria-label="Permalink to “修复用户验证模块 BUG”">​</a></h3><p><strong>影响可能性：高</strong></p><p>版本：v1.7.3</p><ol><li>修复当用户表主键为 <code>string</code> 类型时，调用 <code>facades.Auth.User</code> 方法提示错误 <code>Unknown column</code> 错误的 BUG；</li></ol>',33)]))}const g=a(s,[["render",o]]);export{u as __pageData,g as default};
