import{_ as a,f as e,o as n,an as i}from"./chunks/framework.CFMQV-X7.js";const g=JSON.parse('{"title":"从 v1.1 升级到 v1.2","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/upgrade/v1.2.md","filePath":"zh_CN/upgrade/v1.2.md","lastUpdated":1761449547000}'),t={name:"zh_CN/upgrade/v1.2.md"};function p(l,s,h,r,c,o){return n(),e("div",null,s[0]||(s[0]=[i(`<h1 id="从-v1-1-升级到-v1-2" tabindex="-1">从 v1.1 升级到 v1.2 <a class="header-anchor" href="#从-v1-1-升级到-v1-2" aria-label="Permalink to “从 v1.1 升级到 v1.2”">​</a></h1><h2 id="高影响变化" tabindex="-1">高影响变化 <a class="header-anchor" href="#高影响变化" aria-label="Permalink to “高影响变化”">​</a></h2><ul><li><a href="#更新依赖">更新依赖</a></li><li><a href="#auth-support-context">Auth 支持 Context</a></li></ul><h2 id="升级指南" tabindex="-1">升级指南 <a class="header-anchor" href="#升级指南" aria-label="Permalink to “升级指南”">​</a></h2><p><strong>预计升级时间：1 分钟</strong></p><h3 id="更新依赖" tabindex="-1">更新依赖 <a class="header-anchor" href="#更新依赖" aria-label="Permalink to “更新依赖”">​</a></h3><p><strong>影响可能性：高</strong></p><p><code>go.mod</code> 中更新依赖：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">github.com</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">goravel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">framework v1.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.1</span></span></code></pre></div><h3 id="auth-支持-context" tabindex="-1">Auth 支持 Context <a class="header-anchor" href="#auth-支持-context" aria-label="Permalink to “Auth 支持 Context”">​</a></h3><p><strong>影响可能性：高</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// Old</span></span>
<span class="line"><span>facades.Auth.Parse(token string) error</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// New</span></span>
<span class="line"><span>facades.Auth.Parse(ctx http.Context, token string) error</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// Old</span></span>
<span class="line"><span>facades.Auth.User(ctx http.Context, user interface{}) error</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// New</span></span>
<span class="line"><span>facades.Auth.User(ctx http.Context, user interface{}) error</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// Old</span></span>
<span class="line"><span>facades.Auth.facades.Auth.Login(user interface{}) (token string, err error)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// New</span></span>
<span class="line"><span>facades.Auth.facades.Auth.Login(ctx http.Context, user interface{}) (token string, err error)</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// Old</span></span>
<span class="line"><span>facades.Auth.LoginUsingID(id interface{}) (token string, err error)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// New</span></span>
<span class="line"><span>facades.Auth.LoginUsingID(ctx http.Context, id interface{}) (token string, err error)</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// Old</span></span>
<span class="line"><span>facades.Auth.Refresh() (token string, err error)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// New</span></span>
<span class="line"><span>facades.Auth.Refresh(ctx http.Context) (token string, err error)</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// Old</span></span>
<span class="line"><span>facades.Auth.Logout() error</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// New</span></span>
<span class="line"><span>facades.Auth.Logout(ctx http.Context) error</span></span></code></pre></div><p>For detail <a href="./../security/authentication.html">facades.Auth</a>。</p>`,18)]))}const k=a(t,[["render",p]]);export{g as __pageData,k as default};
