import{_ as i,f as e,o as s,an as t}from"./chunks/framework.CFMQV-X7.js";const k=JSON.parse('{"title":"加密解密","description":"","frontmatter":{},"headers":[],"relativePath":"zh_TW/security/encryption.md","filePath":"zh_TW/security/encryption.md","lastUpdated":1761815875000}'),h={name:"zh_TW/security/encryption.md"};function r(l,a,n,d,p,o){return s(),e("div",null,a[0]||(a[0]=[t('<h1 id="加密解密" tabindex="-1">加密解密 <a class="header-anchor" href="#加密解密" aria-label="Permalink to “加密解密”">​</a></h1><nav class="table-of-contents"><ul><li><a href="#概述">概述</a></li><li><a href="#配置">配置</a></li><li><a href="#使用加密器">使用加密器</a><ul><li><a href="#加密一個值">加密一個值</a></li><li><a href="#解密一個值">解密一個值</a></li></ul></li></ul></nav><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to “概述”">​</a></h2><p>Goravel 的加密服務提供了簡單方便的介面，可以通過 OpenSSL 使用 AES-256 加密進行文字的加密和解密。 所有 Goravel 的加密值都使用消息認證碼 (GMAC) 簽名，以確保其底層值在加密後不會被修改或篡改。</p><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to “配置”">​</a></h2><p>在使用 Goravel 的加密工具之前，你必須在 <code>config/app.go</code> 配置文件中設置 <code>key</code> 配置選項。 此選項由 <code>APP_KEY</code> 環境變數驅動。 使用 <code>go run . artisan key:generate</code> 命令來生成該變數的值，因為 <code>key:generate</code> 命令將使用 Golang 的安全隨機字節生成器為你的應用程序生成安全的加密密鑰。</p><h2 id="使用加密器" tabindex="-1">使用加密器 <a class="header-anchor" href="#使用加密器" aria-label="Permalink to “使用加密器”">​</a></h2><h3 id="加密一個值" tabindex="-1">加密一個值 <a class="header-anchor" href="#加密一個值" aria-label="Permalink to “加密一個值”">​</a></h3><p>要加密一個值，你可以使用 <code>facades.Crypt()</code> 中的 <code>EncryptString</code> 方法。 此方法使用 OpenSSL 和 AES-256-GCM 密碼加密值。 此外，所有加密值都使用消息認證碼 (GMAC) 進行簽名，以防止惡意用戶通過篡改數據來進行解密。</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">secret, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Crypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EncryptString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="解密一個值" tabindex="-1">解密一個值 <a class="header-anchor" href="#解密一個值" aria-label="Permalink to “解密一個值”">​</a></h3><p>你可以使用 <code>facades.Crypt()</code> 提供的 <code>DecryptString</code> 來解密值。 如果該值無法正確解密，例如消息認證碼 (MAC) 無效，則會返回錯誤。 如果該值無法正確解密，例如消息認證碼無效，將返回錯誤。</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">str, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Crypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DecryptString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(secret)</span></span></code></pre></div>',13)]))}const g=i(h,[["render",r]]);export{k as __pageData,g as default};
