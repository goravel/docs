import{_ as e,f as i,o as s,an as r}from"./chunks/framework.CFMQV-X7.js";const k=JSON.parse('{"title":"ä» v1.8 å‡çº§åˆ° v1.9","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/upgrade/v1.9.md","filePath":"zh_CN/upgrade/v1.9.md","lastUpdated":1757431493000}'),n={name:"zh_CN/upgrade/v1.9.md"};function l(t,a,o,h,p,d){return s(),i("div",null,a[0]||(a[0]=[r(`<h1 id="ä»-v1-8-å‡çº§åˆ°-v1-9" tabindex="-1">ä» v1.8 å‡çº§åˆ° v1.9 <a class="header-anchor" href="#ä»-v1-8-å‡çº§åˆ°-v1-9" aria-label="Permalink to â€œä» v1.8 å‡çº§åˆ° v1.9â€">â€‹</a></h1><nav class="table-of-contents"><ul><li><a href="#åŠŸèƒ½å¢å¼º-ğŸš€">åŠŸèƒ½å¢å¼º ğŸš€</a></li><li><a href="#ç ´åæ€§å˜åŒ–-ğŸ› ">ç ´åæ€§å˜åŒ– ğŸ› </a></li><li><a href="#bug-ä¿®å¤-ğŸ›">Bug ä¿®å¤ ğŸ›</a></li><li><a href="#å‡çº§ä¾èµ–-â¬†ï¸">å‡çº§ä¾èµ– â¬†ï¸</a></li><li><a href="#å‡çº§æŒ‡å—">å‡çº§æŒ‡å—</a><ul><li><a href="#æ›´æ–°ä¾èµ–">æ›´æ–°ä¾èµ–</a></li><li><a href="#æ–°å¢æ•°æ®åº“è¯»å†™åˆ†ç¦»">æ–°å¢æ•°æ®åº“è¯»å†™åˆ†ç¦»</a></li><li><a href="#æ–°å¢æ•°æ®åº“è¿æ¥æ± é…ç½®">æ–°å¢æ•°æ®åº“è¿æ¥æ± é…ç½®</a></li><li><a href="#è‡ªå®šä¹‰-env-è·¯å¾„">è‡ªå®šä¹‰ .env è·¯å¾„</a></li><li><a href="#cache-æ–°å¢-memory-é©±åŠ¨">Cache æ–°å¢ Memory é©±åŠ¨</a></li><li><a href="#orm-æ–°å¢åˆ†é¡µæ–¹æ³•">Orm æ–°å¢åˆ†é¡µæ–¹æ³•</a></li><li><a href="#æ–°å¢-make-å‘½ä»¤">æ–°å¢ make å‘½ä»¤</a></li><li><a href="#response-æ–°å¢æ–¹æ³•">Response æ–°å¢æ–¹æ³•</a></li><li><a href="#request-prepareforvalidation-æ–¹æ³•æ–°å¢-error-è¿”å›">Request PrepareForValidation æ–¹æ³•æ–°å¢ error è¿”å›</a></li><li><a href="#file-è·å–é”™è¯¯çš„æ–‡ä»¶ç±»å‹">File è·å–é”™è¯¯çš„æ–‡ä»¶ç±»å‹</a></li><li><a href="#ä¿®å¤-make-event-å’Œ-make-listener-å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰è¯¯çš„é—®é¢˜">ä¿®å¤ make:event å’Œ make:listener å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰è¯¯çš„é—®é¢˜</a></li><li><a href="#ä¿®å¤ä¿å­˜æ–‡ä»¶æ—¶æœ‰äº›ç±»å‹æ— æ³•è·å–åç¼€çš„é—®é¢˜">ä¿®å¤ä¿å­˜æ–‡ä»¶æ—¶æœ‰äº›ç±»å‹æ— æ³•è·å–åç¼€çš„é—®é¢˜</a></li></ul></li></ul></nav><h2 id="åŠŸèƒ½å¢å¼º-ğŸš€" tabindex="-1">åŠŸèƒ½å¢å¼º ğŸš€ <a class="header-anchor" href="#åŠŸèƒ½å¢å¼º-ğŸš€" aria-label="Permalink to â€œåŠŸèƒ½å¢å¼º ğŸš€â€">â€‹</a></h2><ul><li><a href="#æ–°å¢æ•°æ®åº“è¯»å†™åˆ†ç¦»">æ–°å¢æ•°æ®åº“è¯»å†™åˆ†ç¦»(1.9.0)</a></li><li><a href="#æ–°å¢æ•°æ®åº“è¿æ¥æ± é…ç½®">æ–°å¢æ•°æ®åº“è¿æ¥æ± é…ç½®(1.9.0)</a></li><li><a href="#è‡ªå®šä¹‰-.env-è·¯å¾„">è‡ªå®šä¹‰ .env è·¯å¾„(1.9.0)</a></li><li><a href="#cache-æ–°å¢-memory-é©±åŠ¨">Cache æ–°å¢ Memory é©±åŠ¨(1.9.0)</a></li><li><a href="#orm-æ–°å¢åˆ†é¡µæ–¹æ³•">Orm æ–°å¢åˆ†é¡µæ–¹æ³•(1.9.0)</a></li><li><a href="#æ–°å¢-make-å‘½ä»¤">æ–°å¢ make å‘½ä»¤(1.9.0)</a></li><li><a href="#response-æ–°å¢æ–¹æ³•">Response æ–°å¢æ–¹æ³•(1.9.0)</a></li></ul><h2 id="ç ´åæ€§å˜åŒ–-ğŸ› " tabindex="-1">ç ´åæ€§å˜åŒ– ğŸ›  <a class="header-anchor" href="#ç ´åæ€§å˜åŒ–-ğŸ› " aria-label="Permalink to â€œç ´åæ€§å˜åŒ– ğŸ› â€">â€‹</a></h2><ul><li><a href="#Request-PrepareForValidation-æ–¹æ³•æ–°å¢-error-è¿”å›">Request PrepareForValidation æ–¹æ³•æ–°å¢ error è¿”å›(1.9.0)</a></li></ul><h2 id="bug-ä¿®å¤-ğŸ›" tabindex="-1">Bug ä¿®å¤ ğŸ› <a class="header-anchor" href="#bug-ä¿®å¤-ğŸ›" aria-label="Permalink to â€œBug ä¿®å¤ ğŸ›â€">â€‹</a></h2><ul><li><a href="#File-è·å–é”™è¯¯çš„æ–‡ä»¶ç±»å‹">File è·å–é”™è¯¯çš„æ–‡ä»¶ç±»å‹(1.9.0)</a></li><li><a href="#ä¿®å¤-make:event-å’Œ-make:listener-å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰è¯¯çš„é—®é¢˜">ä¿®å¤ make:event å’Œ make:listener å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰è¯¯çš„é—®é¢˜(1.9.0)</a></li><li><a href="#ä¿®å¤ä¿å­˜æ–‡ä»¶æ—¶æœ‰äº›ç±»å‹æ— æ³•è·å–åç¼€çš„é—®é¢˜">ä¿®å¤ä¿å­˜æ–‡ä»¶æ—¶æœ‰äº›ç±»å‹æ— æ³•è·å–åç¼€çš„é—®é¢˜(1.9.1)</a></li></ul><h2 id="å‡çº§ä¾èµ–-â¬†ï¸" tabindex="-1">å‡çº§ä¾èµ– â¬†ï¸ <a class="header-anchor" href="#å‡çº§ä¾èµ–-â¬†ï¸" aria-label="Permalink to â€œå‡çº§ä¾èµ– â¬†ï¸â€">â€‹</a></h2><ul><li>build(deps): bump github.com/gin-gonic/gin from v1.7.3 to v1.8.2</li></ul><h2 id="å‡çº§æŒ‡å—" tabindex="-1">å‡çº§æŒ‡å— <a class="header-anchor" href="#å‡çº§æŒ‡å—" aria-label="Permalink to â€œå‡çº§æŒ‡å—â€">â€‹</a></h2><p><strong>é¢„è®¡å‡çº§æ—¶é—´ï¼š10 åˆ†é’Ÿ</strong></p><h3 id="æ›´æ–°ä¾èµ–" tabindex="-1">æ›´æ–°ä¾èµ– <a class="header-anchor" href="#æ›´æ–°ä¾èµ–" aria-label="Permalink to â€œæ›´æ–°ä¾èµ–â€">â€‹</a></h3><p><code>go.mod</code> ä¸­æ›´æ–°ä¾èµ–ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>go get -u github.com/goravel/framework@v1.9.0</span></span></code></pre></div><h3 id="æ–°å¢æ•°æ®åº“è¯»å†™åˆ†ç¦»" tabindex="-1">æ–°å¢æ•°æ®åº“è¯»å†™åˆ†ç¦» <a class="header-anchor" href="#æ–°å¢æ•°æ®åº“è¯»å†™åˆ†ç¦»" aria-label="Permalink to â€œæ–°å¢æ•°æ®åº“è¯»å†™åˆ†ç¦»â€">â€‹</a></h3><p>Version: v1.9.0</p><p>æ•°æ®åº“æ”¯æŒè¯»å†™åˆ†ç¦»é…ç½®ï¼Œ<a href="./../orm/getting-started.html#è¯»å†™åˆ†ç¦»">è¯¦è§æ–‡æ¡£</a>ã€‚</p><h3 id="æ–°å¢æ•°æ®åº“è¿æ¥æ± é…ç½®" tabindex="-1">æ–°å¢æ•°æ®åº“è¿æ¥æ± é…ç½® <a class="header-anchor" href="#æ–°å¢æ•°æ®åº“è¿æ¥æ± é…ç½®" aria-label="Permalink to â€œæ–°å¢æ•°æ®åº“è¿æ¥æ± é…ç½®â€">â€‹</a></h3><p>Version: v1.9.0</p><p>æ•°æ®åº“é…ç½®æ–‡ä»¶ <code>config/database.go</code> æ–°å¢è¿æ¥æ± é…ç½® <code>pool</code>ï¼Œ<a href="https://github.com/goravel/goravel/blob/v1.9.x/config/database.go" target="_blank" rel="noreferrer">è¯¦è§æ–‡ä»¶</a>ã€‚</p><h3 id="è‡ªå®šä¹‰-env-è·¯å¾„" tabindex="-1">è‡ªå®šä¹‰ .env è·¯å¾„ <a class="header-anchor" href="#è‡ªå®šä¹‰-env-è·¯å¾„" aria-label="Permalink to â€œè‡ªå®šä¹‰ .env è·¯å¾„â€">â€‹</a></h3><p>Version: v1.9.0</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// ç¼–è¯‘å‰</span></span>
<span class="line"><span>go run . --env=../.env</span></span>
<span class="line"><span></span></span>
<span class="line"><span>//ç¼–è¯‘å</span></span>
<span class="line"><span>./main --env=../.env</span></span></code></pre></div><h3 id="cache-æ–°å¢-memory-é©±åŠ¨" tabindex="-1">Cache æ–°å¢ Memory é©±åŠ¨ <a class="header-anchor" href="#cache-æ–°å¢-memory-é©±åŠ¨" aria-label="Permalink to â€œCache æ–°å¢ Memory é©±åŠ¨â€">â€‹</a></h3><p>Version: v1.9.0</p><p><code>config/cache.go</code> æ–°å¢ <code>memory</code> é…ç½®ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>&quot;stores&quot;: map[string]any{</span></span>
<span class="line"><span>  // æ–°å¢</span></span>
<span class="line"><span>  &quot;memory&quot;: map[string]any{</span></span>
<span class="line"><span>    &quot;driver&quot;: &quot;memory&quot;,</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>},</span></span></code></pre></div><p><a href="https://github.com/goravel/goravel/blob/v1.9.x/config/cache.go" target="_blank" rel="noreferrer">è¯¦è§æ–‡ä»¶</a></p><h3 id="orm-æ–°å¢åˆ†é¡µæ–¹æ³•" tabindex="-1">Orm æ–°å¢åˆ†é¡µæ–¹æ³• <a class="header-anchor" href="#orm-æ–°å¢åˆ†é¡µæ–¹æ³•" aria-label="Permalink to â€œOrm æ–°å¢åˆ†é¡µæ–¹æ³•â€">â€‹</a></h3><p>Version: v1.9.0</p><p><code>facades.Orm</code> æ–°å¢ <code>Paginate</code> æ–¹æ³•ï¼Œ<a href="./../orm/getting-started.html#åˆ†é¡µ">è¯¦è§æ–‡æ¡£</a>ã€‚</p><h3 id="æ–°å¢-make-å‘½ä»¤" tabindex="-1">æ–°å¢ make å‘½ä»¤ <a class="header-anchor" href="#æ–°å¢-make-å‘½ä»¤" aria-label="Permalink to â€œæ–°å¢ make å‘½ä»¤â€">â€‹</a></h3><p>Version: v1.9.0</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// åˆ›å»ºæ§åˆ¶å™¨</span></span>
<span class="line"><span>go run . artisan make:controller UserController</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// åˆ›å»º HTTP ä¸­é—´ä»¶</span></span>
<span class="line"><span>go run . artisan make:middleware Cors</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// åˆ›å»ºæ¨¡å‹</span></span>
<span class="line"><span>go run . artisan make:model User</span></span></code></pre></div><h3 id="response-æ–°å¢æ–¹æ³•" tabindex="-1">Response æ–°å¢æ–¹æ³• <a class="header-anchor" href="#response-æ–°å¢æ–¹æ³•" aria-label="Permalink to â€œResponse æ–°å¢æ–¹æ³•â€">â€‹</a></h3><p>Version: v1.9.0</p><table tabindex="0"><thead><tr><th>æ–¹æ³•å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>Data</td><td><a href="./../the-basics/response.html#è‡ªå®šä¹‰è¿”å›">è‡ªå®šä¹‰è¿”å›</a></td></tr><tr><td>Redirect</td><td><a href="./../the-basics/response.html#é‡å®šå‘">é‡å®šå‘</a></td></tr></tbody></table><h3 id="request-prepareforvalidation-æ–¹æ³•æ–°å¢-error-è¿”å›" tabindex="-1">Request PrepareForValidation æ–¹æ³•æ–°å¢ error è¿”å› <a class="header-anchor" href="#request-prepareforvalidation-æ–¹æ³•æ–°å¢-error-è¿”å›" aria-label="Permalink to â€œRequest PrepareForValidation æ–¹æ³•æ–°å¢ error è¿”å›â€">â€‹</a></h3><p>Version: v1.9.0</p><p>å¦‚æœä½ ä½¿ç”¨åˆ°äº† <a href="./../the-basics/validation.html#éªŒè¯å‰æ ¼å¼åŒ–æ•°æ®">è¡¨å•éªŒè¯ä¸­çš„ PrepareForValidation æ–¹æ³•</a>ï¼Œè¯·æ–°å¢è¿”å›å€¼ï¼š<code>PrepareForValidation(data validation.Data) error</code>ã€‚</p><h3 id="file-è·å–é”™è¯¯çš„æ–‡ä»¶ç±»å‹" tabindex="-1">File è·å–é”™è¯¯çš„æ–‡ä»¶ç±»å‹ <a class="header-anchor" href="#file-è·å–é”™è¯¯çš„æ–‡ä»¶ç±»å‹" aria-label="Permalink to â€œFile è·å–é”™è¯¯çš„æ–‡ä»¶ç±»å‹â€">â€‹</a></h3><p>Version: v1.9.0</p><p>ä¿®å¤ <code>.docx</code>, <code>.xlsx</code> ç­‰ç±»å‹é”™è¯¯çš„è¯†åˆ«ä¸º <code>.zip</code> çš„é—®é¢˜ã€‚</p><h3 id="ä¿®å¤-make-event-å’Œ-make-listener-å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰è¯¯çš„é—®é¢˜" tabindex="-1">ä¿®å¤ make:event å’Œ make:listener å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰è¯¯çš„é—®é¢˜ <a class="header-anchor" href="#ä¿®å¤-make-event-å’Œ-make-listener-å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰è¯¯çš„é—®é¢˜" aria-label="Permalink to â€œä¿®å¤ make:event å’Œ make:listener å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰è¯¯çš„é—®é¢˜â€">â€‹</a></h3><p>Version: v1.9.0</p><p><code>import &quot;github.com/goravel/framework/contracts/events&quot;</code> æ”¹ä¸º <code>import &quot;github.com/goravel/framework/contracts/event&quot;</code></p><h3 id="ä¿®å¤ä¿å­˜æ–‡ä»¶æ—¶æœ‰äº›ç±»å‹æ— æ³•è·å–åç¼€çš„é—®é¢˜" tabindex="-1">ä¿®å¤ä¿å­˜æ–‡ä»¶æ—¶æœ‰äº›ç±»å‹æ— æ³•è·å–åç¼€çš„é—®é¢˜ <a class="header-anchor" href="#ä¿®å¤ä¿å­˜æ–‡ä»¶æ—¶æœ‰äº›ç±»å‹æ— æ³•è·å–åç¼€çš„é—®é¢˜" aria-label="Permalink to â€œä¿®å¤ä¿å­˜æ–‡ä»¶æ—¶æœ‰äº›ç±»å‹æ— æ³•è·å–åç¼€çš„é—®é¢˜â€">â€‹</a></h3><p>Version: v1.9.1</p><p>ä¸‹é¢ä»£ç æœ‰äº›ç±»å‹æ— æ³•è·å–åç¼€:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Store</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;upload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,51)]))}const m=e(n,[["render",l]]);export{k as __pageData,m as default};
