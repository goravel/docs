import{_ as s,f as i,o as e,an as t}from"./chunks/framework.CFMQV-X7.js";const k=JSON.parse('{"title":"请求周期","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/architecture-concepts/request-lifecycle.md","filePath":"zh_CN/architecture-concepts/request-lifecycle.md","lastUpdated":1770974941000}'),n={name:"zh_CN/architecture-concepts/request-lifecycle.md"};function l(h,a,p,o,c,r){return e(),i("div",null,a[0]||(a[0]=[t(`<h1 id="请求周期" tabindex="-1">请求周期 <a class="header-anchor" href="#请求周期" aria-label="Permalink to “请求周期”">​</a></h1><nav class="table-of-contents"><ul><li><a href="#简介">简介</a></li><li><a href="#生命周期概览">生命周期概览</a></li></ul></nav><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to “简介”">​</a></h2><p>了解其工作原理会让任何工具在现实世界中使用起来更加直观。 这份文档旨在为您提供一个清晰的高层次视角，了解Goravel的工作原理。 不要担心一开始不能完全理解每个术语——只需大致了解事物是如何工作的，随着你继续探索其余文档，你的专业知识将会增长。</p><h2 id="生命周期概览" tabindex="-1">生命周期概览 <a class="header-anchor" href="#生命周期概览" aria-label="Permalink to “生命周期概览”">​</a></h2><ol><li><p><code>main.go</code> 是应用程序的入口点，它会调用 <code>bootstrap.Boot()</code> 函数来初始化框架，并使用 <code>app.Wait()</code> 来保持应用程序运行。</p></li><li><p><code>bootstrap.Boot()</code>函数会通过调用<code>foundation.Setup()</code>来初始化一个新的Goravel应用实例，你可以在这里通过<code>With*</code>函数设置服务提供者、路由以及其他设置，如迁移、调度等。 最后，调用<code>Create()</code>方法来启动应用程序。</p></li><li><p>在<code>Create()</code>方法中，它会首先加载配置，然后注册所有服务提供程序和其他设置。 最后，启动所有服务提供者，返回应用实例。</p></li><li><p>应用创建后，在此阶段通常可以使用所有 facades，但请注意，你的自定义代码应放置在 <code>main.go</code> 文件中的 <code>app.Start()</code> 之前。 或者，你可以将代码添加到 <code>bootstrap/app.go</code> 文件中的 <code>WithCallback</code> 函数中，以确保代码在应用创建后执行。 运行 <code>app.Start()</code> 时，如果配置了 HTTP 或 gRPC 服务器，它们将自动启动。</p></li></ol><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Boot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">contractsfoundation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> foundation.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    WithConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config.Boot).</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    WithCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // Your custom code here, all facades are available here.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }).</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,7)]))}const E=s(n,[["render",l]]);export{k as __pageData,E as default};
