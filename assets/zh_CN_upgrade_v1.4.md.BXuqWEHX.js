import{_ as a,f as r,o as t,an as i}from"./chunks/framework.CFMQV-X7.js";const d=JSON.parse('{"title":"从 v1.3 升级到 v1.4","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/upgrade/v1.4.md","filePath":"zh_CN/upgrade/v1.4.md","lastUpdated":1761445110000}'),o={name:"zh_CN/upgrade/v1.4.md"};function l(s,e,h,p,n,c){return t(),r("div",null,e[0]||(e[0]=[i('<h1 id="从-v1-3-升级到-v1-4" tabindex="-1">从 v1.3 升级到 v1.4 <a class="header-anchor" href="#从-v1-3-升级到-v1-4" aria-label="Permalink to “从 v1.3 升级到 v1.4”">​</a></h1><nav class="table-of-contents"><ul><li><a href="#高影响变化">高影响变化</a></li><li><a href="#低影响变化">低影响变化</a></li><li><a href="#升级指南">升级指南</a><ul><li><a href="#更新依赖">更新依赖</a></li><li><a href="#优化-grpc-模块">优化 Grpc 模块</a></li><li><a href="#优化路由注册">优化路由注册</a></li><li><a href="#http-context-新增方法">http.Context 新增方法</a></li><li><a href="#request-新增方法">Request 新增方法</a></li></ul></li></ul></nav><h2 id="高影响变化" tabindex="-1">高影响变化 <a class="header-anchor" href="#高影响变化" aria-label="Permalink to “高影响变化”">​</a></h2><ul><li><a href="#优化-grpc-模块">优化 Grpc 模块</a></li><li><a href="#优化路由注册">优化路由注册</a></li></ul><h2 id="低影响变化" tabindex="-1">低影响变化 <a class="header-anchor" href="#低影响变化" aria-label="Permalink to “低影响变化”">​</a></h2><ul><li><a href="#http-context-新增方法">http.Context 新增方法</a></li><li><a href="#request-新增方法">Request 新增方法</a></li></ul><h2 id="升级指南" tabindex="-1">升级指南 <a class="header-anchor" href="#升级指南" aria-label="Permalink to “升级指南”">​</a></h2><p><strong>预计升级时间：1 分钟</strong></p><h3 id="更新依赖" tabindex="-1">更新依赖 <a class="header-anchor" href="#更新依赖" aria-label="Permalink to “更新依赖”">​</a></h3><p><strong>影响可能性：高</strong></p><p><code>go.mod</code> 中更新依赖：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">github.com</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">goravel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">framework v1.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4.0</span></span></code></pre></div><h3 id="优化-grpc-模块" tabindex="-1">优化 Grpc 模块 <a class="header-anchor" href="#优化-grpc-模块" aria-label="Permalink to “优化 Grpc 模块”">​</a></h3><p><strong>影响可能性：高</strong></p><ol><li>新增 <a href="https://github.com/goravel/goravel/blob/v1.4.0/app/grpc/kernel.go" target="_blank" rel="noreferrer">app/grpc/kernel.go</a> 文件；</li><li>新增 <a href="https://github.com/goravel/goravel/tree/v1.4.0/app/grpc/interceptors" target="_blank" rel="noreferrer">app/grpc/interceptors</a> 目录；</li><li>新增 <a href="https://github.com/goravel/goravel/blob/v1.4.0/config/grpc.go" target="_blank" rel="noreferrer">config/grpc.go</a> 文件；</li><li>新增 <a href="https://github.com/goravel/goravel/blob/v1.4.0/routes/grpc.go" target="_blank" rel="noreferrer">routes/grpc.go</a> 文件；</li><li><a href="https://github.com/goravel/goravel/blob/v1.4.0/app/providers/grpc_service_provider.go" target="_blank" rel="noreferrer">app/providers/grpc_service_provider.go</a> 新增注册拦截器逻辑；</li><li><a href="https://github.com/goravel/goravel/blob/v1.4.0/config/app.go" target="_blank" rel="noreferrer">config/app.go</a> 文件删除 <code>grpc_host</code> 键值；</li></ol><p><a href="./../the-basics/grpc.html">查看文档</a></p><h3 id="优化路由注册" tabindex="-1">优化路由注册 <a class="header-anchor" href="#优化路由注册" aria-label="Permalink to “优化路由注册”">​</a></h3><p><strong>影响可能性：高</strong></p><p><a href="https://github.com/goravel/goravel/blob/v1.4.0/app/providers/route_service_provider.go" target="_blank" rel="noreferrer">app/providers/route_service_provider.go</a> 文件中，将 <code>routes.Web()</code> 由 <code>Register()</code> 移动到 <code>Boot()</code>。</p><h3 id="http-context-新增方法" tabindex="-1">http.Context 新增方法 <a class="header-anchor" href="#http-context-新增方法" aria-label="Permalink to “http.Context 新增方法”">​</a></h3><p><strong>影响可能性：低</strong></p><p>新增 <code>ctx.Context()</code> 方法。</p><p><a href="./../the-basics/request.html#获取-context">查看文档</a></p><h3 id="request-新增方法" tabindex="-1">Request 新增方法 <a class="header-anchor" href="#request-新增方法" aria-label="Permalink to “Request 新增方法”">​</a></h3><p><strong>影响可能性：低</strong></p><p>新增 <code>ctx.Request().AbortWithStatusJson</code> 方法。</p><p><a href="./../the-basics/request.html#中断请求">查看文档</a></p>',27)]))}const b=a(o,[["render",l]]);export{d as __pageData,b as default};
