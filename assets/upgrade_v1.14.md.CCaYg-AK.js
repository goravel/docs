import{_ as i,f as a,o as e,an as n}from"./chunks/framework.CFMQV-X7.js";const c=JSON.parse('{"title":"Upgrading To v1.14 From v1.13","description":"","frontmatter":{},"headers":[],"relativePath":"upgrade/v1.14.md","filePath":"en/upgrade/v1.14.md","lastUpdated":1769935623000}'),t={name:"upgrade/v1.14.md"};function l(h,s,r,p,o,d){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="upgrading-to-v1-14-from-v1-13" tabindex="-1">Upgrading To v1.14 From v1.13 <a class="header-anchor" href="#upgrading-to-v1-14-from-v1-13" aria-label="Permalink to â€œUpgrading To v1.14 From v1.13â€">â€‹</a></h1><h3 id="exciting-new-features-ðŸŽ‰" tabindex="-1">Exciting New Features ðŸŽ‰ <a class="header-anchor" href="#exciting-new-features-ðŸŽ‰" aria-label="Permalink to â€œExciting New Features ðŸŽ‰â€">â€‹</a></h3><ul><li><a href="#localization">Localization</a></li><li><a href="#installer">Installer</a></li><li><a href="#cookie">Cookie</a></li><li><a href="#session">Session</a></li></ul><h3 id="enhancements-ðŸš€" tabindex="-1">Enhancements ðŸš€ <a class="header-anchor" href="#enhancements-ðŸš€" aria-label="Permalink to â€œEnhancements ðŸš€â€">â€‹</a></h3><ul><li><a href="#support-for-setting-body-limit-and-header-limit-in-gin-and-fiber-drivers">Support for setting body_limit and header_limit in Gin and Fiber drivers</a></li><li><a href="#log-adds-new-methods">Log adds new methods</a></li><li><a href="#orm-adds-new-methods">Orm adds new methods</a></li><li><a href="#console-adds-new-methods">Console adds new methods</a></li><li><a href="#response-adds-new-methods">Response adds new methods</a></li><li><a href="#add-build-command">Add Build command</a></li><li><a href="#add-helper-methods">Add helper methods</a></li><li><a href="#redis-driver-supports-tls">Redis driver supports TLS</a></li></ul><h3 id="breaking-changes-ðŸ› " tabindex="-1">Breaking Changes ðŸ›  <a class="header-anchor" href="#breaking-changes-ðŸ› " aria-label="Permalink to â€œBreaking Changes ðŸ› â€">â€‹</a></h3><ul><li><a href="#validation-will-not-bind-data-if-validation-fails">Validation will not bind data if validation fails</a></li><li><a href="#add-new-methods-and-modify-methods-for-testing-module">Add new methods and modify methods for Testing module</a></li><li><a href="#optimize-the-queue-method-of-mail">Optimize the Queue method of Mail</a></li><li><a href="#optimize-the-setting-method-of-the-auth-module-ctx">Optimize the setting method of the Auth module ctx</a></li><li><a href="#optimize-the-way-of-mock-facades">Optimize the way of mock facades</a></li><li><a href="#framework-orm-model-adds-json-tag">Framework Orm model adds json tag</a></li></ul><h3 id="v1-14-1" tabindex="-1">v1.14.1 <a class="header-anchor" href="#v1-14-1" aria-label="Permalink to â€œv1.14.1â€">â€‹</a></h3><ul><li><a href="#fix-the-session-is-not-set-successfully-in-the-gin-driver">Fix the session is not set successfully in the gin driver</a></li><li><a href="#fix-the-language-file-cannot-be-read-in-the-localization-module">Fix the language file cannot be read in the localization module</a></li></ul><h3 id="v1-14-2" tabindex="-1">v1.14.2 <a class="header-anchor" href="#v1-14-2" aria-label="Permalink to â€œv1.14.2â€">â€‹</a></h3><ul><li><a href="#fix-validation-verification-of-image-and-file-failed">Fix Validation verification of image and file failed</a></li><li><a href="#fix-the-cookie-expires-set-by-the-goravel-gin-driver-is-invalid">Fix the cookie Expires set by the goravel/gin driver is invalid</a></li></ul><h3 id="v1-14-3" tabindex="-1">v1.14.3 <a class="header-anchor" href="#v1-14-3" aria-label="Permalink to â€œv1.14.3â€">â€‹</a></h3><p>Upgrade the related packages: goravel/gin: v1.2.2, goravel/fiber: v1.2.2</p><ul><li><a href="#fix-validation-cannot-bind-slice">Fix Validation cannot bind slice</a></li><li><a href="#validation-supports-bind-carbon">Validation supports bind carbon</a></li></ul><h3 id="v1-14-4" tabindex="-1">v1.14.4 <a class="header-anchor" href="#v1-14-4" aria-label="Permalink to â€œv1.14.4â€">â€‹</a></h3><p>Upgrade the related packages: goravel/gin: v1.2.3</p><ul><li><a href="#fix-session-concurrent-problem">Fix Session concurrent problem</a></li><li><a href="#fix-gin-sets-session-same_site-invalid">Fix Gin sets Session same_site invalid</a></li></ul><h3 id="v1-14-5" tabindex="-1">v1.14.5 <a class="header-anchor" href="#v1-14-5" aria-label="Permalink to â€œv1.14.5â€">â€‹</a></h3><p>Upgrade the related packages: goravel/gin: v1.2.4, goravel/fiber: v1.2.3</p><ul><li><a href="#add-shutdown-method-for-route">Add Shutdown method for Route</a></li></ul><h3 id="v1-14-7" tabindex="-1">v1.14.7 <a class="header-anchor" href="#v1-14-7" aria-label="Permalink to â€œv1.14.7â€">â€‹</a></h3><p>Upgrade the related packages: goravel/gin: v1.2.5, goravel/fiber: v1.2.4</p><ul><li><a href="#optimize-the-ctx-withvalue-method-of-http">Optimize the ctx.WithValue method of HTTP</a></li></ul><h3 id="v1-14-8" tabindex="-1">v1.14.8 <a class="header-anchor" href="#v1-14-8" aria-label="Permalink to â€œv1.14.8â€">â€‹</a></h3><ul><li><a href="#fix-the-problem-of-conflicting-listener-registration">Fix the problem of conflicting listener registration</a></li></ul><h3 id="v1-14-9" tabindex="-1">v1.14.9 <a class="header-anchor" href="#v1-14-9" aria-label="Permalink to â€œv1.14.9â€">â€‹</a></h3><ul><li><a href="#fix-the-problem-of-custom-log-driver-console-repeatedly-printing">Fix the problem of custom Log driver console repeatedly printing</a></li><li><a href="#fix-the-problem-of-data-binding-error-when-http-json-request-contains-multi-level-structure">Fix the problem of data binding error when HTTP JSON Request contains multi-level structure</a></li></ul><h2 id="upgrade-guide" tabindex="-1">Upgrade Guide <a class="header-anchor" href="#upgrade-guide" aria-label="Permalink to â€œUpgrade Guideâ€">â€‹</a></h2><p>Goravel v1.14 is developed and tested based on Golang 1.21, and generally compatible with other lower Golang versions. Please upgrade the framework step by step according to the content in this section.</p><p><strong>Estimated Upgrade Time: 10 Minutes</strong></p><h3 id="_1-updating-dependencies" tabindex="-1">1. Updating Dependencies <a class="header-anchor" href="#_1-updating-dependencies" aria-label="Permalink to â€œ1. Updating Dependenciesâ€">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>go get -u github.com/goravel/framework@v1.14.7</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// If using gin</span></span>
<span class="line"><span>go get -u github.com/goravel/gin@v1.2.5</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// If using fiber</span></span>
<span class="line"><span>go get -u github.com/goravel/fiber@v1.2.4</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// If using redis</span></span>
<span class="line"><span>go get -u github.com/goravel/redis@v1.2.1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// If using s3</span></span>
<span class="line"><span>go get -u github.com/goravel/s3@v1.2.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// If using oss</span></span>
<span class="line"><span>go get -u github.com/goravel/oss@v1.2.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// If using cos</span></span>
<span class="line"><span>go get -u github.com/goravel/cos@v1.2.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// If using minio</span></span>
<span class="line"><span>go get -u github.com/goravel/minio@v1.2.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// If using cloudinay</span></span>
<span class="line"><span>go get -u github.com/goravel/cloudinary@v1.2.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>go mod tidy</span></span></code></pre></div><h3 id="_2-adding-configuration-items" tabindex="-1">2. Adding Configuration Items <a class="header-anchor" href="#_2-adding-configuration-items" aria-label="Permalink to â€œ2. Adding Configuration Itemsâ€">â€‹</a></h3><ol><li><code>config/app.go</code> adds localization module configuration items:</li></ol><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;locale&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;en&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fallback_locale&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;en&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;providers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foundation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">translation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="2"><li>If you want to use the <code>session</code> feature, add the <a href="https://github.com/goravel/goravel/blob/master/config/session.go" target="_blank" rel="noreferrer">config/session.go</a> file;</li></ol><h3 id="_3-if-using-the-validation-module" tabindex="-1">3. If using the Validation module <a class="header-anchor" href="#_3-if-using-the-validation-module" aria-label="Permalink to â€œ3. If using the Validation moduleâ€">â€‹</a></h3><p>Confirm whether you are still trying to read the binding value even if the data validation fails. If so, you need to optimize the logic, because the value is empty after the upgrade. See: <a href="#validation-will-not-bind-data-if-validation-fails">Validation will not bind data if validation fails</a>.</p><h3 id="_4-if-using-the-testing-module" tabindex="-1">4. If using the Testing module <a class="header-anchor" href="#_4-if-using-the-testing-module" aria-label="Permalink to â€œ4. If using the Testing moduleâ€">â€‹</a></h3><p>Check whether using the <code>Clear</code>, <code>Image</code> methods, if so, need to modify accordingly: <a href="#add-new-methods-and-modify-methods-for-testing-module">Add new methods and modify methods for Testing module</a></p><h3 id="_5-if-using-the-mail-module" tabindex="-1">5. if using the Mail module <a class="header-anchor" href="#_5-if-using-the-mail-module" aria-label="Permalink to â€œ5. if using the Mail moduleâ€">â€‹</a></h3><p>Check whether using the <code>Queue</code> method, if so, need to modify accordingly: <a href="#optimize-the-queue-method-of-mail">Optimize the Queue method of Mail</a></p><h3 id="_6-if-using-the-auth-module" tabindex="-1">6. If using the Auth module <a class="header-anchor" href="#_6-if-using-the-auth-module" aria-label="Permalink to â€œ6. If using the Auth moduleâ€">â€‹</a></h3><p>Need to modify accordingly: <a href="#optimize-the-setting-method-of-the-auth-module-ctx">Optimize the setting method of the Auth module ctx</a></p><h3 id="_7-if-using-the-mock-facades" tabindex="-1">7. If using the mock facades <a class="header-anchor" href="#_7-if-using-the-mock-facades" aria-label="Permalink to â€œ7. If using the mock facadesâ€">â€‹</a></h3><p>Need to modify accordingly: <a href="#optimize-the-way-of-mock-facades">Optimize the way of mock facades</a></p><h3 id="_8-if-using-the-framework-orm-model-and-returning-data-directly-through-the-endpoint" tabindex="-1">8. If using the framework Orm model and returning data directly through the endpoint <a class="header-anchor" href="#_8-if-using-the-framework-orm-model-and-returning-data-directly-through-the-endpoint" aria-label="Permalink to â€œ8. If using the framework Orm model and returning data directly through the endpointâ€">â€‹</a></h3><p>Need to modify accordingly: <a href="#framework-orm-model-adds-json-tag">Framework Orm model adds json tag</a></p><h2 id="feature-introduction" tabindex="-1">Feature Introduction <a class="header-anchor" href="#feature-introduction" aria-label="Permalink to â€œFeature Introductionâ€">â€‹</a></h2><h3 id="localization" tabindex="-1">Localization <a class="header-anchor" href="#localization" aria-label="Permalink to â€œLocalizationâ€">â€‹</a></h3><p>Version: v1.14.0</p><p><a href="./../digging-deeper/localization.html">View Documentation</a></p><h3 id="installer" tabindex="-1">Installer <a class="header-anchor" href="#installer" aria-label="Permalink to â€œInstallerâ€">â€‹</a></h3><p>Version: v1.14.0</p><p>The installer allows you to easily download and initialize a new Goravel project.</p><p><a href="http://github.com/goravel/installer" target="_blank" rel="noreferrer">View Documentation</a></p><h3 id="cookie" tabindex="-1">Cookie <a class="header-anchor" href="#cookie" aria-label="Permalink to â€œCookieâ€">â€‹</a></h3><p>Version: v1.14.0</p><p><a href="./../the-basics/request.html#cookie">View Request Documentation</a></p><p><a href="./../the-basics/response.html#cookie">View Response Documentation</a></p><h3 id="session" tabindex="-1">Session <a class="header-anchor" href="#session" aria-label="Permalink to â€œSessionâ€">â€‹</a></h3><p>Version: v1.14.0</p><p><a href="./../the-basics/session.html">View Documentation</a></p><h3 id="support-for-setting-body-limit-and-header-limit-in-gin-and-fiber-drivers" tabindex="-1">Support for setting body_limit and header_limit in Gin and Fiber drivers <a class="header-anchor" href="#support-for-setting-body-limit-and-header-limit-in-gin-and-fiber-drivers" aria-label="Permalink to â€œSupport for setting body_limit and header_limit in Gin and Fiber driversâ€">â€‹</a></h3><p>Version: v1.14.0</p><p>HTTP drivers support setting body_limit to limit the body size, see: <a href="https://github.com/goravel/gin/blob/c9d7706a6a04c05c8c33af5c97877a1ad2ea6362/README.md?plain=1#L54" target="_blank" rel="noreferrer">goravel/gin</a> and <a href="https://github.com/goravel/fiber/blob/aa63ab657cd2b371fcda4df0090a41226f6c0704/README.md?plain=1#L56" target="_blank" rel="noreferrer">goravel/fiber</a>.</p><h3 id="log-adds-new-methods" tabindex="-1">Log adds new methods <a class="header-anchor" href="#log-adds-new-methods" aria-label="Permalink to â€œLog adds new methodsâ€">â€‹</a></h3><p>Version: v1.14.0</p><table tabindex="0"><thead><tr><th>Method</th><th>Descrpton</th></tr></thead><tbody><tr><td><code>Stack</code></td><td>Use multiple channels at the same time</td></tr><tr><td><code>Channel</code></td><td>Specified a channel</td></tr><tr><td><code>WithTrace</code></td><td>Print trace</td></tr></tbody></table><p><a href="./../the-basics/logging.html#write-to-a-specific-channel">View Documentation</a></p><h3 id="orm-adds-new-methods" tabindex="-1">Orm adds new methods <a class="header-anchor" href="#orm-adds-new-methods" aria-label="Permalink to â€œOrm adds new methodsâ€">â€‹</a></h3><p>Version: v1.14.0</p><p>Add <code>WhereIn</code>, <code>OrWhereIn</code>, <code>OrWhereNotIn</code>, <code>WhereNotIn</code>, <code>WhereBetween</code>, <code>WhereNotBetween</code>, <code>WhereNull</code>, <code>OrWhereNull</code>, <code>OrderByDesc</code>, <code>OrderBy</code>, <code>InRandomOrder</code>, <code>Exists</code> methods.</p><h3 id="console-adds-new-methods" tabindex="-1">Console adds new methods <a class="header-anchor" href="#console-adds-new-methods" aria-label="Permalink to â€œConsole adds new methodsâ€">â€‹</a></h3><p>Version: v1.14.0</p><p><a href="./../digging-deeper/artisan-console.html#prompting-for-input">View Documentation</a></p><h3 id="response-adds-new-methods" tabindex="-1">Response adds new methods <a class="header-anchor" href="#response-adds-new-methods" aria-label="Permalink to â€œResponse adds new methodsâ€">â€‹</a></h3><p>Version: v1.14.0</p><p><a href="./../the-basics/response.html#no-content">View documentation</a></p><h3 id="add-build-command" tabindex="-1">Add Build command <a class="header-anchor" href="#add-build-command" aria-label="Permalink to â€œAdd Build commandâ€">â€‹</a></h3><p>Version: v1.14.0</p><p>The Goravel project can be compiled with the following command: <code>go run . artisan build</code>.</p><p><a href="./../getting-started/compile.html#compile-command">View Documentation</a></p><h3 id="add-helper-methods" tabindex="-1">Add helper methods <a class="header-anchor" href="#add-helper-methods" aria-label="Permalink to â€œAdd helper methodsâ€">â€‹</a></h3><p>Version: v1.14.0</p><ul><li><a href="./../digging-deeper/strings.html">Str</a></li><li><a href="./../digging-deeper/helpers.html#maps">Map</a></li><li><a href="./../digging-deeper/color.html">Color</a></li><li><a href="./../digging-deeper/helpers.html#convert">Convert</a></li><li><a href="./../digging-deeper/helpers.html#collect">Collect</a></li></ul><h3 id="redis-driver-supports-tls" tabindex="-1">Redis driver supports TLS <a class="header-anchor" href="#redis-driver-supports-tls" aria-label="Permalink to â€œRedis driver supports TLSâ€">â€‹</a></h3><p>Version: v1.14.0</p><p><a href="https://github.com/goravel/redis" target="_blank" rel="noreferrer">View Documentation</a></p><h3 id="validation-will-not-bind-data-if-validation-fails" tabindex="-1">Validation will not bind data if validation fails <a class="header-anchor" href="#validation-will-not-bind-data-if-validation-fails" aria-label="Permalink to â€œValidation will not bind data if validation failsâ€">â€‹</a></h3><p>Version: v1.14.0</p><p>Previously, when calling the methods below, the <code>userRequest</code> still bound the value, even if an error was returned. After the upgrade, it will no longer bind.</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userRequest </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">requests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UserRequest</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">errors, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ValidateRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userRequest)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// or</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">validator, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> validation.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Make</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">***</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> validator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userRequest)</span></span></code></pre></div><h3 id="add-new-methods-and-modify-methods-for-testing-module" tabindex="-1">Add new methods and modify methods for Testing module <a class="header-anchor" href="#add-new-methods-and-modify-methods-for-testing-module" aria-label="Permalink to â€œAdd new methods and modify methods for Testing moduleâ€">â€‹</a></h3><p>Version: v1.14.0</p><ol><li>Add <a href="./../testing/getting-started.html#refresh-database">Fresh</a> method;</li><li>Modify <code>Clear</code> method to <a href="./../testing/getting-started.html#uninstall-image">Stop</a> method;</li><li>The <code>Image</code> method adds <code>ExposedPorts</code> variable and remove <code>Timeout</code> variable;</li></ol><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">database, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Testing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Docker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Database</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">database.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">testingcontract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Repository: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mysql&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Tag:        </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;5.7&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Env: []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;MYSQL_ROOT_PASSWORD=123123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;MYSQL_DATABASE=goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Timeout: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ExposedPorts: []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3306&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="optimize-the-queue-method-of-mail" tabindex="-1">Optimize the Queue method of Mail <a class="header-anchor" href="#optimize-the-queue-method-of-mail" aria-label="Permalink to â€œOptimize the Queue method of Mailâ€">â€‹</a></h3><p>Version: v1.14.0</p><p>The input parameter of the <code>Queue</code> method changes from <code>queue *mail.Queue</code> to <code>queue ...mail.Queue</code>.</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- facades.Mail().Queue(nil)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ facades.Mail().Queue()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- facades.Mail().Queue(&amp;mail.Queue{})</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ facades.Mail().Queue(mail.Queue{})</span></span></code></pre></div><h3 id="optimize-the-setting-method-of-the-auth-module-ctx" tabindex="-1">Optimize the setting method of the Auth module ctx <a class="header-anchor" href="#optimize-the-setting-method-of-the-auth-module-ctx" aria-label="Permalink to â€œOptimize the setting method of the Auth module ctxâ€">â€‹</a></h3><p>Version: v1.14.0</p><p>Previously, when calling the <code>Parse</code>, <code>User</code>, <code>Login</code>, <code>LoginUsingID</code>, <code>Refresh</code>, <code>Logout</code> methods, you need to pass <code>ctx</code>. After the upgrade, you no longer need to pass <code>ctx</code>, you can directly set it in <code>facades.Auth(ctx)</code>.</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- facades.Auth().Parse(ctx, token)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ facades.Auth(ctx).Parse(token)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- facades.Auth().User(ctx, &amp;user)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ facades.Auth(ctx).User(&amp;user)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- facades.Auth().Login(ctx, &amp;user)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ facades.Auth(ctx).Login(&amp;user)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- facades.Auth().LoginUsingID(ctx, id)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ facades.Auth(ctx).LoginUsingID(id)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- facades.Auth().Refresh(ctx)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ facades.Auth(ctx).Refresh()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- facades.Auth().Logout(ctx)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ facades.Auth(ctx).Logout()</span></span></code></pre></div><h3 id="optimize-the-way-of-mock-facades" tabindex="-1">Optimize the way of mock facades <a class="header-anchor" href="#optimize-the-way-of-mock-facades" aria-label="Permalink to â€œOptimize the way of mock facadesâ€">â€‹</a></h3><p>Version: v1.14.0</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import github.com/goravel/framework/testing/mock</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ mockFactory := mock.Factory()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- app := mock.App()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ app := mockFactory.App()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- artisan := mock.Artisan()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ artisan := mockFactory.Artisan()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- auth := mock.Auth()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ auth := mockFactory.Auth()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- artisan := mock.Artisan()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ artisan := mockFactory.Artisan()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- cache, driver, lock := mock.Cache()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ cache := mockFactory.Cache()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ driver := mockFactory.CacheDriver()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ lock := mockFactory.CacheLock()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- config := mock.Config()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ config := mockFactory.Config()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- crypt := mock.Crypt()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ crypt := mockFactory.Crypt()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- event, task := mock.Event()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ event := mockFactory.Event()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ event := mockFactory.EventTask()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- gate := mock.Gate()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ gate := mockFactory.Gate()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- grpc := mock.Grpc()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ grpc := mockFactory.Grpc()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- hash := mock.Hash()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ hash := mockFactory.Hash()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- mock.Log()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ mockFactory.Log()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- mail := mock.Mail()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ mail := mockFactory.Mail()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- orm, query, transaction, association := mock.Orm()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ orm := mockFactory.Orm()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ query := mockFactory.OrmQuery()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ transaction := mockFactory.OrmTransaction()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ association := mockFactory.OrmAssociation()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- queue, task := mock.Queue()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ queue := mockFactory.Queue()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ task := mockFactory.QueueTask()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- rateLimiter := mock.RateLimiter()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ rateLimiter := mockFactory.RateLimiter()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- storage, driver, file := mock.Storage()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ storage := mockFactory.Storage()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ driver := mockFactory.StorageDriver()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ file := mockFactory.StorageFile()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- seeder := mock.Seeder()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ seeder := mockFactory.Seeder()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- validation, validator, errors := mock.Validation()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ validation := mockFactory.Validation()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ validator := mockFactory.ValidationValidator()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ errors := mockFactory.ValidationErrors()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- view := mock.View()</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ view := mockFactory.View()</span></span></code></pre></div><h3 id="framework-orm-model-adds-json-tag" tabindex="-1">Framework Orm model adds json tag <a class="header-anchor" href="#framework-orm-model-adds-json-tag" aria-label="Permalink to â€œFramework Orm model adds json tagâ€">â€‹</a></h3><p>Version: v1.14.0</p><p>If you are using the framework&#39;s Orm model and returning data directly through the endpoint, you need to create a new model according to the old and replace the old, or frontend needs to modify the field name according to the json tag.</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`gorm:&quot;primaryKey&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`gorm:&quot;primaryKey&quot; json:&quot;id&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	Timestamps</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SoftDeletes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DeletedAt </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gorm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DeletedAt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`gorm:&quot;column:deleted_at&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DeletedAt </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gorm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DeletedAt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`gorm:&quot;column:deleted_at&quot; json:&quot;deleted_at&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Timestamps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CreatedAt </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">carbon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DateTime</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`gorm:&quot;autoCreateTime;column:created_at&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UpdatedAt </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">carbon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DateTime</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`gorm:&quot;autoUpdateTime;column:updated_at&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CreatedAt </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">carbon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DateTime</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`gorm:&quot;autoCreateTime;column:created_at&quot; json:&quot;created_at&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UpdatedAt </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">carbon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DateTime</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`gorm:&quot;autoUpdateTime;column:updated_at&quot; json:&quot;updated_at&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="fix-the-session-is-not-set-successfully-in-the-gin-driver" tabindex="-1">Fix the session is not set successfully in the gin driver <a class="header-anchor" href="#fix-the-session-is-not-set-successfully-in-the-gin-driver" aria-label="Permalink to â€œFix the session is not set successfully in the gin driverâ€">â€‹</a></h3><p>goravel/framework: v1.14.1</p><h3 id="fix-the-language-file-cannot-be-read-in-the-localization-module" tabindex="-1">Fix the language file cannot be read in the localization module <a class="header-anchor" href="#fix-the-language-file-cannot-be-read-in-the-localization-module" aria-label="Permalink to â€œFix the language file cannot be read in the localization moduleâ€">â€‹</a></h3><p>goravel/framework: v1.14.1</p><h3 id="fix-validation-verification-of-image-and-file-failed" tabindex="-1">Fix Validation verification of image and file failed <a class="header-anchor" href="#fix-validation-verification-of-image-and-file-failed" aria-label="Permalink to â€œFix Validation verification of image and file failedâ€">â€‹</a></h3><p>goravel/framework: v1.14.2</p><p>goravel/gin: v1.2.2</p><p>goravel/fiber: v1.2.2</p><p><a href="https://github.com/goravel/goravel/issues/450" target="_blank" rel="noreferrer">Issue #450</a></p><h3 id="fix-the-cookie-expires-set-by-the-goravel-gin-driver-is-invalid" tabindex="-1">Fix the cookie Expires set by the goravel/gin driver is invalid <a class="header-anchor" href="#fix-the-cookie-expires-set-by-the-goravel-gin-driver-is-invalid" aria-label="Permalink to â€œFix the cookie Expires set by the goravel/gin driver is invalidâ€">â€‹</a></h3><p>goravel/gin: v1.2.2</p><h3 id="fix-validation-cannot-bind-slice" tabindex="-1">Fix Validation cannot bind slice <a class="header-anchor" href="#fix-validation-cannot-bind-slice" aria-label="Permalink to â€œFix Validation cannot bind sliceâ€">â€‹</a></h3><p>goravel/framework: v1.14.3</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Tags   []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`form:&quot;tags&quot; json:&quot;tags&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="validation-supports-bind-carbon" tabindex="-1">Validation supports bind carbon <a class="header-anchor" href="#validation-supports-bind-carbon" aria-label="Permalink to â€œValidation supports bind carbonâ€">â€‹</a></h3><p>goravel/framework: v1.14.3</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Define carbon field</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Date   </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">carbon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Carbon</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`form:&quot;date&quot; json:&quot;date&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">requests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Use ValidateRequest bind data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">errors, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ValidateRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// or use Validate bind data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">validator, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Validate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;required|date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> validator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// get date time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user.Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ToDateTimeString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h3 id="fix-session-concurrent-problem" tabindex="-1">Fix Session concurrent problem <a class="header-anchor" href="#fix-session-concurrent-problem" aria-label="Permalink to â€œFix Session concurrent problemâ€">â€‹</a></h3><p>goravel/framework: v1.14.4</p><p>å½“ Session å¹¶å‘è¿‡é«˜æ—¶ï¼Œå¯èƒ½ä¼šå‡ºçŽ° Session è¯»å†™å†²çªçš„é—®é¢˜ã€‚</p><h3 id="fix-gin-sets-session-same-site-invalid" tabindex="-1">Fix Gin sets Session same_site invalid <a class="header-anchor" href="#fix-gin-sets-session-same-site-invalid" aria-label="Permalink to â€œFix Gin sets Session same_site invalidâ€">â€‹</a></h3><p>goravel/gin: v1.2.3</p><p><a href="https://github.com/goravel/goravel/issues/455" target="_blank" rel="noreferrer">Issue #455</a></p><h3 id="add-shutdown-method-for-route" tabindex="-1">Add Shutdown method for Route <a class="header-anchor" href="#add-shutdown-method-for-route" aria-label="Permalink to â€œAdd Shutdown method for Routeâ€">â€‹</a></h3><p>goravel/framework: v1.14.5</p><p>goravel/gin: v1.2.4</p><p>goravel/fiber: v1.2.3</p><p><a href="./../the-basics/routing.html#close-http-https-server">æŸ¥çœ‹æ–‡æ¡£</a></p><h3 id="optimize-the-ctx-withvalue-method-of-http" tabindex="-1">Optimize the ctx.WithValue method of HTTP <a class="header-anchor" href="#optimize-the-ctx-withvalue-method-of-http" aria-label="Permalink to â€œOptimize the ctx.WithValue method of HTTPâ€">â€‹</a></h3><p>goravel/framework: v1.14.7</p><p>goravel/gin: v1.2.5</p><p>goravel/fiber: v1.2.4</p><p>The <code>key</code> of the <code>ctx.WithValue</code> method is changed from only supporting the <code>string</code> type to supporting the <code>any</code> type.</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WithValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;world&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WithValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hi&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WithValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hola&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="fix-the-problem-of-conflicting-listener-registration" tabindex="-1">Fix the problem of conflicting listener registration <a class="header-anchor" href="#fix-the-problem-of-conflicting-listener-registration" aria-label="Permalink to â€œFix the problem of conflicting listener registrationâ€">â€‹</a></h3><p>goravel/framework: v1.14.8</p><p>Multiple events use the same listener, a listener conflict will be prompted when registering.</p><p><a href="https://github.com/goravel/goravel/issues/523" target="_blank" rel="noreferrer">Issue #523</a></p><h3 id="fix-the-problem-of-custom-log-driver-console-repeatedly-printing" tabindex="-1">Fix the problem of custom Log driver console repeatedly printing <a class="header-anchor" href="#fix-the-problem-of-custom-log-driver-console-repeatedly-printing" aria-label="Permalink to â€œFix the problem of custom Log driver console repeatedly printingâ€">â€‹</a></h3><p>goravel/framework: v1.14.9</p><p><a href="https://github.com/goravel/goravel/issues/531" target="_blank" rel="noreferrer">Issue #531</a></p><h3 id="fix-the-problem-of-data-binding-error-when-http-json-request-contains-multi-level-structure" tabindex="-1">Fix the problem of data binding error when HTTP JSON Request contains multi-level structure <a class="header-anchor" href="#fix-the-problem-of-data-binding-error-when-http-json-request-contains-multi-level-structure" aria-label="Permalink to â€œFix the problem of data binding error when HTTP JSON Request contains multi-level structureâ€">â€‹</a></h3><p>goravel/framework: v1.14.9</p><p><a href="https://github.com/goravel/goravel/issues/533" target="_blank" rel="noreferrer">Issue #533</a></p>`,156)]))}const g=i(t,[["render",l]]);export{c as __pageData,g as default};
