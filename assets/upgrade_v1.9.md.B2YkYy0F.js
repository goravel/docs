import{_ as a,f as i,o as n,an as s}from"./chunks/framework.CFMQV-X7.js";const m=JSON.parse('{"title":"Upgrading To v1.9 From v1.8","description":"","frontmatter":{},"headers":[],"relativePath":"upgrade/v1.9.md","filePath":"en/upgrade/v1.9.md","lastUpdated":1761449547000}'),t={name:"upgrade/v1.9.md"};function r(d,e,o,l,p,h){return n(),i("div",null,e[0]||(e[0]=[s(`<h1 id="upgrading-to-v1-9-from-v1-8" tabindex="-1">Upgrading To v1.9 From v1.8 <a class="header-anchor" href="#upgrading-to-v1-9-from-v1-8" aria-label="Permalink to “Upgrading To v1.9 From v1.8”">​</a></h1><nav class="table-of-contents"><ul><li><a href="#enhancements-🚀">Enhancements 🚀</a></li><li><a href="#breaking-changes-🛠">Breaking Changes 🛠</a></li><li><a href="#bug-fixes-🐛">Bug Fixes 🐛</a></li><li><a href="#dependency-updates-⬆️">Dependency Updates ⬆️</a></li><li><a href="#upgrade-guide">Upgrade Guide</a><ul><li><a href="#updating-dependencies">Updating Dependencies</a></li><li><a href="#add-database-read-write-separation">Add database read-write separation</a></li><li><a href="#add-database-pool-configuration">Add database pool configuration</a></li><li><a href="#custom-env-path">Custom .env path</a></li><li><a href="#cache-add-memory-driver">Cache add memory driver</a></li><li><a href="#orm-add-paginate-method">Orm add Paginate method</a></li><li><a href="#add-make-command">Add make command</a></li><li><a href="#add-new-methods-for-response">Add new methods for Response</a></li><li><a href="#add-return-for-request-prepareforvalidation-method">Add return for Request PrepareForValidation method</a></li><li><a href="#file-gets-the-wrong-file-type">File gets the wrong file type</a></li><li><a href="#fix-template-error-on-make-event-and-make-listener-command">Fix template error on make:event and make:listener command</a></li><li><a href="#fix-some-types-cannot-obtain-suffixes-when-save-file">Fix some types cannot obtain suffixes when save file</a></li></ul></li></ul></nav><h2 id="enhancements-🚀" tabindex="-1">Enhancements 🚀 <a class="header-anchor" href="#enhancements-🚀" aria-label="Permalink to “Enhancements 🚀”">​</a></h2><ul><li><a href="#add-database-read-write-separation">Add database read-write separation(1.9.0)</a></li><li><a href="#add-database-pool-configuration">Add database pool configuration(1.9.0)</a></li><li><a href="#custom--env-path">Custom .env path(1.9.0)</a></li><li><a href="#cache-add-memory-driver">Cache add memory driver(1.9.0)</a></li><li><a href="#orm-add-paginate-method">Orm add Paginate method(1.9.0)</a></li><li><a href="#add-make-command">Add make command(1.9.0)</a></li><li><a href="#add-new-methods-for-Response">Add new methods for Response(1.9.0)</a></li></ul><h2 id="breaking-changes-🛠" tabindex="-1">Breaking Changes 🛠 <a class="header-anchor" href="#breaking-changes-🛠" aria-label="Permalink to “Breaking Changes 🛠”">​</a></h2><ul><li><a href="#add-return-for-request-prepareforvalidation-method">Add return for Request PrepareForValidation method(1.9.0)</a></li></ul><h2 id="bug-fixes-🐛" tabindex="-1">Bug Fixes 🐛 <a class="header-anchor" href="#bug-fixes-🐛" aria-label="Permalink to “Bug Fixes 🐛”">​</a></h2><ul><li><a href="#file-gets-the-wrong-file-type">File gets the wrong file type(1.9.0)</a></li><li><a href="#fix-template-error-on-make-event-and-make-listener-command">Fix template error on make:event and make:listener command(1.9.0)</a></li><li><a href="#fix-some-types-cannot-obtain-suffixes-when-save-file">Fix some types cannot obtain suffixes when save file(1.9.1)</a></li></ul><h2 id="dependency-updates-⬆️" tabindex="-1">Dependency Updates ⬆️ <a class="header-anchor" href="#dependency-updates-⬆️" aria-label="Permalink to “Dependency Updates ⬆️”">​</a></h2><ul><li>build(deps): bump github.com/gin-gonic/gin from v1.7.3 to v1.8.2</li></ul><h2 id="upgrade-guide" tabindex="-1">Upgrade Guide <a class="header-anchor" href="#upgrade-guide" aria-label="Permalink to “Upgrade Guide”">​</a></h2><p><strong>Estimated Upgrade Time: 10 Minutes</strong></p><h3 id="updating-dependencies" tabindex="-1">Updating Dependencies <a class="header-anchor" href="#updating-dependencies" aria-label="Permalink to “Updating Dependencies”">​</a></h3><p>Update dependencies in the <code>go.mod</code> file:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>go get -u github.com/goravel/framework@v1.9.0</span></span></code></pre></div><h3 id="add-database-read-write-separation" tabindex="-1">Add database read-write separation <a class="header-anchor" href="#add-database-read-write-separation" aria-label="Permalink to “Add database read-write separation”">​</a></h3><p>Version: v1.9.0</p><p>Database supports read-write separation，<a href="./../orm/getting-started.html#read--write-connections">For Detail</a>.</p><h3 id="add-database-pool-configuration" tabindex="-1">Add database pool configuration <a class="header-anchor" href="#add-database-pool-configuration" aria-label="Permalink to “Add database pool configuration”">​</a></h3><p>Version: v1.9.0</p><p>Add pool configuration for the database configuration file: <code>config/database.go</code>, <a href="https://github.com/goravel/goravel/blob/v1.9.x/config/database.go" target="_blank" rel="noreferrer">For Detail</a>.</p><h3 id="custom-env-path" tabindex="-1">Custom .env path <a class="header-anchor" href="#custom-env-path" aria-label="Permalink to “Custom .env path”">​</a></h3><p>Version: v1.9.0</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// Develop</span></span>
<span class="line"><span>go run . --env=../.env</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// Compiled</span></span>
<span class="line"><span>./main --env=../.env</span></span></code></pre></div><h3 id="cache-add-memory-driver" tabindex="-1">Cache add memory driver <a class="header-anchor" href="#cache-add-memory-driver" aria-label="Permalink to “Cache add memory driver”">​</a></h3><p>Version: v1.9.0</p><p><code>config/cache.go</code> add <code>memory</code> configuration：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>&quot;stores&quot;: map[string]any{</span></span>
<span class="line"><span>  // New</span></span>
<span class="line"><span>  &quot;memory&quot;: map[string]any{</span></span>
<span class="line"><span>    &quot;driver&quot;: &quot;memory&quot;,</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>},</span></span></code></pre></div><p><a href="https://github.com/goravel/goravel/blob/v1.9.x/config/cache.go" target="_blank" rel="noreferrer">For Detail</a></p><h3 id="orm-add-paginate-method" tabindex="-1">Orm add Paginate method <a class="header-anchor" href="#orm-add-paginate-method" aria-label="Permalink to “Orm add Paginate method”">​</a></h3><p>Version: v1.9.0</p><p><code>facades.Orm</code> add <code>Paginate</code> method, <a href="./../orm/getting-started.html#Paginate">For detail</a>.</p><h3 id="add-make-command" tabindex="-1">Add make command <a class="header-anchor" href="#add-make-command" aria-label="Permalink to “Add make command”">​</a></h3><p>Version: v1.9.0</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// Create controller</span></span>
<span class="line"><span>go run . artisan make:controller UserController</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// Create middleware</span></span>
<span class="line"><span>go run . artisan make:middleware Cors</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// Create model</span></span>
<span class="line"><span>go run . artisan make:model User</span></span></code></pre></div><h3 id="add-new-methods-for-response" tabindex="-1">Add new methods for Response <a class="header-anchor" href="#add-new-methods-for-response" aria-label="Permalink to “Add new methods for Response”">​</a></h3><p>Version: v1.9.0</p><table tabindex="0"><thead><tr><th>Method</th><th>Action</th></tr></thead><tbody><tr><td>Data</td><td><a href="./../the-basics/response.html#custom-return">Custom return</a></td></tr><tr><td>Redirect</td><td><a href="./../the-basics/response.html#redirect">Redirect</a></td></tr></tbody></table><h3 id="add-return-for-request-prepareforvalidation-method" tabindex="-1">Add return for Request PrepareForValidation method <a class="header-anchor" href="#add-return-for-request-prepareforvalidation-method" aria-label="Permalink to “Add return for Request PrepareForValidation method”">​</a></h3><p>Version: v1.9.0</p><p>If you are using <a href="./../the-basics/validation.html#format-data-before-validation">PrepareForValidation method in Validation</a>, please add a return value: <code>PrepareForValidation(data validation.Data) error</code>.</p><h3 id="file-gets-the-wrong-file-type" tabindex="-1">File gets the wrong file type <a class="header-anchor" href="#file-gets-the-wrong-file-type" aria-label="Permalink to “File gets the wrong file type”">​</a></h3><p>Version: v1.9.0</p><p>Fix the problem that <code>.docx</code>, <code>.xlsx</code>, etc. are incorrectly identified as <code>.zip</code>.</p><h3 id="fix-template-error-on-make-event-and-make-listener-command" tabindex="-1">Fix template error on make:event and make:listener command <a class="header-anchor" href="#fix-template-error-on-make-event-and-make-listener-command" aria-label="Permalink to “Fix template error on make:event and make:listener command”">​</a></h3><p>Version: v1.9.0</p><p><code>import &quot;github.com/goravel/framework/contracts/events&quot;</code> 改为 <code>import &quot;github.com/goravel/framework/contracts/event&quot;</code></p><h3 id="fix-some-types-cannot-obtain-suffixes-when-save-file" tabindex="-1">Fix some types cannot obtain suffixes when save file <a class="header-anchor" href="#fix-some-types-cannot-obtain-suffixes-when-save-file" aria-label="Permalink to “Fix some types cannot obtain suffixes when save file”">​</a></h3><p>Version: v1.9.1</p><p>Some types cannot obtain suffixes through the code shown below:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Store</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;upload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,51)]))}const g=a(t,[["render",r]]);export{m as __pageData,g as default};
