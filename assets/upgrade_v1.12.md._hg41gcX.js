import{_ as e,f as i,o as s,an as t}from"./chunks/framework.CFMQV-X7.js";const c=JSON.parse('{"title":"Upgrading To v1.12 From v1.11","description":"","frontmatter":{},"headers":[],"relativePath":"upgrade/v1.12.md","filePath":"en/upgrade/v1.12.md","lastUpdated":1761449547000}'),n={name:"upgrade/v1.12.md"};function d(h,a,l,r,o,p){return s(),i("div",null,a[0]||(a[0]=[t(`<h1 id="upgrading-to-v1-12-from-v1-11" tabindex="-1">Upgrading To v1.12 From v1.11 <a class="header-anchor" href="#upgrading-to-v1-12-from-v1-11" aria-label="Permalink to “Upgrading To v1.12 From v1.11”">​</a></h1><h2 id="v1-12-6" tabindex="-1">v1.12.6 <a class="header-anchor" href="#v1-12-6" aria-label="Permalink to “v1.12.6”">​</a></h2><h3 id="bug-fixes-🐛" tabindex="-1">Bug Fixes 🐛 <a class="header-anchor" href="#bug-fixes-🐛" aria-label="Permalink to “Bug Fixes 🐛”">​</a></h3><ul><li><a href="#fix-the-problem-of-jwt">Fix The Problem Of JWT</a></li></ul><h2 id="v1-12-5" tabindex="-1">v1.12.5 <a class="header-anchor" href="#v1-12-5" aria-label="Permalink to “v1.12.5”">​</a></h2><h3 id="bug-fixes-🐛-1" tabindex="-1">Bug Fixes 🐛 <a class="header-anchor" href="#bug-fixes-🐛-1" aria-label="Permalink to “Bug Fixes 🐛”">​</a></h3><ul><li><a href="#fix-the-problem-of-facades-orm-query-load">Fix The Problem Of facades.Orm().Query().Load()</a></li></ul><h2 id="v1-12-4" tabindex="-1">v1.12.4 <a class="header-anchor" href="#v1-12-4" aria-label="Permalink to “v1.12.4”">​</a></h2><h3 id="bug-fixes-🐛-2" tabindex="-1">Bug Fixes 🐛 <a class="header-anchor" href="#bug-fixes-🐛-2" aria-label="Permalink to “Bug Fixes 🐛”">​</a></h3><ul><li><a href="#the-problem-of-the-throttle-middleware-throw-panic">The Problem Of The Throttle Middleware Throw Panic</a></li></ul><h2 id="v1-12-3" tabindex="-1">v1.12.3 <a class="header-anchor" href="#v1-12-3" aria-label="Permalink to “v1.12.3”">​</a></h2><h3 id="bug-fixes-🐛-3" tabindex="-1">Bug Fixes 🐛 <a class="header-anchor" href="#bug-fixes-🐛-3" aria-label="Permalink to “Bug Fixes 🐛”">​</a></h3><ul><li><a href="#the-problem-of-make-package-command-under-windows">The Problem Of make:package Command Under Windows</a></li></ul><h2 id="v1-12-2" tabindex="-1">v1.12.2 <a class="header-anchor" href="#v1-12-2" aria-label="Permalink to “v1.12.2”">​</a></h2><h3 id="bug-fixes-🐛-4" tabindex="-1">Bug Fixes 🐛 <a class="header-anchor" href="#bug-fixes-🐛-4" aria-label="Permalink to “Bug Fixes 🐛”">​</a></h3><ul><li><a href="#the-problem-of-facades-gate-return-nil">The Problem Of facades.Gate() Return nil</a></li></ul><h2 id="v1-12-1" tabindex="-1">v1.12.1 <a class="header-anchor" href="#v1-12-1" aria-label="Permalink to “v1.12.1”">​</a></h2><h3 id="bug-fixes-🐛-5" tabindex="-1">Bug Fixes 🐛 <a class="header-anchor" href="#bug-fixes-🐛-5" aria-label="Permalink to “Bug Fixes 🐛”">​</a></h3><ul><li><a href="#the-panic-problem-caused-by-file-path-under-windows">The Panic Problem Caused By File Path Under Windows</a></li></ul><h2 id="v1-12-0" tabindex="-1">v1.12.0 <a class="header-anchor" href="#v1-12-0" aria-label="Permalink to “v1.12.0”">​</a></h2><h3 id="exciting-new-features-🎉" tabindex="-1">Exciting New Features 🎉 <a class="header-anchor" href="#exciting-new-features-🎉" aria-label="Permalink to “Exciting New Features 🎉”">​</a></h3><ul><li><a href="#service-container">Service Container(1.12.0)</a></li><li><a href="#package-development">Package Development(1.12.0)</a></li><li><a href="#add-helpers-methods">Add Carbon Module</a></li></ul><h2 id="enhancements-🚀" tabindex="-1">Enhancements 🚀 <a class="header-anchor" href="#enhancements-🚀" aria-label="Permalink to “Enhancements 🚀”">​</a></h2><ul><li><a href="#artisan-flag-adds-new-methods">Artisan Flag Adds New Methods</a></li><li><a href="#add-helpers-methods">Add Helpers Methods</a></li><li><a href="#upgrade-dependencies">Upgrade Dependencies</a></li><li><a href="#migration-adds-new-methods">Migration Adds New Methods</a></li><li><a href="#some-make-commands-support-subdirectories">Some <code>make</code> Commands Support Subdirectories</a></li></ul><h2 id="breaking-changes-🛠" tabindex="-1">Breaking Changes 🛠 <a class="header-anchor" href="#breaking-changes-🛠" aria-label="Permalink to “Breaking Changes 🛠”">​</a></h2><ul><li><a href="#_3-modify-facades">Modify The Calling Type Of Facades(1.12.0)</a></li><li><a href="#_6-modify-flag-in-the-artisan-command-if-using">Optimize Artisan Flag(1.12.0)</a></li><li><a href="#_7-filesystem-module-cancels-default-support-for-s3-oss-cos-minio">Filesystem Module Cancels Default Support For S3, OSS, COS, Minio</a></li><li><a href="#_8-cache-module-cancels-default-support-for-redis">Cache Module Cancels Default Support For Redis</a></li><li><a href="#_9-change-the-type-of-createdat-updatedat-in-model">Change The Type Of CreatedAt, UpdatedAt In Model</a></li><li><a href="#_10-optimize-the-rule-of-validation-module">Optimize The Rule Of Validation Module</a></li></ul><h2 id="upgrade-guide" tabindex="-1">Upgrade Guide <a class="header-anchor" href="#upgrade-guide" aria-label="Permalink to “Upgrade Guide”">​</a></h2><p>Please upgrade the framework step by step according to the content in this section.</p><p><strong>Estimated Upgrade Time: 30 Minutes</strong></p><h3 id="_1-updating-dependencies" tabindex="-1">1. Updating Dependencies <a class="header-anchor" href="#_1-updating-dependencies" aria-label="Permalink to “1. Updating Dependencies”">​</a></h3><p>Update dependencies in the <code>go.mod</code> file:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>go get -u github.com/goravel/framework@v1.12.0 &amp;&amp; go mod tidy</span></span></code></pre></div><p>There is an error after running <code>go mod tidy</code>, the error will be solved after performing the following upgrade steps.</p><h3 id="_2-modify-bootstrap-app-go" tabindex="-1">2. Modify <code>bootstrap/app.go</code> <a class="header-anchor" href="#_2-modify-bootstrap-app-go" aria-label="Permalink to “2. Modify bootstrap/app.go”">​</a></h3><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Before</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foundation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// After</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> foundation.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NewApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h3 id="_3-modify-facades" tabindex="-1">3. Modify facades.* <a class="header-anchor" href="#_3-modify-facades" aria-label="Permalink to “3. Modify facades.*”">​</a></h3><table tabindex="0"><thead><tr><th>Before</th><th>After</th></tr></thead><tbody><tr><td><code>facades.Artisan</code></td><td><code>facades.Artisan()</code></td></tr><tr><td><code>facades.Auth</code></td><td><code>facades.Auth()</code></td></tr><tr><td><code>facades.Cache</code></td><td><code>facades.Cache()</code></td></tr><tr><td><code>facades.Config</code></td><td><code>facades.Config()</code></td></tr><tr><td><code>facades.Crypt</code></td><td><code>facades.Crypt()</code></td></tr><tr><td><code>facades.Event</code></td><td><code>facades.Event()</code></td></tr><tr><td><code>facades.Gate</code></td><td><code>facades.Gate()</code></td></tr><tr><td><code>facades.Grpc</code></td><td><code>facades.Grpc()</code></td></tr><tr><td><code>facades.Hash</code></td><td><code>facades.Hash()</code></td></tr><tr><td><code>facades.Log</code></td><td><code>facades.Log()</code></td></tr><tr><td><code>facades.Mail</code></td><td><code>facades.Mail()</code></td></tr><tr><td><code>facades.Orm</code></td><td><code>facades.Orm()</code></td></tr><tr><td><code>facades.Queue</code></td><td><code>facades.Queue()</code></td></tr><tr><td><code>facades.RateLimiter</code></td><td><code>facades.RateLimiter()</code></td></tr><tr><td><code>facades.Route</code></td><td><code>facades.Route()</code></td></tr><tr><td><code>facades.Schedule</code></td><td><code>facades.Schedule()</code></td></tr><tr><td><code>facades.Storage</code></td><td><code>facades.Storage()</code></td></tr><tr><td><code>facades.Validation</code></td><td><code>facades.Validation()</code></td></tr></tbody></table><h3 id="_4-modify-app-providers" tabindex="-1">4. Modify <code>app/providers/*</code> <a class="header-anchor" href="#_4-modify-app-providers" aria-label="Permalink to “4. Modify app/providers/*”">​</a></h3><p>Add import for all files:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">github.com/goravel/framework/contracts/foundation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>All of <code>Register</code>, <code>Boot</code> methods Add <code>app foundation.Application</code> input parameter:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">receiver </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AppServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">app</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foundation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">receiver </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AppServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Boot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">app</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foundation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span></code></pre></div><h3 id="_5-modify-app-config-app-go" tabindex="-1">5. Modify <code>app/config/app.go</code> <a class="header-anchor" href="#_5-modify-app-config-app-go" aria-label="Permalink to “5. Modify app/config/app.go”">​</a></h3><p>Modify import:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Before</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;github.com/goravel/framework/contracts&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;providers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">contracts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// After</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;github.com/goravel/framework/contracts/foundation&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;providers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foundation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span></code></pre></div><h3 id="_6-modify-flag-in-the-artisan-command-if-using" tabindex="-1">6. Modify Flag in the Artisan command(If using) <a class="header-anchor" href="#_6-modify-flag-in-the-artisan-command-if-using" aria-label="Permalink to “6. Modify Flag in the Artisan command(If using)”">​</a></h3><p>The items in the <code>[]command.Flag</code> add <code>&amp;command.StringFlag</code> type:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Before</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">receiver </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VendorPublishCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Category: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Flags: []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Flag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// After</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">receiver </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VendorPublishCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Category: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Flags: []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Flag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">StringFlag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_7-filesystem-module-cancels-default-support-for-s3-oss-cos-minio" tabindex="-1">7. Filesystem Module Cancels Default Support For S3, OSS, COS, Minio <a class="header-anchor" href="#_7-filesystem-module-cancels-default-support-for-s3-oss-cos-minio" aria-label="Permalink to “7. Filesystem Module Cancels Default Support For S3, OSS, COS, Minio”">​</a></h3><p>In order to reduce the loading of unnecessary third packages, reduce package volume, and improve compilation efficiency, Goravel will gradually strip each module driver into an independent expansion packages. In this upgrade, the <code>Filesystem</code> module cancels the default support for <code>S3</code>, <code>OSS</code>, <code>COS</code>, <code>Minio</code> drivers, and transfers support to independent extension packages.</p><p>Removes keys in <code>config/filesystems.go::disks</code> except <code>local</code> and drivers which are using:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Modified</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;disks&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;local&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;driver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;local&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:   </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;storage/app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:    config.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;APP_URL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/storage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><p>If you are using other drivers expect <code>local</code>, please refer to the corresponding driver documentation for installation:</p><table tabindex="0"><thead><tr><th>Driver</th><th>Link</th></tr></thead><tbody><tr><td>S3</td><td><a href="https://github.com/goravel/s3" target="_blank" rel="noreferrer">https://github.com/goravel/s3</a></td></tr><tr><td>OSS</td><td><a href="https://github.com/goravel/oss" target="_blank" rel="noreferrer">https://github.com/goravel/oss</a></td></tr><tr><td>COS</td><td><a href="https://github.com/goravel/cos" target="_blank" rel="noreferrer">https://github.com/goravel/cos</a></td></tr><tr><td>Minio</td><td><a href="https://github.com/goravel/minio" target="_blank" rel="noreferrer">https://github.com/goravel/minio</a></td></tr></tbody></table><h3 id="_8-cache-module-cancels-default-support-for-redis" tabindex="-1">8. Cache Module Cancels Default Support For Redis <a class="header-anchor" href="#_8-cache-module-cancels-default-support-for-redis" aria-label="Permalink to “8. Cache Module Cancels Default Support For Redis”">​</a></h3><p>Remove the <code>redis</code> key in <code>config/cache.go::stores</code> if you are not using it:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Modified</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stores&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;memory&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;driver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;memory&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><p>If you are using the <code>redis</code> driver, please refer to the <code>redis</code> driver documentation for installation:</p><table tabindex="0"><thead><tr><th>Driver</th><th>Link</th></tr></thead><tbody><tr><td>Redis</td><td><a href="https://github.com/goravel/redis" target="_blank" rel="noreferrer">https://github.com/goravel/redis</a></td></tr></tbody></table><h3 id="_9-change-the-type-of-createdat-updatedat-in-model-if-using" tabindex="-1">9. Change The Type Of CreatedAt, UpdatedAt In Model(If using) <a class="header-anchor" href="#_9-change-the-type-of-createdat-updatedat-in-model-if-using" aria-label="Permalink to “9. Change The Type Of CreatedAt, UpdatedAt In Model(If using)”">​</a></h3><p>In order to make the time type more standard in API output, the type of <code>CreatedAt</code>, <code>UpdatedAt</code> in <code>Model</code> change to <code>carbon.DateTime</code> from <code>time.Time</code>. If you have additional processing for these two fields, you can get the original <code>time.Time</code> type through the <code>CreatedAt.ToStdTime()</code> method.</p><h3 id="_10-optimize-the-rule-of-validation-module-if-using" tabindex="-1">10. Optimize The Rule Of Validation Module(If using) <a class="header-anchor" href="#_10-optimize-the-rule-of-validation-module-if-using" aria-label="Permalink to “10. Optimize The Rule Of Validation Module(If using)”">​</a></h3><p>Check the zero value in the original validate rule, for example, if the rule is set to <code>date</code> and <code>required</code> is not set, and the field is empty or not passed, the validation module will prompt that field is required. After optimization, the validation module will passed the check, which is more intuitive to use. If you are using relevant validation, please ensure that the upgrade is as expected.</p><h3 id="_11-install-dependencies-again" tabindex="-1">11. Install dependencies again <a class="header-anchor" href="#_11-install-dependencies-again" aria-label="Permalink to “11. Install dependencies again”">​</a></h3><p>Run <code>go mod tidy</code></p><h2 id="function-introduction" tabindex="-1">Function Introduction <a class="header-anchor" href="#function-introduction" aria-label="Permalink to “Function Introduction”">​</a></h2><h3 id="service-container" tabindex="-1">Service Container <a class="header-anchor" href="#service-container" aria-label="Permalink to “Service Container”">​</a></h3><p>Version: v1.12.0</p><p>All services in Goravel are registered in the service container, providing strong support for the package development, <a href="./../architecture-concepts/service-container.html">For Detail</a></p><h3 id="package-development" tabindex="-1">Package Development <a class="header-anchor" href="#package-development" aria-label="Permalink to “Package Development”">​</a></h3><p>Version: v1.12.0</p><p>Packages are the primary way of adding functionality to Goravel, can enrich the ecology of Goravel, <a href="./../digging-deeper/package-development.html">For Detail</a></p><h3 id="artisan-flag-adds-new-methods" tabindex="-1">Artisan Flag Adds New Methods <a class="header-anchor" href="#artisan-flag-adds-new-methods" aria-label="Permalink to “Artisan Flag Adds New Methods”">​</a></h3><p>Version: v1.12.0</p><p>Add methods for Artisan module to get different types of <code>Flag</code>, <a href="./../digging-deeper/artisan-console.html#options">For Detail</a></p><h3 id="add-helpers-methods" tabindex="-1">Add Helpers Methods <a class="header-anchor" href="#add-helpers-methods" aria-label="Permalink to “Add Helpers Methods”">​</a></h3><p>Version: v1.12.0</p><p>Add <code>path</code> and <code>carbon</code> Helpers methods, you can easily get the path information and deal with time in project, <a href="./../digging-deeper/helpers.html">For Detail</a>。</p><h3 id="upgrade-dependencies" tabindex="-1">Upgrade Dependencies <a class="header-anchor" href="#upgrade-dependencies" aria-label="Permalink to “Upgrade Dependencies”">​</a></h3><p>Version: v1.12.0</p><p>To provide better feature support, the versions of all packages that Goravel depends on have been upgraded.</p><h3 id="migration-adds-new-methods" tabindex="-1">Migration Adds New Methods <a class="header-anchor" href="#migration-adds-new-methods" aria-label="Permalink to “Migration Adds New Methods”">​</a></h3><p>Version: v1.12.0</p><table tabindex="0"><thead><tr><th>Commands</th><th>Action</th></tr></thead><tbody><tr><td>migrate:fresh</td><td>Drop all tables and re-run all migrations</td></tr><tr><td>migrate:refresh</td><td>Reset and re-run all migrations</td></tr><tr><td>migrate:reset</td><td>Rollback all database migrations</td></tr><tr><td>migrate:status</td><td>Show the status of each migration</td></tr></tbody></table><h3 id="some-make-commands-support-subdirectories" tabindex="-1">Some <code>make</code> Commands Support Subdirectories <a class="header-anchor" href="#some-make-commands-support-subdirectories" aria-label="Permalink to “Some make Commands Support Subdirectories”">​</a></h3><p>Version: v1.12.0</p><table tabindex="0"><thead><tr><th>命令</th><th>生成文件</th></tr></thead><tbody><tr><td>make:policy User/AuthPolicy</td><td>app/policies/User/auth_policy.go</td></tr><tr><td>make:command Goravel/CleanCache</td><td>app/console/commands/Goravel/clean_cache.go</td></tr><tr><td>make:model User/Phone</td><td>app/models/User/phone.go</td></tr><tr><td>make:observer User/PhoneObserver</td><td>app/observers/User/phone_observer.go</td></tr><tr><td>make:event User/GoravelEvent</td><td>app/events/User/goravel_event.go</td></tr><tr><td>make:listener User/GoravelListen</td><td>app/listeners/User/goravel_listen.go</td></tr><tr><td>make:controller User/AuthController</td><td>app/http/controllers/User/auth_controller.go</td></tr><tr><td>make:middleware User/Auth</td><td>app/http/middleware/User/auth.go</td></tr><tr><td>make:request User/Auth</td><td>app/http/requests/User/auth.go</td></tr><tr><td>make:job Goravel/Job</td><td>app/jobs/Goravel/job.go</td></tr><tr><td>make:rule User/Phone</td><td>app/rules/User/phone.go</td></tr></tbody></table><h3 id="the-panic-problem-caused-by-file-path-under-windows" tabindex="-1">The Panic Problem Caused By File Path Under Windows <a class="header-anchor" href="#the-panic-problem-caused-by-file-path-under-windows" aria-label="Permalink to “The Panic Problem Caused By File Path Under Windows”">​</a></h3><p>Version: v1.12.1</p><p>Fix the panic problem caused by backslash when the <code>make</code> command automatically creates folders under Windows.</p><h3 id="the-problem-of-facades-gate-return-nil" tabindex="-1">The Problem Of facades.Gate() Return nil <a class="header-anchor" href="#the-problem-of-facades-gate-return-nil" aria-label="Permalink to “The Problem Of facades.Gate() Return nil”">​</a></h3><p>Version: v1.12.2</p><p>Fix the problem of <code>facades.Gate()</code> return nil.</p><h3 id="the-problem-of-make-package-command-under-windows" tabindex="-1">The Problem Of make:package Command Under Windows <a class="header-anchor" href="#the-problem-of-make-package-command-under-windows" aria-label="Permalink to “The Problem Of make:package Command Under Windows”">​</a></h3><p>Version: v1.12.3</p><p>The file created by the <code>make:package</code> command has a wrong path under Windows.</p><h3 id="the-problem-of-the-throttle-middleware-throw-panic" tabindex="-1">The Problem Of The Throttle Middleware Throw Panic <a class="header-anchor" href="#the-problem-of-the-throttle-middleware-throw-panic" aria-label="Permalink to “The Problem Of The Throttle Middleware Throw Panic”">​</a></h3><p>Version: v1.12.4</p><p>Fix the problem of the throttle middleware throw panic.</p><h3 id="fix-the-problem-of-facades-orm-query-load" tabindex="-1">Fix The Problem Of facades.Orm().Query().Load() <a class="header-anchor" href="#fix-the-problem-of-facades-orm-query-load" aria-label="Permalink to “Fix The Problem Of facades.Orm().Query().Load()”">​</a></h3><p>Version: v1.12.5</p><p>Fix the problem that <code>facades.Orm().Query().Load()</code> cannot load the model correctly in some cases.</p><h3 id="fix-the-problem-of-jwt" tabindex="-1">Fix The Problem Of JWT <a class="header-anchor" href="#fix-the-problem-of-jwt" aria-label="Permalink to “Fix The Problem Of JWT”">​</a></h3><p>Version: v1.12.6</p><p>Fix the problem that when the JWT Token is expired and invalid, the expiration error is returned, and the invalid error is expected to be returned first.</p>`,105)]))}const g=e(n,[["render",d]]);export{c as __pageData,g as default};
