import{_ as e,f as i,o as s,an as n}from"./chunks/framework.CFMQV-X7.js";const k=JSON.parse('{"title":"å¾ v1.8 å‡ç´šåˆ° v1.9","description":"","frontmatter":{},"headers":[],"relativePath":"zh_TW/upgrade/v1.9.md","filePath":"zh_TW/upgrade/v1.9.md","lastUpdated":1768139646000}'),r={name:"zh_TW/upgrade/v1.9.md"};function l(t,a,o,h,p,d){return s(),i("div",null,a[0]||(a[0]=[n(`<h1 id="å¾-v1-8-å‡ç´šåˆ°-v1-9" tabindex="-1">å¾ v1.8 å‡ç´šåˆ° v1.9 <a class="header-anchor" href="#å¾-v1-8-å‡ç´šåˆ°-v1-9" aria-label="Permalink to â€œå¾ v1.8 å‡ç´šåˆ° v1.9â€">â€‹</a></h1><nav class="table-of-contents"><ul><li><a href="#åŠŸèƒ½å¢å¼·-ğŸš€">åŠŸèƒ½å¢å¼· ğŸš€</a></li><li><a href="#ç ´å£æ€§è®ŠåŒ–-ğŸ› ">ç ´å£æ€§è®ŠåŒ– ğŸ› </a></li><li><a href="#bug-ä¿®å¾©-ğŸ›">Bug ä¿®å¾© ğŸ›</a></li><li><a href="#å‡ç´šä¾è³´-â¬†ï¸">å‡ç´šä¾è³´ â¬†ï¸</a></li><li><a href="#å‡ç´šæŒ‡å—">å‡ç´šæŒ‡å—</a><ul><li><a href="#æ›´æ–°ä¾è³´">æ›´æ–°ä¾è³´</a></li><li><a href="#æ–°å¢è³‡æ–™åº«è®€å¯«åˆ†é›¢">æ–°å¢è³‡æ–™åº«è®€å¯«åˆ†é›¢</a></li><li><a href="#æ–°å¢è³‡æ–™åº«é€£æ¥æ± é…ç½®">æ–°å¢è³‡æ–™åº«é€£æ¥æ± é…ç½®</a></li><li><a href="#è‡ªå®šç¾©-env-è·¯å¾‘">è‡ªå®šç¾© .env è·¯å¾‘</a></li><li><a href="#cache-æ–°å¢-memory-é©…å‹•">Cache æ–°å¢ Memory é©…å‹•</a></li><li><a href="#orm-æ–°å¢åˆ†é æ–¹æ³•">Orm æ–°å¢åˆ†é æ–¹æ³•</a></li><li><a href="#æ–°å¢-make-å‘½ä»¤">æ–°å¢ make å‘½ä»¤</a></li><li><a href="#response-æ–°å¢æ–¹æ³•">Response æ–°å¢æ–¹æ³•</a></li><li><a href="#request-prepareforvalidation-æ–¹æ³•æ–°å¢-error-è¿”å›">Request PrepareForValidation æ–¹æ³•æ–°å¢ error è¿”å›</a></li><li><a href="#file-ç²å–éŒ¯èª¤çš„æ–‡ä»¶é¡å‹">File ç²å–éŒ¯èª¤çš„æ–‡ä»¶é¡å‹</a></li><li><a href="#ä¿®å¾©-make-event-å’Œ-make-listener-å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰èª¤çš„å•é¡Œ">ä¿®å¾© make:event å’Œ make:listener å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰èª¤çš„å•é¡Œ</a></li><li><a href="#ä¿®å¾©ä¿å­˜æ–‡ä»¶æ™‚æœ‰äº›é¡å‹ç„¡æ³•ç²å–å¾Œç¶´çš„å•é¡Œ">ä¿®å¾©ä¿å­˜æ–‡ä»¶æ™‚æœ‰äº›é¡å‹ç„¡æ³•ç²å–å¾Œç¶´çš„å•é¡Œ</a></li></ul></li></ul></nav><h2 id="åŠŸèƒ½å¢å¼·-ğŸš€" tabindex="-1">åŠŸèƒ½å¢å¼· ğŸš€ <a class="header-anchor" href="#åŠŸèƒ½å¢å¼·-ğŸš€" aria-label="Permalink to â€œåŠŸèƒ½å¢å¼· ğŸš€â€">â€‹</a></h2><ul><li><a href="#add-database-read-write-separation">æ–°å¢è³‡æ–™åº«è®€å¯«åˆ†é›¢(1.9.0)</a></li><li><a href="#add-database-pool-configuration">æ–°å¢è³‡æ–™åº«é€£æ¥æ± é…ç½®(1.9.0)</a></li><li><a href="#custom--env-path">è‡ªå®šç¾© .env è·¯å¾‘(1.9.0)</a></li><li><a href="#cache-add-memory-driver">Cache æ–°å¢ Memory é©…å‹•(1.9.0)</a></li><li><a href="#orm-add-paginate-method">Orm æ–°å¢åˆ†é æ–¹æ³•(1.9.0)</a></li><li><a href="#add-make-command">æ–°å¢ make å‘½ä»¤(1.9.0)</a></li><li><a href="#add-new-methods-for-Response">Response æ–°å¢æ–¹æ³•(1.9.0)</a></li></ul><h2 id="ç ´å£æ€§è®ŠåŒ–-ğŸ› " tabindex="-1">ç ´å£æ€§è®ŠåŒ– ğŸ›  <a class="header-anchor" href="#ç ´å£æ€§è®ŠåŒ–-ğŸ› " aria-label="Permalink to â€œç ´å£æ€§è®ŠåŒ– ğŸ› â€">â€‹</a></h2><ul><li><a href="#add-return-for-request-prepareforvalidation-method">Request PrepareForValidation æ–¹æ³•æ–°å¢ error è¿”å›(1.9.0)</a></li></ul><h2 id="bug-ä¿®å¾©-ğŸ›" tabindex="-1">Bug ä¿®å¾© ğŸ› <a class="header-anchor" href="#bug-ä¿®å¾©-ğŸ›" aria-label="Permalink to â€œBug ä¿®å¾© ğŸ›â€">â€‹</a></h2><ul><li><a href="#file-gets-the-wrong-file-type">File ç²å–éŒ¯èª¤çš„æ–‡ä»¶é¡å‹(1.9.0)</a></li><li><a href="#fix-template-error-on-make-event-and-make-listener-command">ä¿®å¾© make:event å’Œ make:listener å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰èª¤çš„å•é¡Œ(1.9.0)</a></li><li><a href="#fix-some-types-cannot-obtain-suffixes-when-save-file">ä¿®å¾©ä¿å­˜æ–‡ä»¶æ™‚æœ‰äº›é¡å‹ç„¡æ³•ç²å–å¾Œç¶´çš„å•é¡Œ(1.9.1)</a></li></ul><h2 id="å‡ç´šä¾è³´-â¬†ï¸" tabindex="-1">å‡ç´šä¾è³´ â¬†ï¸ <a class="header-anchor" href="#å‡ç´šä¾è³´-â¬†ï¸" aria-label="Permalink to â€œå‡ç´šä¾è³´ â¬†ï¸â€">â€‹</a></h2><ul><li>build(deps): bump github.com/gin-gonic/gin from v1.7.3 to v1.8.2</li></ul><h2 id="å‡ç´šæŒ‡å—" tabindex="-1">å‡ç´šæŒ‡å— <a class="header-anchor" href="#å‡ç´šæŒ‡å—" aria-label="Permalink to â€œå‡ç´šæŒ‡å—â€">â€‹</a></h2><p><strong>é ä¼°å‡ç´šæ™‚é–“ï¼š10 åˆ†é˜</strong></p><h3 id="æ›´æ–°ä¾è³´" tabindex="-1">æ›´æ–°ä¾è³´ <a class="header-anchor" href="#æ›´æ–°ä¾è³´" aria-label="Permalink to â€œæ›´æ–°ä¾è³´â€">â€‹</a></h3><p>åœ¨ <code>go.mod</code> æ–‡ä»¶ä¸­æ›´æ–°ä¾è³´ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>go get -u github.com/goravel/framework@v1.9.0</span></span></code></pre></div><h3 id="æ–°å¢è³‡æ–™åº«è®€å¯«åˆ†é›¢" tabindex="-1">æ–°å¢è³‡æ–™åº«è®€å¯«åˆ†é›¢ <a class="header-anchor" href="#æ–°å¢è³‡æ–™åº«è®€å¯«åˆ†é›¢" aria-label="Permalink to â€œæ–°å¢è³‡æ–™åº«è®€å¯«åˆ†é›¢â€">â€‹</a></h3><p>Version: v1.9.0</p><p>è³‡æ–™åº«æ”¯æŒè®€å¯«åˆ†é›¢ï¼Œ<a href="./../orm/getting-started.html#read--write-connections">è©³è¦‹æ–‡æª”</a>ã€‚</p><h3 id="æ–°å¢è³‡æ–™åº«é€£æ¥æ± é…ç½®" tabindex="-1">æ–°å¢è³‡æ–™åº«é€£æ¥æ± é…ç½® <a class="header-anchor" href="#æ–°å¢è³‡æ–™åº«é€£æ¥æ± é…ç½®" aria-label="Permalink to â€œæ–°å¢è³‡æ–™åº«é€£æ¥æ± é…ç½®â€">â€‹</a></h3><p>Version: v1.9.0</p><p>è³‡æ–™åº«é…ç½®æ–‡ä»¶ <code>config/database.go</code> æ–°å¢é€£æ¥æ± é…ç½® <code>pool</code>ï¼Œ<a href="https://github.com/goravel/goravel/blob/v1.9.x/config/database.go" target="_blank" rel="noreferrer">è©³è¦‹æ–‡ä»¶</a>ã€‚</p><h3 id="è‡ªå®šç¾©-env-è·¯å¾‘" tabindex="-1">è‡ªå®šç¾© .env è·¯å¾‘ <a class="header-anchor" href="#è‡ªå®šç¾©-env-è·¯å¾‘" aria-label="Permalink to â€œè‡ªå®šç¾© .env è·¯å¾‘â€">â€‹</a></h3><p>Version: v1.9.0</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// é–‹ç™¼</span></span>
<span class="line"><span>go run . --env=../.env</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// ç·¨è­¯å¾Œ</span></span>
<span class="line"><span>./main --env=../.env</span></span></code></pre></div><h3 id="cache-æ–°å¢-memory-é©…å‹•" tabindex="-1">Cache æ–°å¢ Memory é©…å‹• <a class="header-anchor" href="#cache-æ–°å¢-memory-é©…å‹•" aria-label="Permalink to â€œCache æ–°å¢ Memory é©…å‹•â€">â€‹</a></h3><p>Version: v1.9.0</p><p><code>config/cache.go</code> æ–°å¢ <code>memory</code> é…ç½®ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>&quot;stores&quot;: map[string]any{</span></span>
<span class="line"><span>  // æ–°å¢</span></span>
<span class="line"><span>  &quot;memory&quot;: map[string]any{</span></span>
<span class="line"><span>    &quot;driver&quot;: &quot;memory&quot;,</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>},</span></span></code></pre></div><p><a href="https://github.com/goravel/goravel/blob/v1.9.x/config/cache.go" target="_blank" rel="noreferrer">è©³è¦‹æ–‡ä»¶</a></p><h3 id="orm-æ–°å¢åˆ†é æ–¹æ³•" tabindex="-1">Orm æ–°å¢åˆ†é æ–¹æ³• <a class="header-anchor" href="#orm-æ–°å¢åˆ†é æ–¹æ³•" aria-label="Permalink to â€œOrm æ–°å¢åˆ†é æ–¹æ³•â€">â€‹</a></h3><p>Version: v1.9.0</p><p><code>facades.Orm</code> æ–°å¢ <code>Paginate</code> æ–¹æ³•ï¼Œ<a href="./../orm/getting-started.html#Paginate">è©³è¦‹æ–‡æª”</a>ã€‚</p><h3 id="æ–°å¢-make-å‘½ä»¤" tabindex="-1">æ–°å¢ make å‘½ä»¤ <a class="header-anchor" href="#æ–°å¢-make-å‘½ä»¤" aria-label="Permalink to â€œæ–°å¢ make å‘½ä»¤â€">â€‹</a></h3><p>Version: v1.9.0</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>// å‰µå»ºæ§åˆ¶å™¨</span></span>
<span class="line"><span>go run . artisan make:controller UserController</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å‰µå»ºä¸­é–“ä»¶</span></span>
<span class="line"><span>go run . artisan make:middleware Cors</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å‰µå»ºæ¨¡å‹</span></span>
<span class="line"><span>go run . artisan make:model User</span></span></code></pre></div><h3 id="response-æ–°å¢æ–¹æ³•" tabindex="-1">Response æ–°å¢æ–¹æ³• <a class="header-anchor" href="#response-æ–°å¢æ–¹æ³•" aria-label="Permalink to â€œResponse æ–°å¢æ–¹æ³•â€">â€‹</a></h3><p>Version: v1.9.0</p><table tabindex="0"><thead><tr><th>æ–¹æ³•å</th><th>æ“ä½œ</th></tr></thead><tbody><tr><td>Data</td><td><a href="./../the-basics/response.html#custom-return">è‡ªå®šç¾©è¿”å›</a></td></tr><tr><td>Redirect</td><td><a href="./../the-basics/response.html#redirect">é‡å®šå‘</a></td></tr></tbody></table><h3 id="request-prepareforvalidation-æ–¹æ³•æ–°å¢-error-è¿”å›" tabindex="-1">Request PrepareForValidation æ–¹æ³•æ–°å¢ error è¿”å› <a class="header-anchor" href="#request-prepareforvalidation-æ–¹æ³•æ–°å¢-error-è¿”å›" aria-label="Permalink to â€œRequest PrepareForValidation æ–¹æ³•æ–°å¢ error è¿”å›â€">â€‹</a></h3><p>Version: v1.9.0</p><p>å¦‚æœä½ ä½¿ç”¨åˆ°äº† <a href="./../the-basics/validation.html#é©—è­‰å‰æ ¼å¼åŒ–æ•¸æ“š">è¡¨å–®é©—è­‰ä¸­çš„ PrepareForValidation æ–¹æ³•</a>ï¼Œè«‹æ–°å¢è¿”å›å€¼ï¼š<code>PrepareForValidation(data validation.Data) error</code>ã€‚</p><h3 id="file-ç²å–éŒ¯èª¤çš„æ–‡ä»¶é¡å‹" tabindex="-1">File ç²å–éŒ¯èª¤çš„æ–‡ä»¶é¡å‹ <a class="header-anchor" href="#file-ç²å–éŒ¯èª¤çš„æ–‡ä»¶é¡å‹" aria-label="Permalink to â€œFile ç²å–éŒ¯èª¤çš„æ–‡ä»¶é¡å‹â€">â€‹</a></h3><p>Version: v1.9.0</p><p>ä¿®å¾© <code>.docx</code>, <code>.xlsx</code> ç­‰é¡å‹éŒ¯èª¤çš„è­˜åˆ¥ç‚º <code>.zip</code> çš„å•é¡Œã€‚</p><h3 id="ä¿®å¾©-make-event-å’Œ-make-listener-å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰èª¤çš„å•é¡Œ" tabindex="-1">ä¿®å¾© make:event å’Œ make:listener å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰èª¤çš„å•é¡Œ <a class="header-anchor" href="#ä¿®å¾©-make-event-å’Œ-make-listener-å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰èª¤çš„å•é¡Œ" aria-label="Permalink to â€œä¿®å¾© make:event å’Œ make:listener å‘½ä»¤ç”Ÿæˆæ¨¡æ¿æœ‰èª¤çš„å•é¡Œâ€">â€‹</a></h3><p>Version: v1.9.0</p><p><code>import &quot;github.com/goravel/framework/contracts/events&quot;</code> æ”¹ç‚º <code>import &quot;github.com/goravel/framework/contracts/event&quot;</code></p><h3 id="ä¿®å¾©ä¿å­˜æ–‡ä»¶æ™‚æœ‰äº›é¡å‹ç„¡æ³•ç²å–å¾Œç¶´çš„å•é¡Œ" tabindex="-1">ä¿®å¾©ä¿å­˜æ–‡ä»¶æ™‚æœ‰äº›é¡å‹ç„¡æ³•ç²å–å¾Œç¶´çš„å•é¡Œ <a class="header-anchor" href="#ä¿®å¾©ä¿å­˜æ–‡ä»¶æ™‚æœ‰äº›é¡å‹ç„¡æ³•ç²å–å¾Œç¶´çš„å•é¡Œ" aria-label="Permalink to â€œä¿®å¾©ä¿å­˜æ–‡ä»¶æ™‚æœ‰äº›é¡å‹ç„¡æ³•ç²å–å¾Œç¶´çš„å•é¡Œâ€">â€‹</a></h3><p>Version: v1.9.1</p><p>ä¸‹é¢ä»£ç¢¼æœ‰äº›é¡å‹ç„¡æ³•ç²å–å¾Œç¶´:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Store</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;upload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,51)]))}const m=e(r,[["render",l]]);export{k as __pageData,m as default};
