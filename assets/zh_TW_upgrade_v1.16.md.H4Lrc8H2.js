import{_ as i,f as a,o as e,an as n}from"./chunks/framework.CFMQV-X7.js";const g=JSON.parse('{"title":"å¾ v1.15 å‡ç´šåˆ° v1.16","description":"","frontmatter":{},"headers":[],"relativePath":"zh_TW/upgrade/v1.16.md","filePath":"zh_TW/upgrade/v1.16.md","lastUpdated":1756909717000}'),t={name:"zh_TW/upgrade/v1.16.md"};function l(h,s,p,k,r,d){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="å¾-v1-15-å‡ç´šåˆ°-v1-16" tabindex="-1">å¾ v1.15 å‡ç´šåˆ° v1.16 <a class="header-anchor" href="#å¾-v1-15-å‡ç´šåˆ°-v1-16" aria-label="Permalink to â€œå¾ v1.15 å‡ç´šåˆ° v1.16â€">â€‹</a></h1><h2 id="ä»¤äººèˆˆå¥®çš„æ–°åŠŸèƒ½-ğŸ‰" tabindex="-1">ä»¤äººèˆˆå¥®çš„æ–°åŠŸèƒ½ ğŸ‰ <a class="header-anchor" href="#ä»¤äººèˆˆå¥®çš„æ–°åŠŸèƒ½-ğŸ‰" aria-label="Permalink to â€œä»¤äººèˆˆå¥®çš„æ–°åŠŸèƒ½ ğŸ‰â€">â€‹</a></h2><ul><li><a href="#æ–°å¢-facades-db">æ–°å¢ facades.DB()</a></li><li><a href="#æ–°å¢-facades-http">æ–°å¢ facades.Http()</a></li><li><a href="#é‡æ§‹-facades-queue">é‡æ§‹ facades.Queue()</a></li><li><a href="#facades-auth-æ”¯æ´è‡ªå®šç¾©é©…å‹•">facades.Auth() æ”¯æ´è‡ªå®šç¾©é©…å‹•</a></li><li><a href="#make-å‘½ä»¤æ”¯æ´è‡ªå‹•è¨»å†Š">make:* å‘½ä»¤æ”¯æ´è‡ªå‹•è¨»å†Š</a></li><li><a href="#goravel-installer-æ”¯æ´é¸æ“‡é©…å‹•">Goravel Installer æ”¯æ´é¸æ“‡é©…å‹•</a></li></ul><h2 id="åŠŸèƒ½å¢å¼·-ğŸš€" tabindex="-1">åŠŸèƒ½å¢å¼· ğŸš€ <a class="header-anchor" href="#åŠŸèƒ½å¢å¼·-ğŸš€" aria-label="Permalink to â€œåŠŸèƒ½å¢å¼· ğŸš€â€">â€‹</a></h2><ul><li><a href="#æ‹†åˆ†è³‡æ–™åº«é©…å‹•">æ‹†åˆ†è³‡æ–™åº«é©…å‹•</a></li><li><a href="#orm-æ–°å¢ç‰¹æ€§">Orm æ–°å¢ç‰¹æ€§</a></li><li><a href="#æ”¯æ´æ ¹æ“šè³‡æ–™è¡¨å‰µå»º-model">æ”¯æ´æ ¹æ“šè³‡æ–™è¡¨å‰µå»º Model</a></li><li><a href="#æ”¯æ´é‹è¡Œæ™‚å‹•æ…‹-sql-èªå¥">æ”¯æ´é‹è¡Œæ™‚å‹•æ…‹ SQL èªå¥</a></li><li><a href="#migration-æ–°å¢ç‰¹æ€§">Migration æ–°å¢ç‰¹æ€§</a></li><li><a href="#grpc-æ–°å¢-shutdown-æ–¹æ³•">Grpc æ–°å¢ Shutdown æ–¹æ³•</a></li><li><a href="#artisan-æ–°å¢ç¦ç”¨åˆ—å°é¡è‰²é¸é …">Artisan æ–°å¢ç¦ç”¨åˆ—å°é¡è‰²é¸é …</a></li><li><a href="#åŠ è§£å¯†-env-æª”æ¡ˆ">åŠ è§£å¯† env æª”æ¡ˆ</a></li><li><a href="#ç™¼é€éƒµä»¶æ”¯æ´è¨­ç½®-header">ç™¼é€éƒµä»¶æ”¯æ´è¨­ç½® Header</a></li><li><a href="#installer-æ”¯æ´è‡ªæˆ‘å‡ç´š">Installer æ”¯æ´è‡ªæˆ‘å‡ç´š</a></li><li><a href="#å¤šèªè¨€æ”¯æ´-embed-åŠ è¼‰">å¤šèªè¨€æ”¯æ´åµŒå…¥åŠ è¼‰</a></li><li><a href="#schedule-æ–°å¢ç‰¹æ€§">æ’ç¨‹æ–°å¢ç‰¹æ€§</a></li><li><a href="#request-æ–°å¢ç‰¹æ€§">è«‹æ±‚æ–°å¢ç‰¹æ€§</a></li><li><a href="#route-æ–°å¢ç‰¹æ€§">è·¯ç”±æ–°å¢ç‰¹æ€§</a></li><li><a href="#testing-æ”¯æ´å»ºç«‹-cache-å½±åƒ">æ¸¬è©¦æ”¯æ´å»ºç«‹å¿«å–å½±åƒ</a></li><li><a href="#ä¸åŒ-jwt-guard-æ”¯æ´ä¸åŒé…ç½®">ä¸åŒ JWT Guard æ”¯æ´ä¸åŒé…ç½®</a></li><li><a href="#è¨»å†Š-serviceprovider-ä¸å†ä¾è³´é †åº">ServiceProvider ä¸å†ä¾è³´é †åº</a></li></ul><h2 id="ç ´å£æ€§è®ŠåŒ–-ğŸ› " tabindex="-1">ç ´å£æ€§è®ŠåŒ– ğŸ›  <a class="header-anchor" href="#ç ´å£æ€§è®ŠåŒ–-ğŸ› " aria-label="Permalink to â€œç ´å£æ€§è®ŠåŒ– ğŸ› â€">â€‹</a></h2><ul><li><a href="#ç§»é™¤-sql-è¿ç§»">ç§»é™¤ SQL è¿ç§»</a></li><li><a href="#å„ªåŒ–-config-æ¨¡çµ„æ–¹æ³•é è¨­å€¼é¡å‹">å„ªåŒ– Config æ¨¡çµ„æ–¹æ³•é è¨­å€¼é¡å‹</a></li><li><a href="#å„ªåŒ–-orm-æ–¹æ³•">å„ªåŒ– Orm æ–¹æ³•</a></li><li><a href="#å„ªåŒ–-path-æ–¹æ³•">å„ªåŒ– Path æ–¹æ³•</a></li><li><a href="#å„ªåŒ–-request-æ–¹æ³•">å„ªåŒ– Request æ–¹æ³•</a></li><li><a href="#å„ªåŒ–-console-confirm-æ–¹æ³•">å„ªåŒ– console Confirm æ–¹æ³•</a></li><li><a href="#å„ªåŒ–-session-è‡ªå®šç¾©é©…å‹•æ–¹å¼">å„ªåŒ– Session è‡ªå®šç¾©é©…å‹•æ–¹å¼</a></li><li><a href="#å„ªåŒ–-testing-request-æ–¹æ³•">å„ªåŒ– Testing.Request æ–¹æ³•</a></li><li><a href="#å„ªåŒ–-carbon-æ–¹æ³•">å„ªåŒ– Carbon æ–¹æ³•</a></li><li><a href="#å„ªåŒ–-str-snake-æ–¹æ³•">å„ªåŒ– str.Snake æ–¹æ³•</a></li><li><a href="#goravelcloudinary-åœæ­¢ç¶­è­·">goravel/cloudinary åœæ­¢ç¶­è­·</a></li></ul><h2 id="v1-16-1" tabindex="-1">v1.16.1 <a class="header-anchor" href="#v1-16-1" aria-label="Permalink to â€œv1.16.1â€">â€‹</a></h2><ul><li><a href="#fix-bcc-and-cc-cannot-be-set-expectly-when-sending-mail">Fix bcc and cc cannot be set expectly when sending mail</a></li><li><a href="#fix-sending-mail-via-queue-returns-incorrect-error">Fix sending mail via queue returns incorrect error</a></li><li><a href="#fix-the-orm-create-events-can-be-triggered-when-creating-multiple-records">Fix the orm create events can be triggered when creating multiple records</a></li><li><a href="#fix-the-make-package-command-generates-incorrect-code">Fix the make:package command generates incorrect code</a></li><li><a href="#fix-the-path-is-incorrect-when-publishing-package-files">Fix the path is incorrect when publishing package files</a></li></ul><h2 id="å‡ç´šæŒ‡å—" tabindex="-1">å‡ç´šæŒ‡å— <a class="header-anchor" href="#å‡ç´šæŒ‡å—" aria-label="Permalink to â€œå‡ç´šæŒ‡å—â€">â€‹</a></h2><p>éš¨è‘— <a href="https://endoflife.date/go" target="_blank" rel="noreferrer">Golang v1.22 ä¸å†è¢«ç¶­è­·</a>ï¼ŒGoravel v1.16 é è¨­æ”¯æ´çš„ Golang ç‰ˆæœ¬å·²å¾ 1.22 å‡ç´šç‚º 1.23.</p><p>goravel/example é …ç›®ç”± v1.15 å‡ç´šåˆ° v1.16 PR å¯ä½œç‚ºå‡ç´šåƒè€ƒï¼š<a href="https://github.com/goravel/example/pull/68" target="_blank" rel="noreferrer">goravel/example#68</a>.</p><h3 id="_1-æ›´æ–°ä¾è³´" tabindex="-1">1. æ›´æ–°ä¾è³´ <a class="header-anchor" href="#_1-æ›´æ–°ä¾è³´" aria-label="Permalink to â€œ1. æ›´æ–°ä¾è³´â€">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/goravel/framework@latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> å¦‚æœä½¿ç”¨</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/goravel/gin@latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> å¦‚æœä½¿ç”¨</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fiber</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/goravel/fiber@latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> å¦‚æœä½¿ç”¨</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/goravel/redis@latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> å¦‚æœä½¿ç”¨</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> S3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/goravel/s3@latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> å¦‚æœä½¿ç”¨</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oss</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/goravel/oss@latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> å¦‚æœä½¿ç”¨</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Cos</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/goravel/cos@latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> å¦‚æœä½¿ç”¨</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Minio</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/goravel/minio@latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tidy</span></span></code></pre></div><h3 id="_2-ä¿®æ”¹è³‡æ–™åº«é…ç½®" tabindex="-1">2. ä¿®æ”¹è³‡æ–™åº«é…ç½® <a class="header-anchor" href="#_2-ä¿®æ”¹è³‡æ–™åº«é…ç½®" aria-label="Permalink to â€œ2. ä¿®æ”¹è³‡æ–™åº«é…ç½®â€">â€‹</a></h3><p>åˆªé™¤è³‡æ–™åº«é…ç½®æª”ä¸­çš„ <code>connections</code>ï¼Œä¸¦å®‰è£éœ€è¦çš„è³‡æ–™åº«é©…å‹•ã€‚</p><p>ä¾‹å¦‚ï¼ŒPostgres:</p><ol><li>å®‰è£é©…å‹•åŒ…</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com/goravel/postgres</span></span></code></pre></div><ol start="2"><li>å°‡ <code>postgres.ServiceProvider</code> æ·»åŠ åˆ° <code>config/app.go</code> æ–‡ä»¶ä¸­</li></ol><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// config/app.go</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">github.com/goravel/postgres</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;providers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foundation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">postgres</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><ol start="3"><li>ä¿®æ”¹ <code>config/database.go</code> æª”æ¡ˆä¸­çš„è¨­å®š</li></ol><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// config/database.go</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	&quot;github.com/goravel/framework/contracts/database/driver&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	postgresfacades &quot;github.com/goravel/postgres/facades&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot;connections&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &quot;postgres&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ...</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++    &quot;via&quot;: func() (driver.Driver, error) {</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++      return postgresfacades.Postgres(&quot;postgres&quot;)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><h3 id="_3-ä¿®æ”¹-auth-go-é…ç½®æª”æ¡ˆ" tabindex="-1">3. ä¿®æ”¹ auth.go é…ç½®æª”æ¡ˆ <a class="header-anchor" href="#_3-ä¿®æ”¹-auth-go-é…ç½®æª”æ¡ˆ" aria-label="Permalink to â€œ3. ä¿®æ”¹ auth.go é…ç½®æª”æ¡ˆâ€">â€‹</a></h3><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// config/auth.go</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// æ”¯æ´: &quot;jwt&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot;guards&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &quot;user&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &quot;driver&quot;:   &quot;jwt&quot;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++    &quot;provider&quot;: &quot;user&quot;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ // æ”¯æ´: &quot;orm&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ &quot;providers&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++   &quot;user&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++     &quot;driver&quot;: &quot;orm&quot;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++   },</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ },</span></span></code></pre></div><h3 id="_4-ä¿®æ”¹-session-go-é…ç½®æª”æ¡ˆ" tabindex="-1">4. ä¿®æ”¹ session.go é…ç½®æª”æ¡ˆ <a class="header-anchor" href="#_4-ä¿®æ”¹-session-go-é…ç½®æª”æ¡ˆ" aria-label="Permalink to â€œ4. ä¿®æ”¹ session.go é…ç½®æª”æ¡ˆâ€">â€‹</a></h3><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// config/session.go</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- &quot;driver&quot;: config.Env(&quot;SESSION_DRIVER&quot;, &quot;file&quot;),</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ &quot;default&quot;: config.Env(&quot;SESSION_DRIVER&quot;, &quot;file&quot;),</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ &quot;drivers&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++   &quot;file&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++     &quot;driver&quot;: &quot;file&quot;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++   },</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ },</span></span></code></pre></div><h3 id="_5-ä¿®æ”¹-queue-go-é…ç½®æª”æ¡ˆ" tabindex="-1">5. ä¿®æ”¹ queue.go é…ç½®æª”æ¡ˆ <a class="header-anchor" href="#_5-ä¿®æ”¹-queue-go-é…ç½®æª”æ¡ˆ" aria-label="Permalink to â€œ5. ä¿®æ”¹ queue.go é…ç½®æª”æ¡ˆâ€">â€‹</a></h3><ul><li><p>å¦‚æœæ­£åœ¨ä½¿ç”¨ Queue æ¨¡çµ„çš„ Redis é©…å‹•ï¼Œéœ€ç›¸æ‡‰ä¿®æ”¹ï¼š<a href="#å„ªåŒ–-queue-é…ç½®">å„ªåŒ– Queue é…ç½®</a>ã€‚</p></li><li><p>å¦‚æœæ²’æœ‰ä½¿ç”¨æˆ–æƒ³è¦ä»¥å¾Œä½¿ç”¨ database é©…å‹•ï¼Œéœ€ä¿®æ”¹ <code>config/queue.go</code> æª”æ¡ˆä¸­çš„é…ç½®ï¼š</p></li></ul><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// config/queue.go</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">--</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;"> // é©…å‹•: &quot;sync&quot;, &quot;redis&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ // é©…å‹•: &quot;sync&quot;, &quot;database&quot;, &quot;custom&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot;connections&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &quot;sync&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &quot;driver&quot;: &quot;sync&quot;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">--  &quot;redis&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">--    &quot;driver&quot;:     &quot;redis&quot;,</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">--    &quot;connection&quot;: &quot;default&quot;,</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">--    &quot;queue&quot;:      config.Env(&quot;REDIS_QUEUE&quot;, &quot;default&quot;),</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">--  },</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++  &quot;database&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++    &quot;driver&quot;:     &quot;database&quot;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++    &quot;connection&quot;: &quot;postgres&quot;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++    &quot;queue&quot;:      &quot;default&quot;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++    &quot;concurrent&quot;: 1,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ &quot;failed&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++  &quot;database&quot;: config.Env(&quot;DB_CONNECTION&quot;, &quot;postgres&quot;),</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++  &quot;table&quot;:    &quot;failed_jobs&quot;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ },</span></span></code></pre></div><p>æ·»åŠ è³‡æ–™åº«é©…å‹•æ‰€éœ€çš„é·ç§»æª”æ¡ˆï¼š<a href="https://github.com/goravel/goravel/blob/master/database/migrations/20210101000002_create_jobs_table.go" target="_blank" rel="noreferrer">database/migrations/20210101000002_create_jobs_table.go</a>ï¼Œä¸¦åœ¨ <code>database/kernel.go</code> æ–‡ä»¶ä¸­è¨»å†Šè©²é·ç§»æª”æ¡ˆã€‚</p><h3 id="_6-å¦‚æœéœ€è¦ä½¿ç”¨-http-å®¢æˆ¶ç«¯" tabindex="-1">6. å¦‚æœéœ€è¦ä½¿ç”¨ HTTP å®¢æˆ¶ç«¯ <a class="header-anchor" href="#_6-å¦‚æœéœ€è¦ä½¿ç”¨-http-å®¢æˆ¶ç«¯" aria-label="Permalink to â€œ6. å¦‚æœéœ€è¦ä½¿ç”¨ HTTP å®¢æˆ¶ç«¯â€">â€‹</a></h3><p>åœ¨ <code>config/http.go</code> æª”æ¡ˆä¸­æ·»åŠ  HTTP å®¢æˆ¶ç«¯é…ç½®é …:</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// config/http.go</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ &quot;client&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++   &quot;base_url&quot;:                config.GetString(&quot;HTTP_CLIENT_BASE_URL&quot;),</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++   &quot;timeout&quot;:                 config.GetDuration(&quot;HTTP_CLIENT_TIMEOUT&quot;),</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++   &quot;max_idle_conns&quot;:          config.GetInt(&quot;HTTP_CLIENT_MAX_IDLE_CONNS&quot;),</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++   &quot;max_idle_conns_per_host&quot;: config.GetInt(&quot;HTTP_CLIENT_MAX_IDLE_CONNS_PER_HOST&quot;),</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++   &quot;max_conns_per_host&quot;:      config.GetInt(&quot;HTTP_CLIENT_MAX_CONN_PER_HOST&quot;),</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++   &quot;idle_conn_timeout&quot;:       config.GetDuration(&quot;HTTP_CLIENT_IDLE_CONN_TIMEOUT&quot;),</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ },</span></span></code></pre></div><h3 id="_7-å¦‚æœä½¿ç”¨-goravel-redis-é©…å‹•" tabindex="-1">7. å¦‚æœä½¿ç”¨ goravel/redis é©…å‹• <a class="header-anchor" href="#_7-å¦‚æœä½¿ç”¨-goravel-redis-é©…å‹•" aria-label="Permalink to â€œ7. å¦‚æœä½¿ç”¨ goravel/redis é©…å‹•â€">â€‹</a></h3><p>éœ€ä¿®æ”¹ <code>config/cache.go</code> æª”æ¡ˆä¸­çš„é…ç½®ï¼š</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// config/cache.go</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot;redis&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &quot;driver&quot;:     &quot;custom&quot;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &quot;connection&quot;: &quot;default&quot;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &quot;via&quot;: func() (cache.Driver, error) {</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">--  return redisfacades.Redis(&quot;redis&quot;), nil</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++  return redisfacades.Cache(&quot;redis&quot;)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><h3 id="_8-å¦‚æœä½¿ç”¨-carbon-datetime-ç­‰æ–¹æ³•" tabindex="-1">8. å¦‚æœä½¿ç”¨ carbon.DateTime ç­‰æ–¹æ³• <a class="header-anchor" href="#_8-å¦‚æœä½¿ç”¨-carbon-datetime-ç­‰æ–¹æ³•" aria-label="Permalink to â€œ8. å¦‚æœä½¿ç”¨ carbon.DateTime ç­‰æ–¹æ³•â€">â€‹</a></h3><p>éœ€ç›¸æ‡‰ä¿®æ”¹ï¼š<a href="#å„ªåŒ–-carbon-æ–¹æ³•">å„ªåŒ– Carbon æ–¹æ³•</a></p><h3 id="_9-å¦‚æœæ­£åœ¨ä½¿ç”¨-session-è‡ªå®šç¾©é©…å‹•" tabindex="-1">9. å¦‚æœæ­£åœ¨ä½¿ç”¨ session è‡ªå®šç¾©é©…å‹• <a class="header-anchor" href="#_9-å¦‚æœæ­£åœ¨ä½¿ç”¨-session-è‡ªå®šç¾©é©…å‹•" aria-label="Permalink to â€œ9. å¦‚æœæ­£åœ¨ä½¿ç”¨ session è‡ªå®šç¾©é©…å‹•â€">â€‹</a></h3><p>éœ€ç›¸æ‡‰ä¿®æ”¹ï¼š<a href="#å„ªåŒ–-session-è‡ªå®šç¾©é©…å‹•">å„ªåŒ– Session è‡ªå®šç¾©é©…å‹•</a></p><h3 id="_10-å¦‚æœæ­£åœ¨ä½¿ç”¨-facades-config-ä¸­çš„æ–¹æ³•" tabindex="-1">10. å¦‚æœæ­£åœ¨ä½¿ç”¨ facades.Config() ä¸­çš„æ–¹æ³• <a class="header-anchor" href="#_10-å¦‚æœæ­£åœ¨ä½¿ç”¨-facades-config-ä¸­çš„æ–¹æ³•" aria-label="Permalink to â€œ10. å¦‚æœæ­£åœ¨ä½¿ç”¨ facades.Config() ä¸­çš„æ–¹æ³•â€">â€‹</a></h3><p>éœ€ç›¸åº”ä¿®æ”¹ï¼š<a href="#modify-config-module-methods-default-value-type">ä¿®æ”¹ Config æ¨¡å—æ–¹æ³•é»˜è®¤å€¼ç±»å‹</a></p><h3 id="_11-å¦‚æœæ­£åœ¨ä½¿ç”¨-sql-è³‡æ–™é·ç§»" tabindex="-1">11. å¦‚æœæ­£åœ¨ä½¿ç”¨ SQL è³‡æ–™é·ç§» <a class="header-anchor" href="#_11-å¦‚æœæ­£åœ¨ä½¿ç”¨-sql-è³‡æ–™é·ç§»" aria-label="Permalink to â€œ11. å¦‚æœæ­£åœ¨ä½¿ç”¨ SQL è³‡æ–™é·ç§»â€">â€‹</a></h3><p>éœ€ç›¸æ‡‰ä¿®æ”¹ï¼š<a href="#remove-sql-migration">ç§»é™¤ SQL è¿ç§»</a></p><h3 id="_12-å¦‚æœæ­£åœ¨ä½¿ç”¨-orm" tabindex="-1">12. å¦‚æœæ­£åœ¨ä½¿ç”¨ Orm <a class="header-anchor" href="#_12-å¦‚æœæ­£åœ¨ä½¿ç”¨-orm" aria-label="Permalink to â€œ12. å¦‚æœæ­£åœ¨ä½¿ç”¨ Ormâ€">â€‹</a></h3><p>éœ€ç›¸æ‡‰ä¿®æ”¹ï¼š<a href="#optimize-orm-methods">å„ªåŒ– Orm æ–¹æ³•</a></p><h3 id="_13-å¦‚æœæ­£åœ¨ä½¿ç”¨-path-æ–¹æ³•" tabindex="-1">13. å¦‚æœæ­£åœ¨ä½¿ç”¨ Path æ–¹æ³• <a class="header-anchor" href="#_13-å¦‚æœæ­£åœ¨ä½¿ç”¨-path-æ–¹æ³•" aria-label="Permalink to â€œ13. å¦‚æœæ­£åœ¨ä½¿ç”¨ Path æ–¹æ³•â€">â€‹</a></h3><p><code>path</code> æ–¹æ³•è¿”å›çµ•å°è·¯å¾‘ï¼Œå¦‚æœæ­£åœ¨ä½¿ç”¨ï¼Œéœ€æª¢æŸ¥æ˜¯å¦éœ€è¦ä¿®æ”¹ï¼š<a href="#optimize-path-method">å„ªåŒ– Path æ–¹æ³•</a></p><h3 id="_14-å¦‚æœæ­£åœ¨ä½¿ç”¨-ctx-request-inputmap-æ–¹æ³•" tabindex="-1">14. å¦‚æœæ­£åœ¨ä½¿ç”¨ <code>ctx.Request().InputMap</code> æ–¹æ³• <a class="header-anchor" href="#_14-å¦‚æœæ­£åœ¨ä½¿ç”¨-ctx-request-inputmap-æ–¹æ³•" aria-label="Permalink to â€œ14. å¦‚æœæ­£åœ¨ä½¿ç”¨ ctx.Request().InputMap æ–¹æ³•â€">â€‹</a></h3><p>éœ€ç›¸æ‡‰ä¿®æ”¹ï¼š<a href="#optimize-request-method">å„ªåŒ– Request æ–¹æ³•</a></p><h3 id="_15-å¦‚æœæ­£åœ¨ä½¿ç”¨-console-confirm-æ–¹æ³•" tabindex="-1">15. å¦‚æœæ­£åœ¨ä½¿ç”¨ <code>console.Confirm</code> æ–¹æ³• <a class="header-anchor" href="#_15-å¦‚æœæ­£åœ¨ä½¿ç”¨-console-confirm-æ–¹æ³•" aria-label="Permalink to â€œ15. å¦‚æœæ­£åœ¨ä½¿ç”¨ console.Confirm æ–¹æ³•â€">â€‹</a></h3><p>éœ€ç›¸æ‡‰ä¿®æ”¹ï¼š<a href="#optimize-console-confirm-method">å„ªåŒ– console Confirm æ–¹æ³•</a></p><h3 id="_16-å¦‚æœæ­£åœ¨ä½¿ç”¨-testing-request-æ–¹æ³•" tabindex="-1">16. å¦‚æœæ­£åœ¨ä½¿ç”¨ Testing.Request æ–¹æ³• <a class="header-anchor" href="#_16-å¦‚æœæ­£åœ¨ä½¿ç”¨-testing-request-æ–¹æ³•" aria-label="Permalink to â€œ16. å¦‚æœæ­£åœ¨ä½¿ç”¨ Testing.Request æ–¹æ³•â€">â€‹</a></h3><p>éœ€ç›¸æ‡‰ä¿®æ”¹ï¼š<a href="#optimize-testing-request-method">å„ªåŒ– Testing.Request æ–¹æ³•</a></p><h2 id="åŠŸèƒ½ä»‹ç´¹" tabindex="-1">åŠŸèƒ½ä»‹ç´¹ <a class="header-anchor" href="#åŠŸèƒ½ä»‹ç´¹" aria-label="Permalink to â€œåŠŸèƒ½ä»‹ç´¹â€">â€‹</a></h2><h3 id="æ–°å¢-facades-db" tabindex="-1">æ–°å¢ facades.DB() <a class="header-anchor" href="#æ–°å¢-facades-db" aria-label="Permalink to â€œæ–°å¢ facades.DB()â€">â€‹</a></h3><p>æ–°å¢ <code>facades.DB()</code> æ¨¡çµ„ï¼Œæ–¹ä¾¿é€²è¡Œè³‡æ–™åº«çš„åŸç”Ÿæ“ä½œï¼Œæ¯” ORM é€Ÿåº¦æ›´å¿«ã€‚</p><p><a href="./../database/getting-started.html">æŸ¥çœ‹æ–‡æª”</a></p><h3 id="æ–°å¢-facades-http" tabindex="-1">æ–°å¢ facades.Http() <a class="header-anchor" href="#æ–°å¢-facades-http" aria-label="Permalink to â€œæ–°å¢ facades.Http()â€">â€‹</a></h3><p>æ–°å¢ <code>facades.Http()</code> æ¨¡çµ„ï¼Œæ–¹ä¾¿é€²è¡Œ HTTP æ“ä½œã€‚</p><p><a href="./../digging-deeper/http-client.html">æŸ¥çœ‹æ–‡æª”</a></p><h3 id="é‡æ§‹-facades-queue" tabindex="-1">é‡æ§‹ facades.Queue() <a class="header-anchor" href="#é‡æ§‹-facades-queue" aria-label="Permalink to â€œé‡æ§‹ facades.Queue()â€">â€‹</a></h3><ul><li><p>åœ¨ v1.15 ä¹‹å‰ï¼ŒQueue åƒ…æ”¯æŒåŒæ­¥èˆ‡ Redis é©…å‹•ï¼Œå¾ v1.16 é–‹å§‹ï¼Œæ”¯æŒè³‡æ–™åº«èˆ‡è‡ªå®šç¾©é©…å‹•ã€‚</p></li><li><p>æ–°å¢ <code>jobs</code> å’Œ <code>failed_jobs</code> è¡¨ï¼Œç”¨æ–¼å­˜å„²ä»»å‹™åŠå¤±æ•—ä»»å‹™ã€‚</p></li><li><p>æ–°å¢ <code>queue:retry</code> å‘½ä»¤ï¼Œç”¨æ–¼é‡è©¦å¤±æ•—çš„ä»»å‹™ã€‚</p></li><li><p>æ–°å¢ <code>queue:failed</code> å‘½ä»¤ï¼Œç”¨æ–¼æŸ¥çœ‹å¤±æ•—ä»»å‹™ã€‚</p></li><li><p>æ”¯æŒåœ¨å•Ÿå‹•éšŠåˆ—ä»»å‹™æ™‚è¨­ç½®é‡è©¦æ¬¡æ•¸ã€‚</p></li></ul><p>è©³æƒ…è«‹ <a href="./../digging-deeper/queues.html">æŸ¥çœ‹æ–‡æª”</a></p><h3 id="facades-auth-æ”¯æŒè‡ªè¨‚é©…å‹•" tabindex="-1">facades.Auth() æ”¯æŒè‡ªè¨‚é©…å‹• <a class="header-anchor" href="#facades-auth-æ”¯æŒè‡ªè¨‚é©…å‹•" aria-label="Permalink to â€œfacades.Auth() æ”¯æŒè‡ªè¨‚é©…å‹•â€">â€‹</a></h3><p>åœ¨ v1.15 ä¹‹å‰ï¼ŒAuth åªæ”¯æŒ JWT é©…å‹•ï¼Œå¾ v1.16 é–‹å§‹æ”¯æŒ Session å’Œè‡ªå®šç¾©é©…å‹•ï¼Œè«‹ <a href="./../security/authentication.html#custom-driver">æŸ¥çœ‹æ–‡æª”</a>ã€‚</p><h3 id="make-å‘½ä»¤æ”¯æŒè‡ªå‹•è¨»å†Š" tabindex="-1">make:* å‘½ä»¤æ”¯æŒè‡ªå‹•è¨»å†Š <a class="header-anchor" href="#make-å‘½ä»¤æ”¯æŒè‡ªå‹•è¨»å†Š" aria-label="Permalink to â€œmake:* å‘½ä»¤æ”¯æŒè‡ªå‹•è¨»å†Šâ€">â€‹</a></h3><p><code>make:migration</code> å’Œ <code>make:seeder</code> ç­‰å‘½ä»¤ç”Ÿæˆçš„æª”æ¡ˆå°‡åœ¨ç”Ÿæˆå¾Œè‡ªå‹•è¨»å†Šåˆ°æ¡†æ¶ä¸­ï¼Œä¸å†éœ€è¦åƒä»¥å‰é‚£æ¨£æ‰‹å‹•è¨»å†Šã€‚</p><h3 id="goravel-installer-æ”¯æŒé¸æ“‡é©…å‹•" tabindex="-1">Goravel Installer æ”¯æŒé¸æ“‡é©…å‹• <a class="header-anchor" href="#goravel-installer-æ”¯æŒé¸æ“‡é©…å‹•" aria-label="Permalink to â€œGoravel Installer æ”¯æŒé¸æ“‡é©…å‹•â€">â€‹</a></h3><p>ä½¿ç”¨ Goravel Installer å®‰è£æ–°å°ˆæ¡ˆæ™‚ï¼Œå¯ä»¥é¸æ“‡ä¸åŒçš„é©…å‹•ï¼Œä¾‹å¦‚ï¼šå¯ä»¥é¸æ“‡å®‰è£ goravel/gin æˆ– goravel/fiber ç­‰ã€‚</p><h3 id="æ‹†åˆ†è³‡æ–™åº«é©…å‹•" tabindex="-1">æ‹†åˆ†è³‡æ–™åº«é©…å‹• <a class="header-anchor" href="#æ‹†åˆ†è³‡æ–™åº«é©…å‹•" aria-label="Permalink to â€œæ‹†åˆ†è³‡æ–™åº«é©…å‹•â€">â€‹</a></h3><p>ä¹‹å‰å¤šå€‹è³‡æ–™åº«é©…å‹•é›†æˆåœ¨æ¡†æ¶ä¸­ï¼Œå¢åŠ äº†è»Ÿé«”åŒ…çš„å¤§å°ã€‚ å¾ v1.16 é–‹å§‹ï¼Œè³‡æ–™åº«é©…å‹•å°‡ä½œç‚ºç¨ç«‹åŒ…å­˜åœ¨ï¼Œæ‰€ä»¥åªéœ€å®‰è£æ‰€éœ€çš„è³‡æ–™åº«é©…å‹•ã€‚</p><table tabindex="0"><thead><tr><th>è³‡æ–™åº«é¡å‹</th><th>é©…å‹•åŒ…</th></tr></thead><tbody><tr><td>Postgres</td><td><a href="https://github.com/goravel/postgres" target="_blank" rel="noreferrer">github.com/goravel/postgres</a></td></tr><tr><td>facades.Orm().Connection(&quot;mysql&quot;)</td><td><a href="https://github.com/goravel/mysql" target="_blank" rel="noreferrer">github.com/goravel/mysql</a></td></tr><tr><td>Sqlserver</td><td><a href="https://github.com/goravel/sqlserver" target="_blank" rel="noreferrer">github.com/goravel/sqlserver</a></td></tr><tr><td>ToRawSql</td><td><a href="https://github.com/goravel/sqlite" target="_blank" rel="noreferrer">github.com/goravel/sqlite</a></td></tr></tbody></table><h3 id="orm-æ–°å¢ç‰¹æ€§" tabindex="-1">Orm æ–°å¢ç‰¹æ€§ <a class="header-anchor" href="#orm-æ–°å¢ç‰¹æ€§" aria-label="Permalink to â€œOrm æ–°å¢ç‰¹æ€§â€">â€‹</a></h3><ul><li><p>æ”¯æŒæŸ¥è©¢ JSON å­—æ®µï¼Œ<a href="./../orm/getting-started.html#where">æŸ¥çœ‹æ–‡æª”</a>ã€‚</p></li><li><p>æ”¯æŒæ›´æ–° JSON å­—æ®µï¼Œ<a href="./../orm/getting-started.html#update-json-fields">æŸ¥çœ‹æ–‡æª”</a>ã€‚</p></li><li><p>æ¨¡å‹æ”¯æŒè¨­ç½® <code>GlobalScope</code> æ–¹æ³•ï¼Œè©²æ–¹æ³•é™åˆ¶æŸ¥è©¢ã€æ›´æ–°å’Œåˆªé™¤æ“ä½œçš„ç¯„åœï¼š</p></li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">github.com/goravel/framework/contracts/orm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  orm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Model</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GlobalScopes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">orm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">orm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">orm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">orm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">query</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> orm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">orm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="æ”¯æŒæ ¹æ“šè³‡æ–™è¡¨å‰µå»º-model" tabindex="-1">æ”¯æŒæ ¹æ“šè³‡æ–™è¡¨å‰µå»º Model <a class="header-anchor" href="#æ”¯æŒæ ¹æ“šè³‡æ–™è¡¨å‰µå»º-model" aria-label="Permalink to â€œæ”¯æŒæ ¹æ“šè³‡æ–™è¡¨å‰µå»º Modelâ€">â€‹</a></h3><p><code>make:model</code> å‘½ä»¤å¢åŠ  <code>--table</code> é¸é …ï¼Œç”¨æ–¼æ ¹æ“šè³‡æ–™è¡¨å‰µå»º Modelï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make:model</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --table=users</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> User</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> å¦‚æœæ¨¡å‹å·²å­˜åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> é¸é …å¼·åˆ¶è¦†è“‹</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make:model</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --table=users</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> User</span></span></code></pre></div><h3 id="æ”¯æŒé‹è¡Œæ™‚å‹•æ…‹-sql-èªå¥" tabindex="-1">æ”¯æŒé‹è¡Œæ™‚å‹•æ…‹ SQL èªå¥ <a class="header-anchor" href="#æ”¯æŒé‹è¡Œæ™‚å‹•æ…‹-sql-èªå¥" aria-label="Permalink to â€œæ”¯æŒé‹è¡Œæ™‚å‹•æ…‹ SQL èªå¥â€">â€‹</a></h3><p>æ–°å¢ <code>EnableQueryLog</code> æ–¹æ³•ï¼Œç”¨æ–¼å•Ÿç”¨æŸ¥è©¢æ—¥èªŒï¼š</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ctx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EnableQueryLog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Orm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WithContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WithContext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">queryLogs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetQueryLog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ctx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DisableQueryLog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx)</span></span></code></pre></div><h3 id="migration-æ–°å¢ç‰¹æ€§" tabindex="-1">Migration æ–°å¢ç‰¹æ€§ <a class="header-anchor" href="#migration-æ–°å¢ç‰¹æ€§" aria-label="Permalink to â€œMigration æ–°å¢ç‰¹æ€§â€">â€‹</a></h3><ul><li>æ–°å¢ <code>Change</code> æ–¹æ³•ä»¥ä¿®æ”¹è¡¨çµæ§‹(é©ç”¨æ–¼ Postgres, MySQL, Sqlserver)ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><ul><li>æ–°å¢ <code>RenameColumn</code> æ–¹æ³•ï¼Œç”¨æ–¼é‡å‘½åè¡¨çš„åˆ—ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RenameColumn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;old_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;new_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ul><li>æ–°å¢ <code>Comment</code> æ–¹æ³•ï¼Œç”¨æ–¼å‘è¡¨æ·»åŠ è¨»é‡‹ï¼ˆé©ç”¨æ–¼ Postgres, MySQLï¼‰ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Comment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user table&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ul><li>æ–°å¢ <code>First</code> æ–¹æ³•ï¼Œç”¨æ–¼å°‡æ¬„ä½è¨­ç½®ç‚ºè¡¨çš„ç¬¬ä¸€å€‹æ¬„ä½ï¼ˆé©ç”¨æ–¼ MySQLï¼‰ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">First</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><ul><li>æ–°å¢ <code>After</code> æ–¹æ³•ï¼Œç”¨æ–¼å°‡æ¬„ä½è¨­ç½®ç‚ºè¡¨çš„æœ€å¾Œä¸€å€‹æ¬„ä½ï¼ˆé©ç”¨æ–¼ MySQLï¼‰ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">After</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ul><li>æ–°å¢ <code>Morphs</code>, <code>NullableMorphs</code>, <code>NumericMorphs</code>, <code>UuidMorphs</code>, <code>UlidMorphs</code> æ–¹æ³•ï¼Œç”¨æ–¼å‰µå»ºå¤šæ…‹é—œè¯æ¬„ä½ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Morphs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;morphable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// morphable_type, morphable_id</span></span></code></pre></div><ul><li>æ–°å¢ <code>Uuid</code>, <code>Ulid</code> æ–¹æ³•ï¼Œç”¨æ–¼å‰µå»º UUID å’Œ ULID æ¬„ä½ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Uuid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uuid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Ulid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ulid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ul><li>æ–°å¢ <code>GeneratedAs</code> å’Œ <code>Always</code> æ–¹æ³•ï¼Œç”¨æ–¼å‰µå»ºç”Ÿæˆåˆ—ï¼ˆåƒ…é™ PostgreSQLï¼‰ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">table.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GeneratedAs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Always</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h3 id="grpc-æ–°å¢-shutdown-æ–¹æ³•" tabindex="-1">Grpc æ–°å¢ Shutdown æ–¹æ³• <a class="header-anchor" href="#grpc-æ–°å¢-shutdown-æ–¹æ³•" aria-label="Permalink to â€œGrpc æ–°å¢ Shutdown æ–¹æ³•â€">â€‹</a></h3><p>æ–°å¢ <code>Shutdown</code> æ–¹æ³•ç”¨æ–¼å„ªé›…åœ°é—œé–‰ Grpcï¼Œ<a href="./../the-basics/grpc.html#shutdown-grpc">æŸ¥çœ‹æ–‡æª”</a>ã€‚</p><h3 id="artisan-æ–°å¢ç¦ç”¨è¼¸å‡ºé¡è‰²é¸é …" tabindex="-1">Artisan æ–°å¢ç¦ç”¨è¼¸å‡ºé¡è‰²é¸é … <a class="header-anchor" href="#artisan-æ–°å¢ç¦ç”¨è¼¸å‡ºé¡è‰²é¸é …" aria-label="Permalink to â€œArtisan æ–°å¢ç¦ç”¨è¼¸å‡ºé¡è‰²é¸é …â€">â€‹</a></h3><p>ä¸€äº›å‘½ä»¤é»˜èªæœƒåˆ—å°é¡è‰²ï¼Œä¾‹å¦‚ <code>list</code> å‘½ä»¤ã€‚ ç„¶è€Œï¼Œåœ¨æŸäº›çµ‚ç«¯æˆ–æ—¥èªŒä¸­ï¼Œé¡è‰²å€¼å¯èƒ½æœƒäº‚ç¢¼ã€‚ ä¸€äº›å‘½ä»¤é»˜èªæœƒåˆ—å°é¡è‰²ï¼Œä¾‹å¦‚ <code>list</code> å‘½ä»¤ã€‚ ç„¶è€Œï¼Œåœ¨æŸäº›çµ‚ç«¯æˆ–æ—¥èªŒä¸­ï¼Œé¡è‰²å€¼å¯èƒ½æœƒäº‚ç¢¼ã€‚ ä½ å¯ä»¥ä½¿ç”¨ <code>--no-ansi</code> é¸é …ç¦ç”¨åˆ—å°é¡è‰²ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-ansi</span></span></code></pre></div><h3 id="åŠ è§£å¯†-env-æ–‡ä»¶" tabindex="-1">åŠ è§£å¯† env æ–‡ä»¶ <a class="header-anchor" href="#åŠ è§£å¯†-env-æ–‡ä»¶" aria-label="Permalink to â€œåŠ è§£å¯† env æ–‡ä»¶â€">â€‹</a></h3><p>æ‚¨å¯èƒ½æƒ³å°‡ç”Ÿç”¢ç’°å¢ƒçš„ env æ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œä½†æ‚¨ä¸æƒ³æš´éœ²æ•æ„Ÿä¿¡æ¯ï¼Œæ‚¨å¯ä»¥åŠ è§£å¯† env æ–‡ä»¶ï¼š</p><p><a href="./../getting-started/installation.html#encrypt-and-decrypt-env-file">æŸ¥çœ‹æ–‡æª”</a></p><h3 id="ç™¼é€éƒµä»¶æ”¯æŒè¨­ç½®-header" tabindex="-1">ç™¼é€éƒµä»¶æ”¯æŒè¨­ç½® Header <a class="header-anchor" href="#ç™¼é€éƒµä»¶æ”¯æŒè¨­ç½®-header" aria-label="Permalink to â€œç™¼é€éƒµä»¶æ”¯æŒè¨­ç½® Headerâ€">â€‹</a></h3><p>æ–°å¢ <code>Headers</code> æ–¹æ³•ï¼Œç”¨æ–¼è¨­ç½®éƒµä»¶çš„ Headerã€‚</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Mail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Headers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;X-Mailer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Goravel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="installer-æ”¯æŒè‡ªå‡ç´š" tabindex="-1">Installer æ”¯æŒè‡ªå‡ç´š <a class="header-anchor" href="#installer-æ”¯æŒè‡ªå‡ç´š" aria-label="Permalink to â€œInstaller æ”¯æŒè‡ªå‡ç´šâ€">â€‹</a></h3><p>goravel/installer æ–°å¢ <code>upgrade</code> å‘½ä»¤ï¼Œç”¨æ–¼å‡ç´š installer è‡ªèº«ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">goravel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">goravel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v1.1.1</span></span></code></pre></div><h3 id="å¤šèªè¨€æ–‡ä»¶æ”¯æŒ-embed-åŠ è¼‰" tabindex="-1">å¤šèªè¨€æ–‡ä»¶æ”¯æŒ embed åŠ è¼‰ <a class="header-anchor" href="#å¤šèªè¨€æ–‡ä»¶æ”¯æŒ-embed-åŠ è¼‰" aria-label="Permalink to â€œå¤šèªè¨€æ–‡ä»¶æ”¯æŒ embed åŠ è¼‰â€">â€‹</a></h3><p>ä½¿ç”¨åµŒå…¥åŠ è¼‰æ™‚ï¼Œèªè¨€æ–‡ä»¶å°‡è¢«ç·¨è­¯åˆ°äºŒé€²åˆ¶æ–‡ä»¶ä¸­ï¼Œä¸å†éœ€è¦éƒ¨ç½²ã€‚</p><p><a href="./../digging-deeper/localization.html#embed-loading">æŸ¥çœ‹æ–‡æª”</a></p><h3 id="schedule-æ–°å¢ç‰¹æ€§" tabindex="-1">Schedule æ–°å¢ç‰¹æ€§ <a class="header-anchor" href="#schedule-æ–°å¢ç‰¹æ€§" aria-label="Permalink to â€œSchedule æ–°å¢ç‰¹æ€§â€">â€‹</a></h3><ul><li><p>æ–°å¢ <code>EverySecond</code> æ–¹æ³•ç­‰ï¼Œè«‹ <a href="./../digging-deeper/task-scheduling.html#schedule-frequency-options">æŸ¥çœ‹æ–‡æª”</a>ã€‚</p></li><li><p>æ–°å¢ <code>schedule:run</code> å‘½ä»¤ï¼Œç”¨æ–¼æ‰‹å‹•é‹è¡Œä»»å‹™ã€‚</p></li><li><p>æ–°å¢ <code>schedule:list</code> æ–¹æ³•ï¼Œç”¨æ–¼æŸ¥çœ‹æ‰€æœ‰ä»»å‹™ã€‚</p></li></ul><h3 id="request-æ–°å¢ç‰¹æ€§" tabindex="-1">Request æ–°å¢ç‰¹æ€§ <a class="header-anchor" href="#request-æ–°å¢ç‰¹æ€§" aria-label="Permalink to â€œRequest æ–°å¢ç‰¹æ€§â€">â€‹</a></h3><ul><li>åœ¨ v1.15 ä¹‹å‰ï¼Œä»¥ä¸‹ <code>Request</code> ç¶å®šå°‡å ±éŒ¯ï¼Œå¾ v1.16 é–‹å§‹æ”¯æŒç¶å®šå¤šå€‹æ–‡ä»¶ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StoreMediaRequest</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Files []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">multipart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FileHeader</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`form:&quot;files&quot; json:&quot;files&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>æ–°å¢ <code>OriginPath</code> æ–¹æ³•ï¼Œç”¨æ–¼ç²å–åŸå§‹è·¯ç”±è·¯å¾‘ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OriginPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><ul><li>æ–°å¢ <code>Info</code> æ–¹æ³•ï¼Œç”¨æ–¼ç²å–è·¯ç”±ä¿¡æ¯ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">info </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><ul><li>æ–°å¢ <code>Name</code> æ–¹æ³•ï¼Œç”¨æ–¼ç²å–è·¯ç”±åç¨±ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><ul><li>ç•¶ <code>http.request_timeout</code> é…ç½®é …è¨­ç½®ç‚º <code>0</code> æ™‚ï¼Œè«‹æ±‚å°‡ä¸æœƒè¶…æ™‚ã€‚</li></ul><h3 id="route-æ–°å¢ç‰¹æ€§" tabindex="-1">Route æ–°å¢ç‰¹æ€§ <a class="header-anchor" href="#route-æ–°å¢ç‰¹æ€§" aria-label="Permalink to â€œRoute æ–°å¢ç‰¹æ€§â€">â€‹</a></h3><ul><li>æ–°å¢ <code>GetRoutes</code> æ–¹æ³•ï¼Œç”¨æ–¼ç²å–æ‰€æœ‰è·¯ç”±ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">routes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetRoutes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><ul><li>æ–°å¢ <code>Name</code> æ–¹æ³•ï¼Œç”¨æ–¼è¨­ç½®è·¯ç”±åç¨±ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, usersController.Index).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users.index&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>ç„¶å¾Œå¯ä»¥ä½¿ç”¨ <code>Info</code> æ–¹æ³•ç²å–è·¯ç”±ä¿¡æ¯ï¼š</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">route </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Route</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;users.index&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ul><li>æ–°å¢ <code>route:list</code> å‘½ä»¤ï¼Œç”¨æ–¼æŸ¥çœ‹æ‰€æœ‰è·¯ç”±ï¼š</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> route:list</span></span></code></pre></div><h3 id="testing-æ”¯æŒå‰µå»º-cache-é¡åƒ" tabindex="-1">Testing æ”¯æŒå‰µå»º Cache é¡åƒ <a class="header-anchor" href="#testing-æ”¯æŒå‰µå»º-cache-é¡åƒ" aria-label="Permalink to â€œTesting æ”¯æŒå‰µå»º Cache é¡åƒâ€">â€‹</a></h3><p>æ–°å¢ <code>Cache</code> æ–¹æ³•ï¼Œç”¨æ–¼å‰µå»º Cache é¡åƒï¼š</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cache, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Testing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Docker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h3 id="ä¸åŒ-jwt-guard-æ”¯æŒä¸åŒé…ç½®" tabindex="-1">ä¸åŒ JWT Guard æ”¯æŒä¸åŒé…ç½® <a class="header-anchor" href="#ä¸åŒ-jwt-guard-æ”¯æŒä¸åŒé…ç½®" aria-label="Permalink to â€œä¸åŒ JWT Guard æ”¯æŒä¸åŒé…ç½®â€">â€‹</a></h3><p>åœ¨ v1.15 ä¹‹å‰ï¼ŒJWT Guard çš„ <code>ttl</code> å’Œ <code>secret</code> é…ç½®é …æ˜¯å…¨å±€é…ç½®ï¼Œå¾ v1.16 é–‹å§‹ï¼Œæ‚¨å¯ä»¥ç‚ºä¸åŒçš„ JWT Guard è¨­ç½®ä¸åŒçš„ <code>ttl</code> å’Œ <code>secret</code>ï¼Œ<a href="./../security/authentication.html#different-jwt-guard-supports-different-configurations">æŸ¥çœ‹æ–‡æª”</a>ã€‚</p><h3 id="serviceprovider-ä¸å†ä¾è³´é †åº" tabindex="-1">ServiceProvider ä¸å†ä¾è³´é †åº <a class="header-anchor" href="#serviceprovider-ä¸å†ä¾è³´é †åº" aria-label="Permalink to â€œServiceProvider ä¸å†ä¾è³´é †åºâ€">â€‹</a></h3><p>ServiceProvider æ–°å¢å¯é¸æ–¹æ³• <code>Relationship() binding.Relationship</code>ï¼Œç”¨æ–¼è²æ˜ç•¶å‰ ServicerProvider çš„ä¾è³´é—œä¿‚ï¼Œè¨­ç½®äº†è©²æ–¹æ³•çš„ ServiceProvider å°‡ä¸ä¾è³´è¨»å†Šé †åºï¼Œæœªè¨­ç½®çš„ ServiceProvider å°‡è¢«æœ€å¾Œè¨»å†Šï¼Œä¾‹å¦‚ï¼š</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ServiceProvider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Relationship</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Relationship</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> binding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Relationship</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		Bindings: []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			BindingSession,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		Dependencies: []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			binding.Config,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		ProvideFor: []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			binding.Cache,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">app</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foundation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ServiceProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Boot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">app</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foundation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {}</span></span></code></pre></div><h3 id="ç§»é™¤-sql-è¿ç§»" tabindex="-1">ç§»é™¤ SQL è¿ç§» <a class="header-anchor" href="#ç§»é™¤-sql-è¿ç§»" aria-label="Permalink to â€œç§»é™¤ SQL è¿ç§»â€">â€‹</a></h3><p>SQL é·ç§»å·²å®Œå…¨ç§»é™¤ï¼Œè«‹ä½¿ç”¨ Go èªè¨€é·ç§»ã€‚é·ç§»æ­¥é©Ÿï¼š é·ç§»æ­¥é©Ÿï¼š</p><ol><li>ç§»é™¤ <code>config/database.go</code> ä¸­çš„ <code>migrations.driver</code> éµï¼›</li></ol><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// config/database.go</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;migrations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;driver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sql&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;table&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;migrations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><ol start="2"><li>å°‡ <code>database/migrations</code> ç›®éŒ„ä¸‹çš„ SQL é·ç§»æ–‡ä»¶è½‰æ›ç‚º Go èªè¨€é·ç§»æ–‡ä»¶ï¼š</li></ol><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Up é‹è¡Œé·ç§»ã€‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">M20241207095921CreateUsersTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Up</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Schema</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({Original SQL})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Down åè½‰é·ç§»ã€‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">M20241207095921CreateUsersTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Down</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Schema</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sql</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({Original SQL})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="3"><li>åœ¨ <code>database/kernel.go</code> æ–‡ä»¶ä¸­è¨»å†Šé·ç§»æ–‡ä»¶ï¼›</li></ol><h3 id="å„ªåŒ–-config-æ¨¡çµ„æ–¹æ³•é»˜èªå€¼é¡å‹" tabindex="-1">å„ªåŒ– Config æ¨¡çµ„æ–¹æ³•é»˜èªå€¼é¡å‹ <a class="header-anchor" href="#å„ªåŒ–-config-æ¨¡çµ„æ–¹æ³•é»˜èªå€¼é¡å‹" aria-label="Permalink to â€œå„ªåŒ– Config æ¨¡çµ„æ–¹æ³•é»˜èªå€¼é¡å‹â€">â€‹</a></h3><p>ä¹‹å‰ <code>GetString</code>ã€<code>GetInt</code>ã€<code>GetBool</code> æ–¹æ³•çš„é»˜èªå€¼é¡å‹ç‚º <code>any</code>ï¼Œå¾ v1.16 é–‹å§‹ï¼Œé»˜èªå€¼é¡å‹ç‚º <code>string</code>ã€<code>int</code>ã€<code>bool</code>ï¼Œä»¥ä¿è­‰é¡å‹å®‰å…¨ã€‚</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- GetString(path string, defaultValue ...any) string</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ GetString(path string, defaultValue ...string) string</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- GetInt(path string, defaultValue ...any) int</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ GetInt(path string, defaultValue ...int) int</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- GetBool(path string, defaultValue ...any) bool</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ GetBool(path string, defaultValue ...bool) bool</span></span></code></pre></div><h3 id="å„ªåŒ–-orm-æ–¹æ³•" tabindex="-1">å„ªåŒ– Orm æ–¹æ³• <a class="header-anchor" href="#å„ªåŒ–-orm-æ–¹æ³•" aria-label="Permalink to â€œå„ªåŒ– Orm æ–¹æ³•â€">â€‹</a></h3><ul><li>å„ªåŒ– <code>Count</code>ã€<code>Exists</code> æ–¹æ³•çš„è¿”å›å€¼ï¼š</li></ul><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- Count(count *int64) error</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ Count() (int64, error)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- Distinct(args ...any) Query</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ Distinct(columns ...string) Query</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- Exists(exists *bool) error</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ Exists() (bool, error)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- Select(query any, args ...any) Query</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ Select(columns ...string) Query</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- Sum(column string, dest any) error</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ Sum(column string) (int64, error)</span></span></code></pre></div><ul><li><code>Where</code> æ–¹æ³•æ”¯æŒé–‰åŒ…ï¼š</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">facades.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Orm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">query</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> orm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">orm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;height&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">180</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;age&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FindOrFail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// SELECT * FROM users WHERE id = 100 AND (height = 180 AND age = 18);</span></span></code></pre></div><h3 id="å„ªåŒ–-path-æ–¹æ³•" tabindex="-1">å„ªåŒ– Path æ–¹æ³• <a class="header-anchor" href="#å„ªåŒ–-path-æ–¹æ³•" aria-label="Permalink to â€œå„ªåŒ– Path æ–¹æ³•â€">â€‹</a></h3><ul><li>æ–°å¢ <code>Resource</code> æ–¹æ³•</li></ul><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Resource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;views/welcome.tmpl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ul><li>path æ–¹æ³•è¿”å›çµ•å°è·¯å¾‘</li></ul><p>ä¹‹å‰ path æ–¹æ³•è¿”å›çš„æ˜¯ç›¸å°æ–¼æ ¹ç›®éŒ„çš„è·¯å¾‘ï¼Œä¾‹å¦‚ <code>path.Config(&quot;app.go&quot;) == config/app.go</code>ã€‚ å¾ v1.16 é–‹å§‹ï¼Œpath æ–¹æ³•è¿”å›çš„æ˜¯çµ•å°è·¯å¾‘ï¼Œä¾‹å¦‚ <code>path.Config(&quot;app.go&quot;) == /Users/goravel/workspace/goravel/config/app.go</code>ã€‚</p><h3 id="å„ªåŒ–-request-æ–¹æ³•" tabindex="-1">å„ªåŒ– Request æ–¹æ³• <a class="header-anchor" href="#å„ªåŒ–-request-æ–¹æ³•" aria-label="Permalink to â€œå„ªåŒ– Request æ–¹æ³•â€">â€‹</a></h3><ol><li>ä¿®æ”¹ <code>InputMap</code> æ–¹æ³•çš„é»˜èªå€¼é¡å‹ï¼š</li></ol><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- ctx.Request().InputMap(key string, defaultValue ...map[string]string) map[string]string</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ ctx.Request().InputMap(key string, defaultValue ...map[string]any) map[string]any</span></span></code></pre></div><ol start="2"><li>æ–°å¢ <code>InputMapArray</code> æ–¹æ³•ï¼Œç”¨æ–¼ç²å–æ•¸çµ„é¡å‹çš„ Mapï¼š</li></ol><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">InputMapArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, defaultValue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) []</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">any</span></span></code></pre></div><ol start="3"><li>æ–°å¢ <code>Files</code> æ–¹æ³•ï¼Œç”¨æ–¼ç²å–å¤šå€‹æ–‡ä»¶ï¼š</li></ol><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) ([]filesystem.File, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="å„ªåŒ–-console-confirm-æ–¹æ³•" tabindex="-1">å„ªåŒ– console Confirm æ–¹æ³• <a class="header-anchor" href="#å„ªåŒ–-console-confirm-æ–¹æ³•" aria-label="Permalink to â€œå„ªåŒ– console Confirm æ–¹æ³•â€">â€‹</a></h3><p>ä¿®æ”¹ <code>Confirm</code> æ–¹æ³•çš„è¿”å›å€¼ï¼Œç°¡åŒ–åˆ¤æ–·é‚è¼¯ï¼š</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- Confirm(question string, option ...ConfirmOption) (bool, error)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ Confirm(question string, option ...ConfirmOption) bool</span></span></code></pre></div><h3 id="å„ªåŒ–-session-è‡ªå®šç¾©é©…å‹•æ–¹å¼" tabindex="-1">å„ªåŒ– Session è‡ªå®šç¾©é©…å‹•æ–¹å¼ <a class="header-anchor" href="#å„ªåŒ–-session-è‡ªå®šç¾©é©…å‹•æ–¹å¼" aria-label="Permalink to â€œå„ªåŒ– Session è‡ªå®šç¾©é©…å‹•æ–¹å¼â€">â€‹</a></h3><p>ä¹‹å‰ï¼Œä½ éœ€è¦é€šé <code>facades.Session().Extend</code> æ–¹æ³•è¨»å†Šé©…å‹•ã€‚ å¾ v1.16 é–‹å§‹ï¼Œä½ åªéœ€è¦å°‡å…¶æ·»åŠ åˆ° <code>config/session.go</code> é…ç½®æ–‡ä»¶ä¸­å³å¯ï¼š</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// app/providers/app_service_provider.go</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- facades.Session().Extend(&quot;custom&quot;, func() session.Driver {</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">--   return &amp;CustomDriver{}</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// config/session.go</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot;drivers&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &quot;custom&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &quot;driver&quot;: &quot;custom&quot;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &quot;via&quot;: func() (session.Driver, error) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      return &amp;CustomDriver{}, nil</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><p><a href="./../the-basics/session.html#æ·»åŠ è‡ªå®šç¾©æœƒè©±é©…å‹•">æŸ¥çœ‹æ–‡æª”</a></p><h3 id="å„ªåŒ–-testing-request-æ–¹æ³•" tabindex="-1">å„ªåŒ– Testing.Request æ–¹æ³• <a class="header-anchor" href="#å„ªåŒ–-testing-request-æ–¹æ³•" aria-label="Permalink to â€œå„ªåŒ– Testing.Request æ–¹æ³•â€">â€‹</a></h3><p>å„ªåŒ– <code>WithCookies</code> å’Œ <code>WithCookie</code> æ–¹æ³•çš„å…¥åƒï¼š</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- WithCookies(cookies map[string]string) Request</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ WithCookies(cookies []*http.Cookie) Request</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-- WithCookie(key, value string) Request</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++ WithCookie(cookie *http.Cookie) Request</span></span></code></pre></div><h3 id="å„ªåŒ–-carbon-æ–¹æ³•" tabindex="-1">å„ªåŒ– Carbon æ–¹æ³• <a class="header-anchor" href="#å„ªåŒ–-carbon-æ–¹æ³•" aria-label="Permalink to â€œå„ªåŒ– Carbon æ–¹æ³•â€">â€‹</a></h3><p>ä¹‹å‰ï¼Œ<code>carbon.NewDateTime</code> ç­‰æ–¹æ³•è¿”å›ä¸€å€‹ struct å¯¦ä¾‹ï¼Œå¾ v1.16 é–‹å§‹è¿”å›æŒ‡é‡ï¼Œå¦‚æœä½ å®šç¾©äº† <code>carbon.DateTime</code> ç­‰é¡å‹ï¼Œéœ€è¦ä¿®æ”¹ç‚º <code>*carbon.DateTime</code> ç­‰æŒ‡é‡é¡å‹ã€‚</p><h3 id="å„ªåŒ–-str-snake-æ–¹æ³•" tabindex="-1">å„ªåŒ– str.Snake æ–¹æ³• <a class="header-anchor" href="#å„ªåŒ–-str-snake-æ–¹æ³•" aria-label="Permalink to â€œå„ªåŒ– str.Snake æ–¹æ³•â€">â€‹</a></h3><p><code>str.Snake</code> æ–¹æ³•ä¹‹å‰æœƒå°‡ <code>userID</code> è½‰æ›ç‚º <code>user_i_d</code>ï¼Œå¾ v1.16 é–‹å§‹ï¼Œæœƒè½‰æ›ç‚º <code>user_id</code>ã€‚</p><h3 id="goravel-cloudinary-åœæ­¢ç¶­è­·" tabindex="-1">goravel/cloudinary åœæ­¢ç¶­è­· <a class="header-anchor" href="#goravel-cloudinary-åœæ­¢ç¶­è­·" aria-label="Permalink to â€œgoravel/cloudinary åœæ­¢ç¶­è­·â€">â€‹</a></h3><p><a href="https://github.com/goravel/cloudinary" target="_blank" rel="noreferrer">goravel/cloudinary</a> åœæ­¢ç¶­è­·ï¼Œè«‹ä½¿ç”¨ <a href="https://github.com/goravel/s3" target="_blank" rel="noreferrer">goravel/s3</a> æˆ–å…¶ä»–é©…å‹•æ›¿ä»£ã€‚</p><h3 id="å„ªåŒ–-queue-é…ç½®" tabindex="-1">å„ªåŒ– Queue é…ç½® <a class="header-anchor" href="#å„ªåŒ–-queue-é…ç½®" aria-label="Permalink to â€œå„ªåŒ– Queue é…ç½®â€">â€‹</a></h3><p>åœ¨ v1.15 ä¹‹å‰ï¼ŒQueue æ¨¡çµ„çš„ Redis é©…å‹•ä½¿ç”¨ <a href="https://github.com/RichardKnop/machinery" target="_blank" rel="noreferrer">RichardKnop/machinery</a> å¯¦ç¾ã€‚ å¾ v1.16 é–‹å§‹ï¼ŒRedis é©…å‹•åœ¨ <a href="https://github.com/goravel/redis" target="_blank" rel="noreferrer">goravel/redis</a> ä¸­æä¾›å®˜æ–¹æ”¯æŒã€‚</p><p>ä½ ä¾ç„¶å¯ä»¥åœ¨ v1.16 ä¸­ä½¿ç”¨ Machinery é©…å‹•ï¼Œä½†å…¶å°‡åœ¨ v1.17 ä¸­è¢«ç§»é™¤ï¼Œå»ºè­°ä½¿ç”¨ Redis é©…å‹•ã€‚ä¸‹é¢æä¾›å…©ç¨®å‡ç´šæ–¹å¼ï¼š ä»¥ä¸‹æä¾›å…©ç¨®å‡ç´šæ–¹æ³•ï¼š</p><h4 id="ç¹¼çºŒä½¿ç”¨-machinery-é©…å‹•" tabindex="-1">ç¹¼çºŒä½¿ç”¨ Machinery é©…å‹• <a class="header-anchor" href="#ç¹¼çºŒä½¿ç”¨-machinery-é©…å‹•" aria-label="Permalink to â€œç¹¼çºŒä½¿ç”¨ Machinery é©…å‹•â€">â€‹</a></h4><p>ä¿®æ”¹ <code>config/queue.go</code> æ–‡ä»¶ä¸­çš„é…ç½®ï¼š</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// config/queue.go</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot;connections&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &quot;redis&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">--    &quot;driver&quot;:     &quot;redis&quot;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++    &quot;driver&quot;:     &quot;machinery&quot;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &quot;connection&quot;: &quot;default&quot;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &quot;queue&quot;:      config.Env(&quot;REDIS_QUEUE&quot;, &quot;default&quot;),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><h4 id="ä½¿ç”¨-redis-éšŠåˆ—é©…å‹•" tabindex="-1">ä½¿ç”¨ Redis éšŠåˆ—é©…å‹• <a class="header-anchor" href="#ä½¿ç”¨-redis-éšŠåˆ—é©…å‹•" aria-label="Permalink to â€œä½¿ç”¨ Redis éšŠåˆ—é©…å‹•â€">â€‹</a></h4><p>ä¿®æ”¹ <code>config/queue.go</code> æ–‡ä»¶ä¸­çš„é…ç½®ï¼š</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// config/queue.go</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &quot;github.com/goravel/framework/contracts/queue&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  redisfacades &quot;github.com/goravel/redis/facades&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&quot;connections&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &quot;redis&quot;: map[string]any{</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">--  &quot;driver&quot;:     &quot;redis&quot;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++  &quot;driver&quot;:     &quot;custom&quot;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &quot;connection&quot;: &quot;default&quot;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &quot;queue&quot;:      config.Env(&quot;REDIS_QUEUE&quot;, &quot;default&quot;),</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++  &quot;via&quot;: func() (queue.Driver, error) {</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++    return redisfacades.Queue(&quot;redis&quot;) // \` + &quot;\`redis\`&quot; + \` å€¼æ˜¯ \` + &quot;\`connections\`&quot; + \` çš„éµ</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">++  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><p>æ–°çš„ Redis éšŠåˆ—é©…å‹•èˆ‡åŸ machinery éšŠåˆ—é©…å‹•çš„ä»»å‹™éƒ½ä¿å­˜åœ¨åŒä¸€å€‹ Redis ä¸­ï¼Œä½†ä½¿ç”¨ä¸åŒçš„éšŠåˆ—åç¨±ã€‚å³ä½¿ä½ åˆ‡æ›ç‚ºæ–°çš„ Redis éšŠåˆ—é©…å‹•ï¼Œæ¡†æ¶æœƒç¹¼çºŒè®€å–åŸ Machinery éšŠåˆ—é©…å‹•çš„ä»»å‹™ï¼Œç›´åˆ° Machinery ä¸­æ‰€æœ‰ä»»å‹™åŸ·è¡Œå®Œç•¢ã€‚åŒæ™‚ï¼Œæ–°çš„éšŠåˆ—ä»»å‹™ä¸å†å¯«å…¥ Machinery éšŠåˆ—ä¸­ï¼Œè€Œæ˜¯å¯«å…¥æ–°çš„ Redis éšŠåˆ—ï¼Œä¸¦è¢«æ–°çš„ Redis éšŠåˆ—é©…å‹•æ¶ˆè²»ã€‚ä»¥å¯¦ç¾å…©å€‹é©…å‹•é–“çš„ç„¡ç¸«åˆ‡æ›ã€‚ å³ä½¿ä½ åˆ‡æ›åˆ°æ–°çš„ Redis éšŠåˆ—é©…å‹•ï¼Œæ¡†æ¶å°‡ç¹¼çºŒè®€å–åŸå§‹ Machinery éšŠåˆ—é©…å‹•ä»»å‹™ç›´åˆ°å®Œæˆæ‰€æœ‰ä»»å‹™ã€‚ åŒæ™‚ï¼Œæ–°çš„éšŠåˆ—ä»»å‹™ä¸å†å¯«å…¥ Machinery éšŠåˆ—ï¼Œè€Œæ˜¯å¯«å…¥æ–°çš„ Redis éšŠåˆ—ï¼Œä¸¦ç”±æ–°çš„ Redis éšŠåˆ—é©…å‹•æ¶ˆè²»ã€‚ å¯¦ç¾å…©å€‹é©…å‹•ä¹‹é–“çš„ç„¡ç¸«åˆ‡æ›ã€‚</p><p>ä½ å¯ä»¥æª¢æŸ¥ Redis ä¸­å…©å€‹é©…å‹•çš„æ•¸æ“šï¼Œä»¥æŸ¥çœ‹å®ƒå€‘æ˜¯å¦æ­£ç¢ºå¯«å…¥å’Œæ¶ˆè²»ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">redis-cli</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç²å– Redis ä¸­æ‰€æœ‰çš„éµ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹ Machinery éšŠåˆ—é©…å‹•æ•¸æ“šï¼ˆæ›¿æ› {} ä¸­çš„å€¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">LRANGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {app_name}_queues:{queue_name}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹ Redis éšŠåˆ—é©…å‹•æ•¸æ“šï¼ˆæ›¿æ› {} ä¸­çš„å€¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">LRANGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {app_name}_queues:{connection}_{queue}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span></span></code></pre></div><h3 id="fix-bcc-and-cc-cannot-be-set-expectly-when-sending-mail" tabindex="-1">Fix bcc and cc cannot be set expectly when sending mail <a class="header-anchor" href="#fix-bcc-and-cc-cannot-be-set-expectly-when-sending-mail" aria-label="Permalink to â€œFix bcc and cc cannot be set expectly when sending mailâ€">â€‹</a></h3><p>goravel/framework: v1.16.1</p><p>Issue: <a href="https://github.com/goravel/goravel/issues/737" target="_blank" rel="noreferrer">#737</a></p><h3 id="fix-sending-mail-via-queue-returns-incorrect-error" tabindex="-1">Fix sending mail via queue returns incorrect error <a class="header-anchor" href="#fix-sending-mail-via-queue-returns-incorrect-error" aria-label="Permalink to â€œFix sending mail via queue returns incorrect errorâ€">â€‹</a></h3><p>goravel/framework: v1.16.1</p><p>PR: <a href="https://github.com/goravel/framework/pull/1148" target="_blank" rel="noreferrer">#1148</a></p><h3 id="fix-the-orm-create-events-can-be-triggered-when-creating-multiple-records" tabindex="-1">Fix the orm create events can be triggered when creating multiple records <a class="header-anchor" href="#fix-the-orm-create-events-can-be-triggered-when-creating-multiple-records" aria-label="Permalink to â€œFix the orm create events can be triggered when creating multiple recordsâ€">â€‹</a></h3><p>goravel/framework: v1.16.1</p><p>Issue: <a href="https://github.com/goravel/goravel/issues/738" target="_blank" rel="noreferrer">#738</a></p><h3 id="fix-the-make-package-command-generates-incorrect-code" tabindex="-1">Fix the make:package command generates incorrect code <a class="header-anchor" href="#fix-the-make-package-command-generates-incorrect-code" aria-label="Permalink to â€œFix the make:package command generates incorrect codeâ€">â€‹</a></h3><p>goravel/framework: v1.16.1</p><p>Issue: <a href="https://github.com/goravel/goravel/issues/743" target="_blank" rel="noreferrer">#743</a></p><h3 id="fix-the-path-is-incorrect-when-publishing-package-files" tabindex="-1">Fix the path is incorrect when publishing package files <a class="header-anchor" href="#fix-the-path-is-incorrect-when-publishing-package-files" aria-label="Permalink to â€œFix the path is incorrect when publishing package filesâ€">â€‹</a></h3><p>goravel/framework: v1.16.1</p><p>Issue: <a href="https://github.com/goravel/goravel/issues/749" target="_blank" rel="noreferrer">#749</a></p>`,216)]))}const c=i(t,[["render",l]]);export{g as __pageData,c as default};
