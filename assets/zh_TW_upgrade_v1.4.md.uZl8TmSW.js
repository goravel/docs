import{_ as a,f as r,o as t,an as i}from"./chunks/framework.CFMQV-X7.js";const d=JSON.parse('{"title":"從 v1.3 升級到 v1.4","description":"","frontmatter":{},"headers":[],"relativePath":"zh_TW/upgrade/v1.4.md","filePath":"zh_TW/upgrade/v1.4.md","lastUpdated":1761445110000}'),o={name:"zh_TW/upgrade/v1.4.md"};function l(s,e,h,p,n,c){return t(),r("div",null,e[0]||(e[0]=[i('<h1 id="從-v1-3-升級到-v1-4" tabindex="-1">從 v1.3 升級到 v1.4 <a class="header-anchor" href="#從-v1-3-升級到-v1-4" aria-label="Permalink to “從 v1.3 升級到 v1.4”">​</a></h1><nav class="table-of-contents"><ul><li><a href="#高影響變更">高影響變更</a></li><li><a href="#低影響變化">低影響變化</a></li><li><a href="#升級指南">升級指南</a><ul><li><a href="#更新依賴">更新依賴</a></li><li><a href="#優化-grpc-模組">優化 Grpc 模組</a></li><li><a href="#優化路由註冊">優化路由註冊</a></li><li><a href="#http-context-新增方法">http.Context 新增方法</a></li><li><a href="#request-新增方法">Request 新增方法</a></li></ul></li></ul></nav><h2 id="高影響變更" tabindex="-1">高影響變更 <a class="header-anchor" href="#高影響變更" aria-label="Permalink to “高影響變更”">​</a></h2><ul><li><a href="#優化-grpc-模組">優化 Grpc 模組</a></li><li><a href="#優化路由註冊">優化路由註冊</a></li></ul><h2 id="低影響變化" tabindex="-1">低影響變化 <a class="header-anchor" href="#低影響變化" aria-label="Permalink to “低影響變化”">​</a></h2><ul><li><a href="#新增-http-context-方法">新增 http.Context 方法</a></li><li><a href="#新增-request-方法">新增 Request 方法</a></li></ul><h2 id="升級指南" tabindex="-1">升級指南 <a class="header-anchor" href="#升級指南" aria-label="Permalink to “升級指南”">​</a></h2><p><strong>預估升級時間：1 分鐘</strong></p><h3 id="更新依賴" tabindex="-1">更新依賴 <a class="header-anchor" href="#更新依賴" aria-label="Permalink to “更新依賴”">​</a></h3><p><strong>影響可能性：高</strong></p><p>在 <code>go.mod</code> 文件中更新依賴：</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">github.com</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">goravel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">framework v1.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4.0</span></span></code></pre></div><h3 id="優化-grpc-模組" tabindex="-1">優化 Grpc 模組 <a class="header-anchor" href="#優化-grpc-模組" aria-label="Permalink to “優化 Grpc 模組”">​</a></h3><p><strong>影響可能性：高</strong></p><ol><li>新增 <a href="https://github.com/goravel/goravel/blob/v1.4.0/app/grpc/kernel.go" target="_blank" rel="noreferrer">app/grpc/kernel.go</a> 檔案；</li><li>新增 <a href="https://github.com/goravel/goravel/tree/v1.4.0/app/grpc/interceptors" target="_blank" rel="noreferrer">app/grpc/interceptors</a> 目錄；</li><li>新增 <a href="https://github.com/goravel/goravel/blob/v1.4.0/config/grpc.go" target="_blank" rel="noreferrer">config/grpc.go</a> 檔案；</li><li>新增 <a href="https://github.com/goravel/goravel/blob/v1.4.0/routes/grpc.go" target="_blank" rel="noreferrer">routes/grpc.go</a> 檔案；</li><li>在 <a href="https://github.com/goravel/goravel/blob/v1.4.0/app/providers/grpc_service_provider.go" target="_blank" rel="noreferrer">app/providers/grpc_service_provider.go</a> 中新增註冊攔截器邏輯；</li><li>在 <a href="https://github.com/goravel/goravel/blob/v1.4.0/config/app.go" target="_blank" rel="noreferrer">config/app.go</a> 檔案中刪除 <code>grpc_host</code> 鍵值；</li></ol><p><a href="./../the-basics/grpc.html">查看文檔</a></p><h3 id="優化路由註冊" tabindex="-1">優化路由註冊 <a class="header-anchor" href="#優化路由註冊" aria-label="Permalink to “優化路由註冊”">​</a></h3><p><strong>影響可能性：高</strong></p><p>在 <a href="https://github.com/goravel/goravel/blob/v1.4.0/app/providers/route_service_provider.go" target="_blank" rel="noreferrer">app/providers/route_service_provider.go</a> 檔案中，將 <code>routes.Web()</code> 從 <code>Register()</code> 移動至 <code>Boot()</code>；</p><h3 id="http-context-新增方法" tabindex="-1">http.Context 新增方法 <a class="header-anchor" href="#http-context-新增方法" aria-label="Permalink to “http.Context 新增方法”">​</a></h3><p><strong>影響可能性：低</strong></p><p>新增 <code>ctx.Context()</code> 方法。</p><p><a href="./../the-basics/request.html#get-context">查看文檔</a></p><h3 id="request-新增方法" tabindex="-1">Request 新增方法 <a class="header-anchor" href="#request-新增方法" aria-label="Permalink to “Request 新增方法”">​</a></h3><p><strong>影響可能性：低</strong></p><p>新增 <code>ctx.Request().AbortWithStatusJson</code> 方法。</p><p><a href="./../the-basics/request.html#中斷請求">查看文檔</a></p>',27)]))}const b=a(o,[["render",l]]);export{d as __pageData,b as default};
