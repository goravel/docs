# ä» v1.13 å‡çº§åˆ° v1.14

### ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½ ğŸ‰

- [æœ¬åœ°åŒ–](#æœ¬åœ°åŒ–)

### åŠŸèƒ½å¢å¼º ğŸš€

- [gin å’Œ fiber é©±åŠ¨æ”¯æŒè®¾ç½® body_limit](#gin-å’Œ-fiber-é©±åŠ¨æ”¯æŒè®¾ç½®-body-limit)
- [Log æ¨¡å—æ”¯æŒæ‰‹åŠ¨å¢åŠ å †æ ˆä¿¡æ¯](#log-æ¨¡å—æ”¯æŒæ‰‹åŠ¨å¢åŠ å †æ ˆä¿¡æ¯)

### ç ´åæ€§å˜åŒ– ğŸ› 

- [Validation å¦‚æœéªŒè¯å¤±è´¥å°†ä¸ç»‘å®šæ•°æ®](#validation-å¦‚æœéªŒè¯å¤±è´¥å°†ä¸ç»‘å®šæ•°æ®)
- [Testing æ¨¡å—æ–°å¢ã€ä¿®æ”¹æ–¹æ³•](#testing-æ¨¡å—æ–°å¢-ä¿®æ”¹æ–¹æ³•)
- [ä¼˜åŒ– Mail æ¨¡å—çš„ Queue æ–¹æ³•](#ä¼˜åŒ–-mail-æ¨¡å—çš„-queue-æ–¹æ³•)

### Bug ä¿®å¤ ğŸ›

## å‡çº§æŒ‡å—

è¯·æ ¹æ®æœ¬èŠ‚å†…å®¹ï¼Œä¸€æ­¥æ­¥è¿›è¡Œæ¡†æ¶å‡çº§ã€‚

**é¢„è®¡å‡çº§æ—¶é—´ï¼š10 åˆ†é’Ÿ**

### 1. æ›´æ–°ä¾èµ–

`go.mod` ä¸­æ›´æ–°ä¾èµ–ï¼š

```
go get -u github.com/goravel/framework@v1.14.0

// å¦‚æœä½¿ç”¨ gin
go get -u github.com/goravel/gin@v1.2.0

// å¦‚æœä½¿ç”¨ fiber
go get -u github.com/goravel/fiber@v1.2.0

//å¦‚æœä½¿ç”¨å…¶ä»–åŒ…
// TODO
```

### 2. å¦‚æœæ­£åœ¨ä½¿ç”¨ Validation æ¨¡å—

æ£€æŸ¥æ˜¯å¦åœ¨æ ¡éªŒæ•°æ®å¤±è´¥çš„æƒ…å†µä¸‹ä¾ç„¶å°è¯•è¯»å–ç»‘å®šå€¼ï¼Œå¦‚æœæœ‰ï¼Œéœ€ä¼˜åŒ–é€»è¾‘ï¼Œå› ä¸ºè¯¥å€¼å‡çº§åä¸ºç©ºï¼Œè¯¦è§ï¼š[Validation å¦‚æœéªŒè¯å¤±è´¥å°†ä¸ç»‘å®šæ•°æ®](#validation-å¦‚æœéªŒè¯å¤±è´¥å°†ä¸ç»‘å®šæ•°æ®)

### 3. å¦‚æœæ­£åœ¨ä½¿ç”¨ Testing æ¨¡å—

æ£€æŸ¥æ˜¯å¦ä½¿ç”¨ `Clear`, `Image` æ–¹æ³•ï¼Œå¦‚æœæœ‰ï¼Œéœ€ç›¸åº”ä¿®æ”¹ï¼š[Testing æ¨¡å—æ–°å¢ã€ä¿®æ”¹æ–¹æ³•](#testing-æ¨¡å—æ–°å¢-ä¿®æ”¹æ–¹æ³•)

### 4. å¦‚æœæ­£åœ¨ä½¿ç”¨ Mail æ¨¡å—

æ£€æŸ¥æ˜¯å¦ä½¿ç”¨ `Queue` æ–¹æ³•ï¼Œå¦‚æœæœ‰ï¼Œéœ€ç›¸åº”ä¿®æ”¹ï¼š[ä¼˜åŒ– Mail æ¨¡å—çš„ Queue æ–¹æ³•](#ä¼˜åŒ–-mail-æ¨¡å—çš„-queue-æ–¹æ³•)

## åŠŸèƒ½ä»‹ç»

### æœ¬åœ°åŒ–

Version: v1.14.0

[æŸ¥çœ‹æ–‡æ¡£](../digging-deeper/localization.md)

### gin å’Œ fiber é©±åŠ¨æ”¯æŒè®¾ç½® body_limit

Version: v1.14.0

HTTP é©±åŠ¨æ”¯æŒè®¾ç½® body_limit ä»¥é™åˆ¶ body å¤§å°ï¼Œè¯¦è§ï¼š[goravel/gin](https://github.com/goravel/gin/blob/c9d7706a6a04c05c8c33af5c97877a1ad2ea6362/README.md?plain=1#L54) å’Œ [goravel/fiber](https://github.com/goravel/fiber/blob/aa63ab657cd2b371fcda4df0090a41226f6c0704/README.md?plain=1#L56)ã€‚

### Log æ¨¡å—æ”¯æŒæ‰‹åŠ¨å¢åŠ å †æ ˆä¿¡æ¯

Version: v1.14.0

æ–°å¢ `facades.Log().WithTrace()` æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ‰“å°æ—¥å¿—æ—¶åŒæ—¶æ‰“å°å †æ ˆä¿¡æ¯ã€‚

### Validation å¦‚æœéªŒè¯å¤±è´¥å°†ä¸ç»‘å®šæ•°æ®

Version: v1.14.0

ä¹‹å‰åœ¨è°ƒç”¨ä¸‹é¢æ–¹å¼æ—¶ï¼Œå¦‚æœéªŒè¯å¤±è´¥ `userRequest` ä¾ç„¶ç»‘å®šäº†å€¼ï¼Œå‡çº§ååˆ™ä¸å†ç»‘å®šã€‚

```
var userRequest requests.UserRequest
errors, err := ctx.Request().ValidateRequest(&userRequest)

// or
validator, err := validation.Make(***)
err = validator.Bind(&userRequest)
```

### Testing æ¨¡å—æ–°å¢ã€ä¿®æ”¹æ–¹æ³•

Version: v1.14.0

1. æ–°å¢ [Fresh](../testing/getting-started.md#é‡ç½®æ•°æ®åº“) æ–¹æ³•ï¼›
2. ä¿®æ”¹ `Clear` æ–¹æ³•ä¸º [Stop](../testing/getting-started.md#å¸è½½é•œåƒ) æ–¹æ³•ï¼›
3. `Image` æ–¹æ³•æ–°å¢ `ExposedPorts` å‚æ•°ï¼Œåˆ é™¤ `Timeout` å‚æ•°ï¼›

```
database, err := facades.Testing().Docker().Database()
database.Image(testingcontract.Image{
  Repository: "mysql",
  Tag:        "5.7",
  Env: []string{
    "MYSQL_ROOT_PASSWORD=123123",
    "MYSQL_DATABASE=goravel",
  },
  -- Timeout: 1000,
  ++ ExposedPorts: []string{"3306"},
})
```

### ä¼˜åŒ– Mail æ¨¡å—çš„ Queue æ–¹æ³•

Version: v1.14.0

`Queue` æ–¹æ³•çš„å…¥å‚ç”± `queue *mail.Queue` æ”¹ä¸º `queue ...mail.Queue`ã€‚

```
-- facades.Mail().Queue(nil)
++ facades.Mail().Queue()

-- facades.Mail().Queue(&mail.Queue{})
++ facades.Mail().Queue(mail.Queue{})
```
