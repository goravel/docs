# ä» v1.12 å‡çº§åˆ° v1.13

[[toc]]

### ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½ ğŸ‰

- [æ•°æ®å¡«å……](#æ•°æ®å¡«å……)
- [æ¨¡å‹å·¥å‚](#æ¨¡å‹å·¥å‚)
- [é›†æˆæµ‹è¯•](#é›†æˆæµ‹è¯•)

### åŠŸèƒ½å¢å¼º ğŸš€

- [ä»»åŠ¡è°ƒåº¦æ”¯æŒæ¨ªå‘ä¼¸ç¼©](#ä»»åŠ¡è°ƒåº¦æ”¯æŒæ¨ªå‘ä¼¸ç¼©)
- [æ–°å¢ debug æ–¹æ³•](#æ–°å¢-debug-æ–¹æ³•)
- [make:controller å‘½ä»¤æ–°å¢å‚æ•°](#make-controller-å‘½ä»¤æ–°å¢å‚æ•°)
- [Response æ–°å¢ Status æ–¹æ³•](#response-æ–°å¢-status-æ–¹æ³•)
- [Orm æ–°å¢ Sum å’Œ Cursor æ–¹æ³•](#orm-æ–°å¢-sum-å’Œ-cursor-æ–¹æ³•)

### ç ´åæ€§å˜åŒ– ğŸ› 

- [ä¼˜åŒ– facades.Cache() ä¸­ Remember ä¸ RememberForever æ–¹æ³•](#5--ä¿®æ”¹-facades-cache-ä¸­-remember-ä¸-rememberforever-æ–¹æ³•ï¼ˆå¦‚æœç”¨åˆ°ï¼‰)

### Bug ä¿®å¤ ğŸ›

- [ä¿®å¤ facades.Auth().User() çš„é—®é¢˜](#ä¿®å¤-facades-auth-user-çš„é—®é¢˜)
- [ä¿®å¤è‡ªå®šä¹‰ .env è·¯ç”±æŸäº›æƒ…å†µä¸‹ä¸ç”Ÿæ•ˆçš„é—®é¢˜](#ä¿®å¤è‡ªå®šä¹‰-env-è·¯ç”±æŸäº›æƒ…å†µä¸‹ä¸ç”Ÿæ•ˆçš„é—®é¢˜)

## å‡çº§æŒ‡å—

è¯·æ ¹æ®æœ¬èŠ‚å†…å®¹ï¼Œä¸€æ­¥æ­¥è¿›è¡Œæ¡†æ¶å‡çº§ã€‚

**é¢„è®¡å‡çº§æ—¶é—´ï¼š5 åˆ†é’Ÿ**

### 1. æ›´æ–°ä¾èµ–

`go.mod` ä¸­æ›´æ–°ä¾èµ–ï¼š

```
go get -u github.com/goravel/framework@v1.13.0 && go mod tidy
```

### 2. æ–°å¢ `database/seeders/database_seeder.go` æ–‡ä»¶

```go
package seeders

type DatabaseSeeder struct {
}

// Signature The name and signature of the seeder.
func (s *DatabaseSeeder) Signature() string {
  return "DatabaseSeeder"
}

// Run executes the seeder logic.
func (s *DatabaseSeeder) Run() error {
  return nil
}
```

### 3. æ–°å¢ `app/providers/database_service_provider.go` æ–‡ä»¶

```go
package providers

import (
  "github.com/goravel/framework/contracts/database/seeder"
  "github.com/goravel/framework/contracts/foundation"
  "github.com/goravel/framework/facades"

  "goravel/database/seeders"
)

type DatabaseServiceProvider struct {
}

func (receiver *DatabaseServiceProvider) Register(app foundation.Application) {

}

func (receiver *DatabaseServiceProvider) Boot(app foundation.Application) {
  facades.Seeder().Register([]seeder.Seeder{
    &seeders.DatabaseSeeder{},
  })
}
```

### 4. æ–°å¢ `tests` æ–‡ä»¶å¤¹

[æŸ¥çœ‹è¯¦æƒ…](https://github.com/goravel/goravel/tree/master/tests)

### 5. æ³¨å†Œæ–°çš„ Provider

æ³¨æ„é¡ºåºï¼š

```go
// config/app.go
"providers": []foundation.ServiceProvider{
  ...
  &validation.ServiceProvider{},
  // New
	&testing.ServiceProvider{},
	&providers.AppServiceProvider{},
  ...
  &providers.ValidationServiceProvider{},
  // New
  &providers.DatabaseServiceProvider{},
}
```

### 6. ä¿®æ”¹ facades.Cache() ä¸­ Remember ä¸ RememberForever æ–¹æ³•ï¼ˆå¦‚æœç”¨åˆ°ï¼‰

`callback` ç±»å‹ç”± `func() any` ä¿®æ”¹ä¸º `func() (any, error)`ï¼š

```go
// ä¿®æ”¹å‰
Remember(key string, ttl time.Duration, callback func() any) (any, error)
RememberForever(key string, callback func() any) (any, error)

// ä¿®æ”¹å
Remember(key string, ttl time.Duration, callback func() (any, error)) (any, error)
RememberForever(key string, callback func() (any, error)) (any, error)
```

## åŠŸèƒ½ä»‹ç»

### æ•°æ®å¡«å……

Version: v1.13.0

[æŸ¥çœ‹æ–‡æ¡£](../orm/seeding.md)

### æ¨¡å‹å·¥å‚

Version: v1.13.0

[æŸ¥çœ‹æ–‡æ¡£](../orm/factories.md)

### é›†æˆæµ‹è¯•

Version: v1.13.0

[æŸ¥çœ‹æ–‡æ¡£](../testing/getting-started.md)

### ä»»åŠ¡è°ƒåº¦æ”¯æŒæ¨ªå‘ä¼¸ç¼©

Version: v1.13.0

[æŸ¥çœ‹æ–‡æ¡£](../digging-deeper/task-scheduling.md#ä»»åŠ¡åªè¿è¡Œåœ¨ä¸€å°æœåŠ¡å™¨ä¸Š)

### æ–°å¢ debug æ–¹æ³•

Version: v1.13.0

[æŸ¥çœ‹æ–‡æ¡£](../digging-deeper/helpers.md#debug)

### make:controller å‘½ä»¤æ–°å¢å‚æ•°

Version: v1.13.0

`make:controller` å‘½ä»¤æ–°å¢ `--resource` å‚æ•°ï¼Œå¯ä»¥ä¾¿æ·çš„ç”Ÿæˆ CURD structï¼š

```
go run . artisan make:controller --resource UserController
```

### Response æ–°å¢ Status æ–¹æ³•

Version: v1.13.0

[æŸ¥çœ‹æ–‡æ¡£](../the-basics/response.md#è‡ªå®šä¹‰-code)

### Orm æ–°å¢ Sum å’Œ Cursor æ–¹æ³•

Version: v1.13.0

[æŸ¥çœ‹æ–‡æ¡£](../orm/getting-started.md#facadesormquery--facadesormtransaction-å¯ç”¨æ–¹æ³•)

### ä¿®å¤ facades.Auth().User() çš„é—®é¢˜

Version: v1.13.0

1. ä¿®å¤ä½¿ç”¨ `facades.Auth().User(ctx, &user)` æ–¹æ³•æ—¶ï¼Œå¦‚æœ `user` ä¸å­˜åœ¨ä¸æŠ›å‡ºé”™è¯¯çš„é—®é¢˜ã€‚

2. ä¿®å¤å½“ä¸»é”®é `int` ç±»å‹æ—¶ï¼Œæ— æ³•æ‰¾åˆ° `user` çš„é—®é¢˜ï¼›

### ä¿®å¤è‡ªå®šä¹‰ .env è·¯ç”±æŸäº›æƒ…å†µä¸‹ä¸ç”Ÿæ•ˆçš„é—®é¢˜

Version: v1.13.0

